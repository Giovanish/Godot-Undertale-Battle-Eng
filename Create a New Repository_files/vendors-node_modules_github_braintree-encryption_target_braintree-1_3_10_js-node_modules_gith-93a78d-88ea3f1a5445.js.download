(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["vendors-node_modules_github_braintree-encryption_target_braintree-1_3_10_js-node_modules_gith-93a78d"],{13462(a,b,c){!/*!
 * Braintree End-to-End Encryption Library
 * https://www.braintreepayments.com
 * Copyright (c) 2009-2014 Braintree, a division of PayPal, Inc.
 *
 * JSBN
 * Copyright (c) 2005  Tom Wu
 *
 * Both Licensed under the MIT License.
 * http://opensource.org/licenses/MIT
 *
 * ASN.1 JavaScript decoder
 * Copyright (c) 2008-2009 Lapo Luchini <lapo@lapo.it>
 * Licensed under the ISC License.
 * http://opensource.org/licenses/ISC
 */ function(){function b(a,c){a instanceof b?(this.enc=a.enc,this.pos=a.pos):(this.enc=a,this.pos=c)}function c(a,b,c,d,e){this.stream=a,this.header=b,this.length=c,this.tag=d,this.sub=e}b.prototype.get=function(a){if(void 0==a&&(a=this.pos++),a>=this.enc.length)throw"Requesting byte offset "+a+" on a stream of length "+this.enc.length;return this.enc[a]},b.prototype.hexDigits="0123456789ABCDEF",b.prototype.hexByte=function(a){return this.hexDigits.charAt(a>>4&15)+this.hexDigits.charAt(15&a)},b.prototype.hexDump=function(a,b){for(var c="",d=a;d<b;++d)switch(c+=this.hexByte(this.get(d)),15&d){case 7:c+="  ";break;case 15:c+="\n";break;default:c+=" "}return c},b.prototype.parseStringISO=function(a,b){for(var c="",d=a;d<b;++d)c+=String.fromCharCode(this.get(d));return c},b.prototype.parseStringUTF=function(a,b){for(var c="",d=0,e=a;e<b;){var d=this.get(e++);d<128?c+=String.fromCharCode(d):d>191&&d<224?c+=String.fromCharCode((31&d)<<6|63&this.get(e++)):c+=String.fromCharCode((15&d)<<12|(63&this.get(e++))<<6|63&this.get(e++))}return c},b.prototype.reTime=/^((?:1[89]|2\d)?\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,b.prototype.parseTime=function(a,b){var c=this.parseStringISO(a,b),d=this.reTime.exec(c);return d?(c=d[1]+"-"+d[2]+"-"+d[3]+" "+d[4],d[5]&&(c+=":"+d[5],d[6]&&(c+=":"+d[6],d[7]&&(c+="."+d[7]))),d[8]&&(c+=" UTC","Z"!=d[8]&&(c+=d[8],d[9]&&(c+=":"+d[9]))),c):"Unrecognized time: "+c},b.prototype.parseInteger=function(a,b){var c=b-a;if(c>4){c<<=3;var d=this.get(a);if(0==d)c-=8;else for(;d<128;)d<<=1,--c;return"("+c+" bit)"}for(var e=0,f=a;f<b;++f)e=e<<8|this.get(f);return e},b.prototype.parseBitString=function(a,b){var c=this.get(a),d=(b-a-1<<3)-c,e="("+d+" bit)";if(d<=20){var f=c;e+=" ";for(var g=b-1;g>a;--g){for(var h=this.get(g),i=f;i<8;++i)e+=h>>i&1?"1":"0";f=0}}return e},b.prototype.parseOctetString=function(a,b){var c=b-a,d="("+c+" byte) ";c>20&&(b=a+20);for(var e=a;e<b;++e)d+=this.hexByte(this.get(e));return c>20&&(d+="\u2026"),d},b.prototype.parseOID=function(a,b){for(var c,d=0,e=0,f=a;f<b;++f){var g=this.get(f);d=d<<7|127&g,e+=7,128&g||(void 0==c?c=parseInt(d/40)+"."+d%40:c+="."+(e>=31?"bigint":d),d=e=0),c+=String.fromCharCode()}return c},c.prototype.typeName=function(){if(void 0==this.tag)return"unknown";var a=this.tag>>6;this.tag;var b=31&this.tag;switch(a){case 0:switch(b){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString";default:return"Universal_"+b.toString(16)}case 1:return"Application_"+b.toString(16);case 2:return"["+b+"]";case 3:return"Private_"+b.toString(16)}},c.prototype.content=function(){if(void 0==this.tag)return null;if(0!=this.tag>>6)return null==this.sub?null:"("+this.sub.length+")";var a=31&this.tag,b=this.posContent(),c=Math.abs(this.length);switch(a){case 1:return 0==this.stream.get(b)?"false":"true";case 2:return this.stream.parseInteger(b,b+c);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(b,b+c);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(b,b+c);case 6:return this.stream.parseOID(b,b+c);case 16:case 17:return"("+this.sub.length+" elem)";case 12:return this.stream.parseStringUTF(b,b+c);case 18:case 19:case 20:case 21:case 22:case 26:return this.stream.parseStringISO(b,b+c);case 23:case 24:return this.stream.parseTime(b,b+c)}return null},c.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null==this.sub?"null":this.sub.length)+"]"},c.prototype.print=function(a){if(void 0==a&&(a=""),document.writeln(a+this),null!=this.sub){a+="  ";for(var b=0,c=this.sub.length;b<c;++b)this.sub[b].print(a)}},c.prototype.toPrettyString=function(a){void 0==a&&(a="");var b=a+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(b+="+"),b+=this.length,32&this.tag?b+=" (constructed)":(3==this.tag||4==this.tag)&&null!=this.sub&&(b+=" (encapsulates)"),b+="\n",null!=this.sub){a+="  ";for(var c=0,d=this.sub.length;c<d;++c)b+=this.sub[c].toPrettyString(a)}return b},c.prototype.posStart=function(){return this.stream.pos},c.prototype.posContent=function(){return this.stream.pos+this.header},c.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},c.decodeLength=function(a){var b=a.get(),c=127&b;if(c==b)return c;if(c>3)throw"Length over 24 bits not supported at position "+(a.pos-1);if(0==c)return -1;b=0;for(var d=0;d<c;++d)b=b<<8|a.get();return b},c.hasContent=function(a,d,e){if(32&a)return!0;if(a<3||a>4)return!1;var f=new b(e);if(3==a&&f.get(),f.get()>>6&1)return!1;try{var g=c.decodeLength(f);return f.pos-e.pos+g==d}catch(h){return!1}},c.decode=function(a){a instanceof b||(a=new b(a,0));var d=new b(a),e=a.get(),f=c.decodeLength(a),g=a.pos-d.pos,h=null;if(c.hasContent(e,f,a)){var i=a.pos;if(3==e&&a.get(),h=[],f>=0){for(var j=i+f;a.pos<j;)h[h.length]=c.decode(a);if(a.pos!=j)throw"Content size is not correct for container starting at offset "+i}else try{for(;;){var k=c.decode(a);if(0==k.tag)break;h[h.length]=k}f=i-a.pos}catch(l){throw"Exception while decoding undefined length content: "+l}}else a.pos+=f;return new c(d,g,f,e,h)};var d,e,f,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function h(a,b,c){null!=a&&("number"==typeof a?this.fromNumber(a,b,c):null==b&&"string"!=typeof a?this.fromString(a,256):this.fromString(a,b))}function i(){return new h(null)}"Microsoft Internet Explorer"==navigator.appName?(h.prototype.am=function(a,b,c,d,e,f){for(var g=32767&b,h=b>>15;--f>=0;){var i=32767&this[a],j=this[a++]>>15,k=h*i+j*g;e=((i=g*i+((32767&k)<<15)+c[d]+(1073741823&e))>>>30)+(k>>>15)+h*j+(e>>>30),c[d++]=1073741823&i}return e},d=30):"Netscape"!=navigator.appName?(h.prototype.am=function(a,b,c,d,e,f){for(;--f>=0;){var g=b*this[a++]+c[d]+e;e=Math.floor(g/67108864),c[d++]=67108863&g}return e},d=26):(h.prototype.am=function(a,b,c,d,e,f){for(var g=16383&b,h=b>>14;--f>=0;){var i=16383&this[a],j=this[a++]>>14,k=h*i+j*g;e=((i=g*i+((16383&k)<<14)+c[d]+e)>>28)+(k>>14)+h*j,c[d++]=268435455&i}return e},d=28),h.prototype.DB=d,h.prototype.DM=(1<<d)-1,h.prototype.DV=1<<d,h.prototype.FV=4503599627370496,h.prototype.F1=52-d,h.prototype.F2=2*d-52;var j=[];for(f=0,e=48;f<=9;++f)j[e++]=f;for(f=10,e=97;f<36;++f)j[e++]=f;for(f=10,e=65;f<36;++f)j[e++]=f;function k(a){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(a)}function l(a,b){var c=j[a.charCodeAt(b)];return null==c?-1:c}function m(a){var b=i();return b.fromInt(a),b}function n(a){var b,c=1;return 0!=(b=a>>>16)&&(a=b,c+=16),0!=(b=a>>8)&&(a=b,c+=8),0!=(b=a>>4)&&(a=b,c+=4),0!=(b=a>>2)&&(a=b,c+=2),0!=(b=a>>1)&&(a=b,c+=1),c}function o(a){this.m=a}function p(a){return a}function q(a){this.m=a,this.mp=a.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<a.DB-15)-1,this.mt2=2*a.t}function r(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}"use strict";o.prototype.convert=function(a){return a.s<0||a.compareTo(this.m)>=0?a.mod(this.m):a},o.prototype.revert=p,o.prototype.reduce=function(a){a.divRemTo(this.m,null,a)},o.prototype.mulTo=function(a,b,c){a.multiplyTo(b,c),this.reduce(c)},o.prototype.sqrTo=function(a,b){a.squareTo(b),this.reduce(b)},q.prototype.convert=function(a){var b=i();return a.abs().dlShiftTo(this.m.t,b),b.divRemTo(this.m,null,b),a.s<0&&b.compareTo(h.ZERO)>0&&this.m.subTo(b,b),b},q.prototype.revert=function(a){var b=i();return a.copyTo(b),this.reduce(b),b},q.prototype.reduce=function(a){for(;a.t<=this.mt2;)a[a.t++]=0;for(var b=0;b<this.m.t;++b){var c=32767&a[b],d=c*this.mpl+((c*this.mph+(a[b]>>15)*this.mpl&this.um)<<15)&a.DM;for(c=b+this.m.t,a[c]+=this.m.am(0,d,a,b,0,this.m.t);a[c]>=a.DV;)a[c]-=a.DV,a[++c]++}a.clamp(),a.drShiftTo(this.m.t,a),a.compareTo(this.m)>=0&&a.subTo(this.m,a)},q.prototype.mulTo=function(a,b,c){a.multiplyTo(b,c),this.reduce(c)},q.prototype.sqrTo=function(a,b){a.squareTo(b),this.reduce(b)},h.prototype.copyTo=function(a){for(var b=this.t-1;b>=0;--b)a[b]=this[b];a.t=this.t,a.s=this.s},h.prototype.fromInt=function(a){this.t=1,this.s=a<0?-1:0,a>0?this[0]=a:a< -1?this[0]=a+this.DV:this.t=0},h.prototype.fromString=function(a,b){if(16==b)c=4;else if(8==b)c=3;else if(256==b)c=8;else if(2==b)c=1;else if(32==b)c=5;else if(4==b)c=2;else{this.fromRadix(a,b);return}this.t=0,this.s=0;for(var c,d=a.length,e=!1,f=0;--d>=0;){var g=8==c?255&a[d]:l(a,d);if(g<0){"-"==a.charAt(d)&&(e=!0);continue}e=!1,0==f?this[this.t++]=g:f+c>this.DB?(this[this.t-1]|=(g&(1<<this.DB-f)-1)<<f,this[this.t++]=g>>this.DB-f):this[this.t-1]|=g<<f,(f+=c)>=this.DB&&(f-=this.DB)}8==c&&(128&a[0])!=0&&(this.s=-1,f>0&&(this[this.t-1]|=(1<<this.DB-f)-1<<f)),this.clamp(),e&&h.ZERO.subTo(this,this)},h.prototype.clamp=function(){for(var a=this.s&this.DM;this.t>0&&this[this.t-1]==a;)--this.t},h.prototype.dlShiftTo=function(a,b){var c;for(c=this.t-1;c>=0;--c)b[c+a]=this[c];for(c=a-1;c>=0;--c)b[c]=0;b.t=this.t+a,b.s=this.s},h.prototype.drShiftTo=function(a,b){for(var c=a;c<this.t;++c)b[c-a]=this[c];b.t=Math.max(this.t-a,0),b.s=this.s},h.prototype.lShiftTo=function(a,b){var c,d=a%this.DB,e=this.DB-d,f=(1<<e)-1,g=Math.floor(a/this.DB),h=this.s<<d&this.DM;for(c=this.t-1;c>=0;--c)b[c+g+1]=this[c]>>e|h,h=(this[c]&f)<<d;for(c=g-1;c>=0;--c)b[c]=0;b[g]=h,b.t=this.t+g+1,b.s=this.s,b.clamp()},h.prototype.rShiftTo=function(a,b){b.s=this.s;var c=Math.floor(a/this.DB);if(c>=this.t){b.t=0;return}var d=a%this.DB,e=this.DB-d,f=(1<<d)-1;b[0]=this[c]>>d;for(var g=c+1;g<this.t;++g)b[g-c-1]|=(this[g]&f)<<e,b[g-c]=this[g]>>d;d>0&&(b[this.t-c-1]|=(this.s&f)<<e),b.t=this.t-c,b.clamp()},h.prototype.subTo=function(a,b){for(var c=0,d=0,e=Math.min(a.t,this.t);c<e;)d+=this[c]-a[c],b[c++]=d&this.DM,d>>=this.DB;if(a.t<this.t){for(d-=a.s;c<this.t;)d+=this[c],b[c++]=d&this.DM,d>>=this.DB;d+=this.s}else{for(d+=this.s;c<a.t;)d-=a[c],b[c++]=d&this.DM,d>>=this.DB;d-=a.s}b.s=d<0?-1:0,d< -1?b[c++]=this.DV+d:d>0&&(b[c++]=d),b.t=c,b.clamp()},h.prototype.multiplyTo=function(a,b){var c=this.abs(),d=a.abs(),e=c.t;for(b.t=e+d.t;--e>=0;)b[e]=0;for(e=0;e<d.t;++e)b[e+c.t]=c.am(0,d[e],b,e,0,c.t);b.s=0,b.clamp(),this.s!=a.s&&h.ZERO.subTo(b,b)},h.prototype.squareTo=function(a){for(var b=this.abs(),c=a.t=2*b.t;--c>=0;)a[c]=0;for(c=0;c<b.t-1;++c){var d=b.am(c,b[c],a,2*c,0,1);(a[c+b.t]+=b.am(c+1,2*b[c],a,2*c+1,d,b.t-c-1))>=b.DV&&(a[c+b.t]-=b.DV,a[c+b.t+1]=1)}a.t>0&&(a[a.t-1]+=b.am(c,b[c],a,2*c,0,1)),a.s=0,a.clamp()},h.prototype.divRemTo=function(a,b,c){var d=a.abs();if(!(d.t<=0)){var e=this.abs();if(e.t<d.t){null!=b&&b.fromInt(0),null!=c&&this.copyTo(c);return}null==c&&(c=i());var f=i(),g=this.s,j=a.s,k=this.DB-n(d[d.t-1]);k>0?(d.lShiftTo(k,f),e.lShiftTo(k,c)):(d.copyTo(f),e.copyTo(c));var l=f.t,m=f[l-1];if(0!=m){var o=m*(1<<this.F1)+(l>1?f[l-2]>>this.F2:0),p=this.FV/o,q=(1<<this.F1)/o,r=1<<this.F2,s=c.t,t=s-l,u=null==b?i():b;for(f.dlShiftTo(t,u),c.compareTo(u)>=0&&(c[c.t++]=1,c.subTo(u,c)),h.ONE.dlShiftTo(l,u),u.subTo(f,f);f.t<l;)f[f.t++]=0;for(;--t>=0;){var v=c[--s]==m?this.DM:Math.floor(c[s]*p+(c[s-1]+r)*q);if((c[s]+=f.am(0,v,c,t,0,l))<v)for(f.dlShiftTo(t,u),c.subTo(u,c);c[s]< --v;)c.subTo(u,c)}null!=b&&(c.drShiftTo(l,b),g!=j&&h.ZERO.subTo(b,b)),c.t=l,c.clamp(),k>0&&c.rShiftTo(k,c),g<0&&h.ZERO.subTo(c,c)}}},h.prototype.invDigit=function(){if(this.t<1)return 0;var a=this[0];if((1&a)==0)return 0;var b=3&a;return(b=(b=(b=(b=b*(2-(15&a)*b)&15)*(2-(255&a)*b)&255)*(2-((65535&a)*b&65535))&65535)*(2-a*b%this.DV)%this.DV)>0?this.DV-b:-b},h.prototype.isEven=function(){return(this.t>0?1&this[0]:this.s)==0},h.prototype.exp=function(a,b){if(a>4294967295||a<1)return h.ONE;var c=i(),d=i(),e=b.convert(this),f=n(a)-1;for(e.copyTo(c);--f>=0;)if(b.sqrTo(c,d),(a&1<<f)>0)b.mulTo(d,e,c);else{var g=c;c=d,d=g}return b.revert(c)},h.prototype.toString=function(a){if(this.s<0)return"-"+this.negate().toString(a);if(16==a)b=4;else if(8==a)b=3;else if(2==a)b=1;else if(32==a)b=5;else{if(4!=a)return this.toRadix(a);b=2}var b,c,d=(1<<b)-1,e=!1,f="",g=this.t,h=this.DB-g*this.DB%b;if(g-- >0)for(h<this.DB&&(c=this[g]>>h)>0&&(e=!0,f=k(c));g>=0;)h<b?(c=(this[g]&(1<<h)-1)<<b-h,c|=this[--g]>>(h+=this.DB-b)):(c=this[g]>>(h-=b)&d,h<=0&&(h+=this.DB,--g)),c>0&&(e=!0),e&&(f+=k(c));return e?f:"0"},h.prototype.negate=function(){var a=i();return h.ZERO.subTo(this,a),a},h.prototype.abs=function(){return this.s<0?this.negate():this},h.prototype.compareTo=function(a){var b=this.s-a.s;if(0!=b)return b;var c=this.t;if(0!=(b=c-a.t))return this.s<0?-b:b;for(;--c>=0;)if(0!=(b=this[c]-a[c]))return b;return 0},h.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+n(this[this.t-1]^this.s&this.DM)},h.prototype.mod=function(a){var b=i();return this.abs().divRemTo(a,null,b),this.s<0&&b.compareTo(h.ZERO)>0&&a.subTo(b,b),b},h.prototype.modPowInt=function(a,b){var c;return c=a<256||b.isEven()?new o(b):new q(b),this.exp(a,c)},h.ZERO=m(0),h.ONE=m(1),r.prototype.doPublic=function(a){return a.modPowInt(this.e,this.n)},r.prototype.setPublic=function(a,b){if(null!=a&&null!=b&&a.length>0&&b.length>0){var c,d;this.n=(c=a,new h(c,16)),this.e=parseInt(b,16)}else throw Error("Invalid RSA public key")},r.prototype.encrypt=function(a){var b=function(a,b){if(b<a.length+11)throw Error("Message too long for RSA");for(var c=[],d=a.length-1;d>=0&&b>0;){var e=a.charCodeAt(d--);e<128?c[--b]=e:e>127&&e<2048?(c[--b]=63&e|128,c[--b]=e>>6|192):(c[--b]=63&e|128,c[--b]=e>>6&63|128,c[--b]=e>>12|224)}c[--b]=0;for(var f=0,g=0,i=0;b>2;)0==i&&(g=s.random.randomWords(1,0)[0]),f=g>>i&255,i=(i+8)%32,0!=f&&(c[--b]=f);return c[--b]=2,c[--b]=0,new h(c)}(a,this.n.bitLength()+7>>3);if(null==b)return null;var c=this.doPublic(b);if(null==c)return null;var d=c.toString(16);return(1&d.length)==0?d:"0"+d};var s={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(a){this.toString=function(){return"CORRUPT: "+this.message},this.message=a},invalid:function(a){this.toString=function(){return"INVALID: "+this.message},this.message=a},bug:function(a){this.toString=function(){return"BUG: "+this.message},this.message=a},notReady:function(a){this.toString=function(){return"NOT READY: "+this.message},this.message=a}}};a.exports&&(a.exports=s),s.cipher.aes=function(a){this._tables[0][0][0]||this._precompute();var b,c,d,e,f,g=this._tables[0][4],h=this._tables[1],i=a.length,j=1;if(4!==i&&6!==i&&8!==i)throw new s.exception.invalid("invalid aes key size");for(this._key=[e=a.slice(0),f=[]],b=i;b<4*i+28;b++)d=e[b-1],(b%i==0||8===i&&b%i==4)&&(d=g[d>>>24]<<24^g[d>>16&255]<<16^g[d>>8&255]<<8^g[255&d],b%i==0&&(d=d<<8^d>>>24^j<<24,j=j<<1^(j>>7)*283)),e[b]=e[b-i]^d;for(c=0;b;c++,b--)d=e[3&c?b:b-4],b<=4||c<4?f[c]=d:f[c]=h[0][g[d>>>24]]^h[1][g[d>>16&255]]^h[2][g[d>>8&255]]^h[3][g[255&d]]},s.cipher.aes.prototype={encrypt:function(a){return this._crypt(a,0)},decrypt:function(a){return this._crypt(a,1)},_tables:[[[],[],[],[],[]],[[],[],[],[],[]]],_precompute:function(){var a,b,c,d,e,f,g,h,i,j=this._tables[0],k=this._tables[1],l=j[4],m=k[4],n=[],o=[];for(a=0;a<256;a++)o[(n[a]=a<<1^(a>>7)*283)^a]=a;for(b=c=0;!l[b];b^=d||1,c=o[c]||1)for(a=0,g=(g=c^c<<1^c<<2^c<<3^c<<4)>>8^255&g^99,l[b]=g,m[g]=b,i=16843009*n[e=n[d=n[b]]]^65537*e^257*d^16843008*b,h=257*n[g]^16843008*g;a<4;a++)j[a][b]=h=h<<24^h>>>8,k[a][g]=i=i<<24^i>>>8;for(a=0;a<5;a++)j[a]=j[a].slice(0),k[a]=k[a].slice(0)},_crypt:function(a,b){if(4!==a.length)throw new s.exception.invalid("invalid aes block size");var c,d,e,f,g=this._key[b],h=a[0]^g[0],i=a[b?3:1]^g[1],j=a[2]^g[2],k=a[b?1:3]^g[3],l=g.length/4-2,m=4,n=[0,0,0,0],o=this._tables[b],p=o[0],q=o[1],r=o[2],t=o[3],u=o[4];for(f=0;f<l;f++)c=p[h>>>24]^q[i>>16&255]^r[j>>8&255]^t[255&k]^g[m],d=p[i>>>24]^q[j>>16&255]^r[k>>8&255]^t[255&h]^g[m+1],e=p[j>>>24]^q[k>>16&255]^r[h>>8&255]^t[255&i]^g[m+2],k=p[k>>>24]^q[h>>16&255]^r[i>>8&255]^t[255&j]^g[m+3],m+=4,h=c,i=d,j=e;for(f=0;f<4;f++)n[b?3& -f:f]=u[h>>>24]<<24^u[i>>16&255]<<16^u[j>>8&255]<<8^u[255&k]^g[m++],c=h,h=i,i=j,j=k,k=c;return n}},s.bitArray={bitSlice:function(a,b,c){return a=s.bitArray._shiftRight(a.slice(b/32),32-(31&b)).slice(1),void 0===c?a:s.bitArray.clamp(a,c-b)},extract:function(a,b,c){var d,e=Math.floor(-b-c&31);return((b+c-1^b)& -32?a[b/32|0]<<32-e^a[b/32+1|0]>>>e:a[b/32|0]>>>e)&(1<<c)-1},concat:function(a,b){if(0===a.length||0===b.length)return a.concat(b);var c=a[a.length-1],d=s.bitArray.getPartial(c);return 32===d?a.concat(b):s.bitArray._shiftRight(b,d,0|c,a.slice(0,a.length-1))},bitLength:function(a){var b,c=a.length;return 0===c?0:(b=a[c-1],(c-1)*32+s.bitArray.getPartial(b))},clamp:function(a,b){if(32*a.length<b)return a;var c=(a=a.slice(0,Math.ceil(b/32))).length;return b&=31,c>0&&b&&(a[c-1]=s.bitArray.partial(b,a[c-1]&2147483648>>b-1,1)),a},partial:function(a,b,c){return 32===a?b:(c?0|b:b<<32-a)+1099511627776*a},getPartial:function(a){return Math.round(a/1099511627776)||32},equal:function(a,b){if(s.bitArray.bitLength(a)!==s.bitArray.bitLength(b))return!1;var c,d=0;for(c=0;c<a.length;c++)d|=a[c]^b[c];return 0===d},_shiftRight:function(a,b,c,d){var e,f,g=0;for(void 0===d&&(d=[]);b>=32;b-=32)d.push(c),c=0;if(0===b)return d.concat(a);for(e=0;e<a.length;e++)d.push(c|a[e]>>>b),c=a[e]<<32-b;return g=a.length?a[a.length-1]:0,f=s.bitArray.getPartial(g),d.push(s.bitArray.partial(b+f&31,b+f>32?c:d.pop(),1)),d},_xor4:function(a,b){return[a[0]^b[0],a[1]^b[1],a[2]^b[2],a[3]^b[3]]}},s.codec.hex={fromBits:function(a){var b,c="";for(b=0;b<a.length;b++)c+=((0|a[b])+0xf00000000000).toString(16).substr(4);return c.substr(0,s.bitArray.bitLength(a)/4)},toBits:function(a){var b,c,d=[];for(c=(a=a.replace(/\s|0x/g,"")).length,a+="00000000",b=0;b<a.length;b+=8)d.push(0^parseInt(a.substr(b,8),16));return s.bitArray.clamp(d,4*c)}},s.codec.utf8String={fromBits:function(a){var b,c,d="",e=s.bitArray.bitLength(a);for(b=0;b<e/8;b++)(3&b)==0&&(c=a[b/4]),d+=String.fromCharCode(c>>>24),c<<=8;return decodeURIComponent(escape(d))},toBits:function(a){a=unescape(encodeURIComponent(a));var b,c=[],d=0;for(b=0;b<a.length;b++)d=d<<8|a.charCodeAt(b),(3&b)==3&&(c.push(d),d=0);return 3&b&&c.push(s.bitArray.partial(8*(3&b),d)),c}},s.codec.base64={_chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(a,b,c){var d,e="",f=0,g=s.codec.base64._chars,h=0,i=s.bitArray.bitLength(a);for(c&&(g=g.substr(0,62)+"-_"),d=0;6*e.length<i;)e+=g.charAt((h^a[d]>>>f)>>>26),f<6?(h=a[d]<<6-f,f+=26,d++):(h<<=6,f-=6);for(;3&e.length&&!b;)e+="=";return e},toBits:function(a,b){a=a.replace(/\s|=/g,"");var c,d,e=[],f=0,g=s.codec.base64._chars,h=0;for(b&&(g=g.substr(0,62)+"-_"),c=0;c<a.length;c++){if((d=g.indexOf(a.charAt(c)))<0)throw new s.exception.invalid("this isn't base64!");f>26?(f-=26,e.push(h^d>>>f),h=d<<32-f):(f+=6,h^=d<<32-f)}return 56&f&&e.push(s.bitArray.partial(56&f,h,1)),e}},s.codec.base64url={fromBits:function(a){return s.codec.base64.fromBits(a,1,1)},toBits:function(a){return s.codec.base64.toBits(a,1)}},void 0===s.beware&&(s.beware={}),s.beware["CBC mode is dangerous because it doesn't protect message integrity."]=function(){s.mode.cbc={name:"cbc",encrypt:function(a,b,c,d){if(d&&d.length)throw new s.exception.invalid("cbc can't authenticate data");if(128!==s.bitArray.bitLength(c))throw new s.exception.invalid("cbc iv must be 128 bits");var e,f=s.bitArray,g=f._xor4,h=f.bitLength(b),i=0,j=[];if(7&h)throw new s.exception.invalid("pkcs#5 padding only works for multiples of a byte");for(e=0;i+128<=h;e+=4,i+=128)c=a.encrypt(g(c,b.slice(e,e+4))),j.splice(e,0,c[0],c[1],c[2],c[3]);return h=(16-(h>>3&15))*16843009,c=a.encrypt(g(c,f.concat(b,[h,h,h,h]).slice(e,e+4))),j.splice(e,0,c[0],c[1],c[2],c[3]),j},decrypt:function(a,b,c,d){if(d&&d.length)throw new s.exception.invalid("cbc can't authenticate data");if(128!==s.bitArray.bitLength(c))throw new s.exception.invalid("cbc iv must be 128 bits");if(127&s.bitArray.bitLength(b)||!b.length)throw new s.exception.corrupt("cbc ciphertext must be a positive multiple of the block size");var e,f,g,h=s.bitArray,i=h._xor4,j=[];for(e=0,d=d||[];e<b.length;e+=4)f=b.slice(e,e+4),g=i(c,a.decrypt(f)),j.splice(e,0,g[0],g[1],g[2],g[3]),c=f;if(0==(f=255&j[e-1])||f>16||(g=16843009*f,!h.equal(h.bitSlice([g,g,g,g],0,8*f),h.bitSlice(j,32*j.length-8*f,32*j.length))))throw new s.exception.corrupt("pkcs#5 padding corrupt");return h.bitSlice(j,0,32*j.length-8*f)}}},s.misc.hmac=function(a,b){this._hash=b=b||s.hash.sha256;var c,d=[[],[]],e=b.prototype.blockSize/32;for(this._baseHash=[new b,new b],a.length>e&&(a=b.hash(a)),c=0;c<e;c++)d[0][c]=909522486^a[c],d[1][c]=1549556828^a[c];this._baseHash[0].update(d[0]),this._baseHash[1].update(d[1])},s.misc.hmac.prototype.encrypt=s.misc.hmac.prototype.mac=function(a,b){var c=new this._hash(this._baseHash[0]).update(a,b).finalize();return new this._hash(this._baseHash[1]).update(c).finalize()},s.hash.sha256=function(a){this._key[0]||this._precompute(),a?(this._h=a._h.slice(0),this._buffer=a._buffer.slice(0),this._length=a._length):this.reset()},s.hash.sha256.hash=function(a){return new s.hash.sha256().update(a).finalize()},s.hash.sha256.prototype={blockSize:512,reset:function(){return this._h=this._init.slice(0),this._buffer=[],this._length=0,this},update:function(a){"string"==typeof a&&(a=s.codec.utf8String.toBits(a));var b,c=this._buffer=s.bitArray.concat(this._buffer,a),d=this._length,e=this._length=d+s.bitArray.bitLength(a);for(b=512+d& -512;b<=e;b+=512)this._block(c.splice(0,16));return this},finalize:function(){var a,b=this._buffer,c=this._h;for(a=(b=s.bitArray.concat(b,[s.bitArray.partial(1,1)])).length+2;15&a;a++)b.push(0);for(b.push(Math.floor(this._length/4294967296)),b.push(0|this._length);b.length;)this._block(b.splice(0,16));return this.reset(),c},_init:[],_key:[],_precompute:function(){var a,b=0,c=2;function d(a){return(a-Math.floor(a))*4294967296|0}outer:for(;b<64;c++){for(a=2;a*a<=c;a++)if(c%a==0)continue outer;b<8&&(this._init[b]=d(Math.pow(c,.5))),this._key[b]=d(Math.pow(c,1/3)),b++}},_block:function(a){var b,c,d,e,f=a.slice(0),g=this._h,h=this._key,i=g[0],j=g[1],k=g[2],l=g[3],m=g[4],n=g[5],o=g[6],p=g[7];for(b=0;b<64;b++)b<16?c=f[b]:(d=f[b+1&15],e=f[b+14&15],c=f[15&b]=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+f[15&b]+f[b+9&15]|0),c=c+p+(m>>>6^m>>>11^m>>>25^m<<26^m<<21^m<<7)+(o^m&(n^o))+h[b],p=o,o=n,n=m,m=l+c|0,l=k,k=j,j=i,i=c+(j&k^l&(j^k))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0;g[0]=g[0]+i|0,g[1]=g[1]+j|0,g[2]=g[2]+k|0,g[3]=g[3]+l|0,g[4]=g[4]+m|0,g[5]=g[5]+n|0,g[6]=g[6]+o|0,g[7]=g[7]+p|0}},s.random={randomWords:function(a,b){var c,d,e=[],f=this.isReady(b);if(f===this._NOT_READY)throw new s.exception.notReady("generator isn't seeded");for(f&this._REQUIRES_RESEED&&this._reseedFromPools(!(f&this._READY)),c=0;c<a;c+=4)(c+1)%this._MAX_WORDS_PER_BURST==0&&this._gate(),e.push((d=this._gen4words())[0],d[1],d[2],d[3]);return this._gate(),e.slice(0,a)},setDefaultParanoia:function(a){this._defaultParanoia=a},addEntropy:function(a,b,c){c=c||"user";var d,e,f,g=new Date().valueOf(),h=this._robins[c],i=this.isReady(),j=0;switch(void 0===(d=this._collectorIds[c])&&(d=this._collectorIds[c]=this._collectorIdNext++),void 0===h&&(h=this._robins[c]=0),this._robins[c]=(this._robins[c]+1)%this._pools.length,typeof a){case"number":void 0===b&&(b=1),this._pools[h].update([d,this._eventId++,1,b,g,1,0|a]);break;case"object":var k=Object.prototype.toString.call(a);if("[object Uint32Array]"===k){for(e=0,f=[];e<a.length;e++)f.push(a[e]);a=f}else for("[object Array]"!==k&&(j=1),e=0;e<a.length&&!j;e++)"number"!=typeof a[e]&&(j=1);if(!j){if(void 0===b)for(e=0,b=0;e<a.length;e++)for(f=a[e];f>0;)b++,f>>>=1;this._pools[h].update([d,this._eventId++,2,b,g,a.length].concat(a))}break;case"string":void 0===b&&(b=a.length),this._pools[h].update([d,this._eventId++,3,b,g,a.length]),this._pools[h].update(a);break;default:j=1}if(j)throw new s.exception.bug("random: addEntropy only supports number, array of numbers or string");this._poolEntropy[h]+=b,this._poolStrength+=b,i===this._NOT_READY&&(this.isReady()!==this._NOT_READY&&this._fireEvent("seeded",Math.max(this._strength,this._poolStrength)),this._fireEvent("progress",this.getProgress()))},isReady:function(a){var b=this._PARANOIA_LEVELS[void 0!==a?a:this._defaultParanoia];return this._strength&&this._strength>=b?this._poolEntropy[0]>this._BITS_PER_RESEED&&new Date().valueOf()>this._nextReseed?this._REQUIRES_RESEED|this._READY:this._READY:this._poolStrength>=b?this._REQUIRES_RESEED|this._NOT_READY:this._NOT_READY},getProgress:function(a){var b=this._PARANOIA_LEVELS[a||this._defaultParanoia];return this._strength>=b?1:this._poolStrength>b?1:this._poolStrength/b},startCollectors:function(){if(!this._collectorsStarted){if(window.addEventListener)window.addEventListener("load",this._loadTimeCollector,!1),window.addEventListener("mousemove",this._mouseCollector,!1);else if(document.attachEvent)document.attachEvent("onload",this._loadTimeCollector),document.attachEvent("onmousemove",this._mouseCollector);else throw new s.exception.bug("can't attach event");this._collectorsStarted=!0}},stopCollectors:function(){this._collectorsStarted&&(window.removeEventListener?(window.removeEventListener("load",this._loadTimeCollector,!1),window.removeEventListener("mousemove",this._mouseCollector,!1)):window.detachEvent&&(window.detachEvent("onload",this._loadTimeCollector),window.detachEvent("onmousemove",this._mouseCollector)),this._collectorsStarted=!1)},addEventListener:function(a,b){this._callbacks[a][this._callbackI++]=b},removeEventListener:function(a,b){var c,d,e=this._callbacks[a],f=[];for(d in e)e.hasOwnProperty(d)&&e[d]===b&&f.push(d);for(c=0;c<f.length;c++)delete e[d=f[c]]},_pools:[new s.hash.sha256],_poolEntropy:[0],_reseedCount:0,_robins:{},_eventId:0,_collectorIds:{},_collectorIdNext:0,_strength:0,_poolStrength:0,_nextReseed:0,_key:[0,0,0,0,0,0,0,0],_counter:[0,0,0,0],_cipher:void 0,_defaultParanoia:6,_collectorsStarted:!1,_callbacks:{progress:{},seeded:{}},_callbackI:0,_NOT_READY:0,_READY:1,_REQUIRES_RESEED:2,_MAX_WORDS_PER_BURST:65536,_PARANOIA_LEVELS:[0,48,64,96,128,192,256,384,512,768,1024],_MILLISECONDS_PER_RESEED:3e4,_BITS_PER_RESEED:80,_gen4words:function(){for(var a=0;a<4&&(this._counter[a]=this._counter[a]+1|0,!this._counter[a]);a++);return this._cipher.encrypt(this._counter)},_gate:function(){this._key=this._gen4words().concat(this._gen4words()),this._cipher=new s.cipher.aes(this._key)},_reseed:function(a){this._key=s.hash.sha256.hash(this._key.concat(a)),this._cipher=new s.cipher.aes(this._key);for(var b=0;b<4&&(this._counter[b]=this._counter[b]+1|0,!this._counter[b]);b++);},_reseedFromPools:function(a){var b,c=[],d=0;for(b=0,this._nextReseed=c[0]=new Date().valueOf()+this._MILLISECONDS_PER_RESEED;b<16;b++)c.push(4294967296*Math.random()|0);for(b=0;b<this._pools.length&&(c=c.concat(this._pools[b].finalize()),d+=this._poolEntropy[b],this._poolEntropy[b]=0,a||!(this._reseedCount&1<<b));b++);this._reseedCount>=1<<this._pools.length&&(this._pools.push(new s.hash.sha256),this._poolEntropy.push(0)),this._poolStrength-=d,d>this._strength&&(this._strength=d),this._reseedCount++,this._reseed(c)},_mouseCollector:function(a){var b=a.x||a.clientX||a.offsetX||0,c=a.y||a.clientY||a.offsetY||0;s.random.addEntropy([b,c],2,"mouse")},_loadTimeCollector:function(a){s.random.addEntropy(new Date().valueOf(),2,"loadtime")},_fireEvent:function(a,b){var c,d=s.random._callbacks[a],e=[];for(c in d)d.hasOwnProperty(c)&&e.push(d[c]);for(c=0;c<e.length;c++)e[c](b)}},function(){try{var a=new Uint32Array(32);crypto.getRandomValues(a),s.random.addEntropy(a,1024,"crypto.getRandomValues")}catch(b){}}(),function(){for(var a in s.beware)s.beware.hasOwnProperty(a)&&s.beware[a]()}();var t={sjcl:s,version:"1.3.10"};t.generateAesKey=function(){return{key:s.random.randomWords(8,0),encrypt:function(a){return this.encryptWithIv(a,s.random.randomWords(4,0))},encryptWithIv:function(a,b){var c=new s.cipher.aes(this.key),d=s.codec.utf8String.toBits(a),e=s.mode.cbc.encrypt(c,d,b),f=s.bitArray.concat(b,e);return s.codec.base64.fromBits(f)}}},t.create=function(a){return new t.EncryptionClient(a)},t.EncryptionClient=function(a){var b=this,d=[];b.publicKey=a,b.version=t.version;var e=function(a,b){var c,d,e;for(d in c=document.createElement(a),b)b.hasOwnProperty(d)&&(e=b[d],c.setAttribute(d,e));return c},f=function(a){return window.jQuery&&a instanceof jQuery?a[0]:a.nodeType&&1===a.nodeType?a:document.getElementById(a)},h=function(a){var b,c,d,e,f=[];if("INTEGER"===a.typeName()&&(b=a.posContent(),c=a.posEnd(),d=a.stream.hexDump(b,c).replace(/[ \n]/g,""),f.push(d)),null!==a.sub)for(e=0;e<a.sub.length;e++)f=f.concat(h(a.sub[e]));return f},i=function(a){var b,c,d=[],e=a.children;for(c=0;c<e.length;c++)1===(b=e[c]).nodeType&&b.attributes["data-encrypted-name"]?d.push(b):b.children&&b.children.length>0&&(d=d.concat(i(b)));return d},j=function(){var b,d,e,f,i,j;try{i=function(a){var b,c=function(a){var b,c,d,e="",f=0;for(b=0;b<a.length&&"="!=a.charAt(b);++b)(d=g.indexOf(a.charAt(b)))<0||(0==f?(e+=k(d>>2),c=3&d,f=1):1==f?(e+=k(c<<2|d>>4),c=15&d,f=2):2==f?(e+=k(c),e+=k(d>>2),c=3&d,f=3):(e+=k(c<<2|d>>4),e+=k(15&d),f=0));return 1==f&&(e+=k(c<<2)),e}(a),d=[];for(b=0;2*b<c.length;++b)d[b]=parseInt(c.substring(2*b,2*b+2),16);return d}(a),b=c.decode(i)}catch(l){throw"Invalid encryption key. Please use the key labeled 'Client-Side Encryption Key'"}if(2!==(e=h(b)).length)throw"Invalid encryption key. Please use the key labeled 'Client-Side Encryption Key'";return f=e[0],d=e[1],j=new r,j.setPublic(f,d),j};b.encrypt=function(a){var c=j(),d=t.generateAesKey(),e={key:s.random.randomWords(8,0),sign:function(a){var b=new s.misc.hmac(this.key,s.hash.sha256).encrypt(a);return s.codec.base64.fromBits(b)}},f=d.encrypt(a),h=e.sign(s.codec.base64.toBits(f)),i=s.bitArray.concat(d.key,e.key),k=s.codec.base64.fromBits(i),l=c.encrypt(k),m="$bt4|javascript_"+b.version.replace(/\./g,"_")+"$",n=null;return l&&(n=function(a){var b,c,d="";for(b=0;b+3<=a.length;b+=3)c=parseInt(a.substring(b,b+3),16),d+=g.charAt(c>>6)+g.charAt(63&c);for(b+1==a.length?(c=parseInt(a.substring(b,b+1),16),d+=g.charAt(c<<2)):b+2==a.length&&(c=parseInt(a.substring(b,b+2),16),d+=g.charAt(c>>2)+g.charAt((3&c)<<4));(3&d.length)>0;)d+="=";return d}(l)),m+n+"$"+f+"$"+h},b.encryptForm=function(a){var c,g,h,j,k,l;for(a=f(a),l=i(a);d.length>0;){try{a.removeChild(d[0])}catch(m){}d.splice(0,1)}for(k=0;k<l.length;k++)h=(c=l[k]).getAttribute("data-encrypted-name"),g=b.encrypt(c.value),c.removeAttribute("name"),j=e("input",{value:g,type:"hidden",name:h}),d.push(j),a.appendChild(j)},b.onSubmitEncryptForm=function(a,c){var d;a=f(a),d=function(d){return b.encryptForm(a),c?c(d):d},window.jQuery?window.jQuery(a).submit(d):a.addEventListener?a.addEventListener("submit",d,!1):a.attachEvent&&a.attachEvent("onsubmit",d)},b.formEncrypter={encryptForm:b.encryptForm,extractForm:f,onSubmitEncryptForm:b.onSubmitEncryptForm},s.random.startCollectors()},window.Braintree=t}(),function(b){a.exports=b()}(function(){var a;return(function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i=void 0;if(!h&&i)return require(g,!0);if(f)return f(g,!0);var j=Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c;return e(b[g][1][a]||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f=void 0,g=0;g<d.length;g++)e(d[g]);return e})({1:[function(a,b,d){(function(c){"use strict";var d="2.14.0",e=a("braintree-api"),f=a("braintree-paypal"),g=a("braintree-dropin"),h=a("./integrations"),i=a("./constants"),j=a("./lib/fallback-error-handler"),k=a("./lib/lookup-callback-for"),l=a("braintree-utilities").uuid;b.exports={api:e,cse:c.Braintree,paypal:f,dropin:g,hostedFields:{VERSION:a("hosted-fields").VERSION},setup:function(a,b,f){if(!h.hasOwnProperty(b))throw Error(b+" is an unsupported integration");f=f||{},e._getConfiguration({enableCORS:f.enableCORS||!1,clientToken:a},function(a,e){var g;if(a){k(f)(i.ROOT_ERROR_CALLBACK,j)({message:a.errors});return}new h[b]({channel:l(),gatewayConfiguration:e,integrationType:b,merchantConfiguration:f,analyticsConfiguration:{sdkVersion:"braintree/web/"+d,merchantAppId:c.location.host}})})},VERSION:d}}).call(this,void 0!==c.g?c.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./constants":440,"./integrations":445,"./lib/fallback-error-handler":447,"./lib/lookup-callback-for":449,"braintree-api":21,"braintree-dropin":236,"braintree-paypal":344,"braintree-utilities":372,"hosted-fields":377}],2:[function(a,b,d){(function(c){"use strict";var d=a("braintree-utilities"),e=a("braintree-3ds"),f=a("./parse-client-token"),g=a("./util"),h=a("./sepa-mandate"),i=a("./europe-bank-account"),j=a("./credit-card"),k=a("./coinbase-account"),l=a("./paypal-account"),m=a("./normalize-api-fields").normalizeCreditCardFields,n=a("./request/choose-driver"),o=a("./should-enable-cors"),p=a("./constants");function q(a){var b,g,h,i,j,k;this.attrs={},a.hasOwnProperty("sharedCustomerIdentifier")&&(this.attrs.sharedCustomerIdentifier=a.sharedCustomerIdentifier),b=f(a.clientToken),h=(j=(i=a).analyticsConfiguration||{},k=c.braintree?c.braintree.VERSION:null,{sdkVersion:j.sdkVersion||(k?"braintree/web/"+k:""),merchantAppId:j.merchantAppId||c.location.host}),this.driver=a.driver||n({enableCORS:o(a)}),this.analyticsUrl=b.analytics?b.analytics.url:void 0,this.clientApiUrl=b.clientApiUrl,this.customerId=a.customerId,this.challenges=b.challenges,this.integration=a.integration||"",this.sdkVersion=h.sdkVersion,this.merchantAppId=h.merchantAppId,g=e.create(this,{container:a.container,clientToken:b}),this.verify3DS=d.bind(g.verify,g),this.attrs.sharedCustomerIdentifierType=a.sharedCustomerIdentifierType,b.merchantAccountId&&(this.attrs.merchantAccountId=b.merchantAccountId),a.clientKey?this.attrs.clientKey=a.clientKey:b.authorizationFingerprint&&(this.attrs.authorizationFingerprint=b.authorizationFingerprint),a.hasOwnProperty("timeout")?this.requestTimeout=a.timeout:this.requestTimeout=6e4}q.prototype.getCreditCards=function(a){this.driver.get(g.joinUrlFragments([this.clientApiUrl,"v1","payment_methods"]),this.attrs,function(a){for(var b=0,c=a.paymentMethods.length,d=[];b<c;b++)d.push(new j(a.paymentMethods[b]));return d},a,this.requestTimeout)},q.prototype.tokenizeCoinbase=function(a,b){a.options={validate:!1},this.addCoinbase(a,function(a,c){a?b(a,null):c&&c.nonce?b(a,c):b("Unable to tokenize coinbase account.",null)})},q.prototype.tokenizePayPalAccount=function(a,b){a.options={validate:!1},this.addPayPalAccount(a,function(a,c){a?b(a,null):c&&c.nonce?b(null,c):b("Unable to tokenize paypal account.",null)})},q.prototype.tokenizeCard=function(a,b){a.options={validate:!1},this.addCreditCard(a,function(a,c){c&&c.nonce?b(a,c.nonce,{type:c.type,details:c.details}):b("Unable to tokenize card.",null)})},q.prototype.lookup3DS=function(a,b){var c=g.joinUrlFragments([this.clientApiUrl,"v1/payment_methods",a.nonce,"three_d_secure/lookup"]),d=g.mergeOptions(this.attrs,{amount:a.amount});this.driver.post(c,d,function(a){return a},b,this.requestTimeout)},q.prototype.createSEPAMandate=function(a,b){var c=g.mergeOptions(this.attrs,{sepaMandate:a});this.driver.post(g.joinUrlFragments([this.clientApiUrl,"v1","sepa_mandates.json"]),c,function(a){return{sepaMandate:new h(a.europeBankAccounts[0].sepaMandates[0]),sepaBankAccount:new i(a.europeBankAccounts[0])}},b,this.requestTimeout)},q.prototype.getSEPAMandate=function(a,b){var c=g.mergeOptions(this.attrs,a);this.driver.get(g.joinUrlFragments([this.clientApiUrl,"v1","sepa_mandates.json"]),c,function(a){return{sepaMandate:new h(a.sepaMandates[0])}},b,this.requestTimeout)},q.prototype.addCoinbase=function(a,b){var c;delete a.share,c=g.mergeOptions(this.attrs,{coinbaseAccount:a,_meta:{integration:this.integration||"custom",source:"coinbase"}}),this.driver.post(g.joinUrlFragments([this.clientApiUrl,"v1","payment_methods/coinbase_accounts"]),c,function(a){return new k(a.coinbaseAccounts[0])},b,this.requestTimeout)},q.prototype.addPayPalAccount=function(a,b){var c;delete a.share,c=g.mergeOptions(this.attrs,{paypalAccount:a,_meta:{integration:this.integration||"paypal",source:"paypal"}}),this.driver.post(g.joinUrlFragments([this.clientApiUrl,"v1","payment_methods","paypal_accounts"]),c,function(a){return new l(a.paypalAccounts[0])},b,this.requestTimeout)},q.prototype.addCreditCard=function(a,b){var c,d,e=a.share;delete a.share,d=m(a),c=g.mergeOptions(this.attrs,{share:e,creditCard:d,_meta:{integration:this.integration||"custom",source:"form"}}),this.driver.post(g.joinUrlFragments([this.clientApiUrl,"v1","payment_methods/credit_cards"]),c,function(a){return new j(a.creditCards[0])},b,this.requestTimeout)},q.prototype.sendAnalyticsEvents=function(a,b){var d,e,f=this.analyticsUrl,h=[];if(a=g.isArray(a)?a:[a],!f){b&&b.apply(null,[null,{}]);return}for(e in a)a.hasOwnProperty(e)&&h.push({kind:a[e]});d=g.mergeOptions(this.attrs,{braintree_library_version:this.sdkVersion,analytics:h,_meta:{merchantAppId:this.merchantAppId,platform:"web",platformVersion:c.navigator.userAgent,integrationType:this.integration,sdkVersion:this.sdkVersion}}),this.driver.post(f,d,function(a){return a},b,p.ANALYTICS_TIMEOUT_MS)},q.prototype.decryptBrowserswitchPayload=function(a,b){var c=g.mergeOptions(this.attrs,{asymmetric_encrypted_payload:a}),d=g.joinUrlFragments([this.clientApiUrl,"/v1/paypal_browser_switch/decrypt"]);this.driver.post(d,c,function(a){return a},b,this.requestTimeout)},q.prototype.encryptBrowserswitchReturnPayload=function(a,b,c){var d=g.mergeOptions(this.attrs,{payload:a,aesKey:b}),e=g.joinUrlFragments([this.clientApiUrl,"/v1/paypal_browser_switch/encrypt"]);this.driver.post(e,d,function(a){return a},c,this.requestTimeout)},q.prototype.exchangePaypalTokenForConsentCode=function(a,b){var c=g.mergeOptions(this.attrs,a);this.attrs.merchantAccountId&&(c.merchant_account_id=this.attrs.merchantAccountId);var d=g.joinUrlFragments([this.clientApiUrl,"/v1/paypal_account_service/merchant_consent"]);this.driver.post(d,c,function(a){return a},b,this.requestTimeout)},q.prototype.getAmexRewardsBalance=function(a,b){var c=g.mergeOptions(this.attrs,a);c.nonce&&(c.payment_method_nonce=c.nonce,delete c.nonce),this.driver.get(g.joinUrlFragments([this.clientApiUrl,"v1/payment_methods/amex_rewards_balance"]),c,function(a){return a},b,this.requestTimeout)},b.exports=q}).call(this,void 0!==c.g?c.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./coinbase-account":3,"./constants":4,"./credit-card":5,"./europe-bank-account":6,"./normalize-api-fields":8,"./parse-client-token":9,"./paypal-account":10,"./request/choose-driver":13,"./sepa-mandate":18,"./should-enable-cors":19,"./util":20,"braintree-3ds":29,"braintree-utilities":43}],3:[function(a,b,c){"use strict";var d=["nonce","type","description","details"];b.exports=function(a){var b,c;for(b=0;b<d.length;b++)this[c=d[b]]=a[c]}},{}],4:[function(a,b,c){b.exports={apiUrls:{production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},errors:{UNKNOWN_ERROR:"Unknown error",INVALID_TIMEOUT:"Timeout must be a number"},ANALYTICS_TIMEOUT_MS:4e3}},{}],5:[function(a,b,c){"use strict";var d=["billingAddress","branding","createdAt","createdAtMerchant","createdAtMerchantName","details","isLocked","lastUsedAt","lastUsedAtMerchant","lastUsedAtMerchantName","lastUsedByCurrentMerchant","nonce","securityQuestions","type"];b.exports=function(a){var b,c;for(b=0;b<d.length;b++)this[c=d[b]]=a[c]}},{}],6:[function(a,b,c){"use strict";b.exports=function(a){var b,c=["bic","maskedIBAN","nonce","accountHolderName"],d=0;for(d=0;d<c.length;d++)this[b=c[d]]=a[b]}},{}],7:[function(a,b,c){"use strict";var d=a("./parse-client-token"),e=a("./util"),f=a("./request/choose-driver"),g=a("./should-enable-cors"),h=a("./constants");b.exports=function(a,b){var c,i,j,k,l,m,n,o=f({enableCORS:g(a)}),p=a.clientKey,q={};p?(q.clientKey=p,m=(j=(i=(c=p).split("_"))[0],k=i.slice(2).join("_"),{merchantId:k,environment:j}),l=h.apiUrls[m.environment]+"/merchants/"+m.merchantId+"/client_api/v1/configuration"):(n=d(a.clientToken)).authorizationFingerprint&&(q.authorizationFingerprint=n.authorizationFingerprint,l=n.configUrl),o.get(l,q,function(a){return e.mergeOptions(n,a)},b,a.timeout)}},{"./constants":4,"./parse-client-token":9,"./request/choose-driver":13,"./should-enable-cors":19,"./util":20}],8:[function(a,b,c){"use strict";b.exports={normalizeCreditCardFields:function(a){var b,c={billingAddress:a.billingAddress||{}};for(b in a)if(a.hasOwnProperty(b))switch(b.replace(/_/,"").toLowerCase()){case"postalcode":case"countryname":case"countrycodenumeric":case"countrycodealpha2":case"countrycodealpha3":case"region":case"extendedaddress":case"locality":case"firstname":case"lastname":case"company":case"streetaddress":c.billingAddress[b]=a[b];break;default:c[b]=a[b]}return c}}},{}],9:[function(a,b,c){"use strict";var d=a("braintree-utilities");a("./polyfill"),b.exports=function(a){var b;if(!a)throw Error("Braintree API Client Misconfigured: clientToken required.");if("object"==typeof a&&null!==a)b=a;else{try{a=window.atob(a)}catch(c){}try{b=JSON.parse(a)}catch(e){throw Error("Braintree API Client Misconfigured: clientToken is not valid JSON.")}}if(!b.hasOwnProperty("clientApiUrl")||!d.isWhitelistedDomain(b.clientApiUrl))throw Error("Braintree API Client Misconfigured: the clientApiUrl provided in the clientToken is invalid.");return b}},{"./polyfill":11,"braintree-utilities":43}],10:[function(a,b,c){"use strict";var d=["nonce","type","description","details"];b.exports=function(a){var b,c;for(b=0;b<d.length;b++)this[c=d[b]]=a[c]}},{}],11:[function(a,b,d){(function(a){"use strict";var c=function(a){var b=RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d="";if(!b.test(a))throw Error("Non base64 encoded input passed to window.atob polyfill");var e=0;do{var f=c.indexOf(a.charAt(e++)),g=c.indexOf(a.charAt(e++)),h=c.indexOf(a.charAt(e++)),i=c.indexOf(a.charAt(e++)),j=(63&f)<<2|g>>4&3,k=(15&g)<<4|h>>2&15,l=(3&h)<<6|63&i;d+=String.fromCharCode(j)+(k?String.fromCharCode(k):"")+(l?String.fromCharCode(l):"")}while(e<a.length)return d};a.atob=a.atob||c,b.exports={atobPolyfill:c}}).call(this,void 0!==c.g?c.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],12:[function(a,b,d){(function(c){"use strict";var d=a("../util"),e=a("./prep-body"),f=a("./parse-body"),g=a("../constants"),h=c.XMLHttpRequest&&"withCredentials"in new c.XMLHttpRequest;function i(a,b,c,d,i,j){var k,l,m=h?new XMLHttpRequest:new XDomainRequest;i=i||function(){},h?m.onreadystatechange=function(){4===m.readyState&&(k=m.status,l=f(m.responseText),k>=400||0===k?i.call(null,l||{errors:g.errors.UNKNOWN_ERROR},null):k>0&&i.call(null,null,d(l)))}:(m.onload=function(){i.call(null,null,d(f(m.responseText)))},m.onerror=function(){i.call(null,m.responseText,null)},m.onprogress=function(){},m.ontimeout=function(){i.call(null,{errors:g.errors.UNKNOWN_ERROR},null)}),m.open(a,b,!0),m.timeout=null==j?6e4:j,h&&"POST"===a&&m.setRequestHeader("Content-Type","application/json"),setTimeout(function(){m.send(e(a,c))},0)}b.exports={get:function(a,b,c,e,f){i("GET",d.createURLParams(a,b),null,c,e,f)},post:function(a,b,c,d,e){i("POST",a,b,c,d,e)}}}).call(this,void 0!==c.g?c.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../constants":4,"../util":20,"./parse-body":16,"./prep-body":17}],13:[function(a,b,c){"use strict";var d=a("./jsonp-driver"),e=a("./ajax-driver"),f=a("../util");b.exports=function(a){var b=f.getUserAgent(),c=!(f.isHTTP()&&/(MSIE\s(8|9))|(Phantom)/.test(b));return(a=a||{}).enableCORS&&c?e:d}},{"../util":20,"./ajax-driver":12,"./jsonp-driver":14}],14:[function(a,b,c){"use strict";var d=a("./jsonp"),e=a("../constants"),f=[];function g(){}function h(a,b,c,d,h,i){var j;h=h||g,null==i&&(i=6e4),j=d(a,b,function(a,b){f[b]&&(clearTimeout(f[b]),h.apply(null,function(a,b){return a.status>=400?[a,null]:[null,b(a)]}(a,function(a){return c(a)})))}),"number"==typeof i?f[j]=setTimeout(function(){f[j]=null,h.apply(null,[{errors:e.errors.UNKNOWN_ERROR},null])},i):h.apply(null,[{errors:e.errors.INVALID_TIMEOUT},null])}b.exports={get:function(a,b,c,e,f){h(a,b,c,d.get,e,f)},post:function(a,b,c,e,f){b._method="POST",h(a,b,c,d.get,e,f)}}},{"../constants":4,"./jsonp":15}],15:[function(a,b,d){(function(c){"use strict";var d,e=a("../util"),f=c,g={};function h(a){g=a}b.exports={get:function(a,b,c,h){var i,j,k,l,m,n;return j=(h=h||g.callbackName||"callback")+"_json"+e.generateUUID(),b[h]=j,i=e.createURLParams(a,b),f[j]=function(a){c(a,j);try{delete f[j]}catch(b){}f[j]=null},k=i,l=document.createElement("script"),m=!1,l.src=k,l.async=!0,n=g.error,"function"==typeof n&&(l.onerror=function(a){n({url:k,event:a})}),l.onload=l.onreadystatechange=function(){!m&&(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState)&&(m=!0,l.onload=l.onreadystatechange=null,l&&l.parentNode&&l.parentNode.removeChild(l))},d||(d=document.getElementsByTagName("head")[0]),d.appendChild(l),j},init:h}}).call(this,void 0!==c.g?c.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util":20}],16:[function(a,b,c){"use strict";b.exports=function(a){try{a=JSON.parse(a)}catch(b){}return a}},{}],17:[function(a,b,c){"use strict";var d=a("lodash.isstring");b.exports=function(a,b){if(!d(a))throw Error("Method must be a string");return"get"!==a.toLowerCase()&&null!=b&&(b=d(b)?b:JSON.stringify(b)),b}},{"lodash.isstring":51}],18:[function(a,b,c){"use strict";b.exports=function(a){var b,c=0,d=["accountHolderName","bic","longFormURL","mandateReferenceNumber","maskedIBAN","shortForm"];for(c=0;c<d.length;c++)this[b=d[c]]=a[b]}},{}],19:[function(a,b,c){"use strict";b.exports=function(a){return null!=a.enableCORS?a.enableCORS:!!a.merchantConfiguration&&a.merchantConfiguration.enableCORS}},{}],20:[function(a,b,d){(function(c){"use strict";var d=a("lodash.isempty"),e=a("lodash.isobject");function f(a){return a&&"object"==typeof a&&"number"==typeof a.length&&"[object Array]"===Object.prototype.toString.call(a)||!1}function g(a,b){var c,d,e,h=[];for(e in a)a.hasOwnProperty(e)&&(d=a[e],c=b?f(a)?b+"[]":b+"["+e+"]":e,"object"==typeof d?h.push(g(d,c)):h.push(encodeURIComponent(c)+"="+encodeURIComponent(d)));return h.join("&")}b.exports={joinUrlFragments:function(a){var b,c,d=[];for(c=0;c<a.length;c++)"/"===(b=a[c]).charAt(b.length-1)&&(b=b.substring(0,b.length-1)),"/"===b.charAt(0)&&(b=b.substring(1)),d.push(b);return d.join("/")},isArray:f,generateUUID:function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=Math.floor(16*Math.random());return("x"===a?b:3&b|8).toString(16)})},mergeOptions:function(a,b){var c,d={};for(c in a)a.hasOwnProperty(c)&&(d[c]=a[c]);for(c in b)b.hasOwnProperty(c)&&(d[c]=b[c]);return d},stringify:g,createURLParams:function(a,b){return a=a||"",!d(b)&&e(b)&&(a+=-1===a.indexOf("?")?"?":"",a+=-1!==a.indexOf("=")?"&":"",a+=g(b)),a},getUserAgent:function(){return c.navigator.userAgent},isHTTP:function(){return"http:"===c.location.protocol}}}).call(this,void 0!==c.g?c.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash.isempty":44,"lodash.isobject":50}],21:[function(a,b,c){"use strict";var d=a("./lib/client"),e=a("./lib/util"),f=a("./lib/parse-client-token"),g=a("./lib/get-configuration");b.exports={Client:d,configure:function(a){return new d(a)},util:e,parseClientToken:f,_getConfiguration:g}},{"./lib/client":2,"./lib/get-configuration":7,"./lib/parse-client-token":9,"./lib/util":20}],22:[function(a,b,c){"use strict";b.exports={normalizeElement:function(a,b){if(b=b||"["+a+"] is not a valid DOM Element",a&&a.nodeType&&1===a.nodeType)return a;if(a&&window.jQuery&&(a instanceof jQuery||"jquery"in Object(a))&&0!==a.length)return a[0];if("string"==typeof a&&document.getElementById(a))return document.getElementById(a);throw Error(b)}}},{}],23:[function(a,b,c){"use strict";b.exports={addEventListener:function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent("on"+b,c)},removeEventListener:function(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent&&a.detachEvent("on"+b,c)}}},{}],24:[function(a,b,c){"use strict";var d=Object.prototype.toString;b.exports={bind:function(a,b){return function(){a.apply(b,arguments)}},isFunction:function(a){return"[object Function]"===d.call(a)}}},{}],25:[function(a,b,c){"use strict";function d(a){switch(a){case null:case void 0:return"";case!0:return"1";case!1:return"0";default:return encodeURIComponent(a)}}function e(a,b){var c,f,g=[];for(f in a)if(a.hasOwnProperty(f)){var h=a[f];c=b?b+"["+f+"]":f,"object"==typeof h?g.push(e(h,c)):null!=h&&g.push(d(c)+"="+d(h))}return g.join("&")}function f(a){for(var b={},c=a.split("&"),d=0;d<c.length;d++){var e=c[d].split("="),f=e[0],g=decodeURIComponent(e[1]);b[f]=g}return b}b.exports={isBrowserHttps:function(){return"https:"===window.location.protocol},makeQueryString:e,decodeQueryString:f,getParams:function(a){var b=a.split("?");return 2!==b.length?{}:f(b[1])}}},{}],26:[function(a,b,c){var d=a("./lib/dom"),e=a("./lib/url"),f=a("./lib/fn"),g=a("./lib/events");b.exports={normalizeElement:d.normalizeElement,isBrowserHttps:e.isBrowserHttps,makeQueryString:e.makeQueryString,decodeQueryString:e.decodeQueryString,getParams:e.getParams,removeEventListener:g.removeEventListener,addEventListener:g.addEventListener,bind:f.bind,isFunction:f.isFunction}},{"./lib/dom":22,"./lib/events":23,"./lib/fn":24,"./lib/url":25}],27:[function(a,b,c){"use strict";var d,e,f=a("braintree-utilities"),g=a("../shared/receiver"),h="1.3.0";function i(a,b){return(window.getComputedStyle?getComputedStyle(a):a.currentStyle)[b]}function j(a,b){this.assetsUrl=a,this.container=b||document.body,this.iframe=null,d=document.documentElement,e=document.body,this.merchantPageDefaultStyles={html:{height:d.style.height||"",overflow:i(d,"overflow"),position:i(d,"position")},body:{height:e.style.height||"",overflow:i(e,"overflow")}}}j.prototype.get=function(a,b){var c=this,d=this.constructAuthorizationURL(a);this.container&&f.isFunction(this.container)?this.container(d+"&no_style=1"):this.insertIframe(d),new g(function(a){f.isFunction(c.container)||c.removeIframe(),b(a)})},j.prototype.removeIframe=function(){this.container&&this.container.nodeType&&1===this.container.nodeType?this.container.removeChild(this.iframe):this.container&&window.jQuery&&this.container instanceof jQuery?$(this.iframe,this.container).remove():"string"==typeof this.container&&document.getElementById(this.container).removeChild(this.iframe),this.unlockMerchantWindowSize()},j.prototype.insertIframe=function(a){var b=document.createElement("iframe");if(b.src=a,this.applyStyles(b),this.lockMerchantWindowSize(),this.container&&this.container.nodeType&&1===this.container.nodeType)this.container.appendChild(b);else if(this.container&&window.jQuery&&this.container instanceof jQuery&&0!==this.container.length)this.container.append(b);else if("string"==typeof this.container&&document.getElementById(this.container))document.getElementById(this.container).appendChild(b);else throw Error("Unable to find valid container for iframe.");this.iframe=b},j.prototype.applyStyles=function(a){a.style.position="fixed",a.style.top="0",a.style.left="0",a.style.height="100%",a.style.width="100%",a.setAttribute("frameborder","0"),a.setAttribute("allowTransparency","true"),a.style.border="0",a.style.zIndex="99999"},j.prototype.lockMerchantWindowSize=function(){d.style.overflow="hidden",e.style.overflow="hidden",e.style.height="100%"},j.prototype.unlockMerchantWindowSize=function(){var a=this.merchantPageDefaultStyles;e.style.height=a.body.height,e.style.overflow=a.body.overflow,d.style.overflow=a.html.overflow},j.prototype.constructAuthorizationURL=function(a){var b,c=window.location.href;return c.indexOf("#")> -1&&(c=c.split("#")[0]),b=f.makeQueryString({acsUrl:a.acsUrl,pareq:a.pareq,termUrl:a.termUrl+"&three_d_secure_version="+h,md:a.md,parentUrl:c}),this.assetsUrl+"/3ds/"+h+"/html/style_frame?"+b},b.exports=j},{"../shared/receiver":34,"braintree-utilities":26}],28:[function(a,b,c){"use strict";var d=a("braintree-utilities"),e=a("./authorization_service"),f=a("./loader");function g(a,b){b=b||{},this.clientToken=b.clientToken,this.container=b.container,this.api=a,this.nonce=null,this._loader=null,this._boundHandleUserClose=d.bind(this._handleUserClose,this)}g.prototype.verify=function(a,b){if(!d.isFunction(b))throw this.api.sendAnalyticsEvents("3ds.web.no_callback"),Error("No suitable callback argument was given");d.isFunction(a.onUserClose)&&(this._onUserClose=a.onUserClose),d.isFunction(a.onLookupComplete)&&(this._onLookupComplete=a.onLookupComplete),(void 0===a.useDefaultLoader|| !0===a.useDefaultLoader)&&this._createDefaultLoader();var c={nonce:"",amount:a.amount},e=a.creditCard;if("string"==typeof e)c.nonce=e,this.api.sendAnalyticsEvents("3ds.web.verify.nonce"),this.startVerification(c,b);else{var f=this,g=function(a,d){if(a)return f._removeDefaultLoader(),b(a);c.nonce=d,f.startVerification(c,b)};this.api.sendAnalyticsEvents("3ds.web.verify.credit_card"),this.api.tokenizeCard(e,g)}},g.prototype.startVerification=function(a,b){this.api.lookup3DS(a,d.bind(this.handleLookupResponse(b),this))},g.prototype.handleLookupResponse=function(a){var b=this;return function(c,f){var g;this._onLookupComplete(),c?a(c.error):f.lookup&&f.lookup.acsUrl&&f.lookup.acsUrl.length>0?(b.nonce=f.paymentMethod.nonce,new e(this.clientToken.assetsUrl,this.container).get(f.lookup,d.bind(this.handleAuthenticationResponse(a),this)),this._detachListeners(),this._attachListeners()):(b.nonce=f.paymentMethod.nonce,a(null,{nonce:b.nonce,verificationDetails:f.threeDSecureInfo}))}},g.prototype.handleAuthenticationResponse=function(a){return function(b){var c,e=d.decodeQueryString(b);!e.user_closed&&((c=JSON.parse(e.auth_response)).success?a(null,{nonce:c.paymentMethod.nonce,verificationDetails:c.threeDSecureInfo}):c.threeDSecureInfo&&c.threeDSecureInfo.liabilityShiftPossible?a(null,{nonce:this.nonce,verificationDetails:c.threeDSecureInfo}):a(c.error))}},g.prototype._attachListeners=function(){d.addEventListener(window,"message",this._boundHandleUserClose)},g.prototype._detachListeners=function(){d.removeEventListener(window,"message",this._boundHandleUserClose)},g.prototype._createDefaultLoader=function(){this._loader=new f,document.body.appendChild(this._loader.getElement())},g.prototype._removeDefaultLoader=function(){if(this._loader){var a=this._loader.getElement(),b=a.parentNode;b&&b.removeChild(a),this._loader.dispose(),this._loader=null}},g.prototype._handleUserClose=function(a){"user_closed=true"===a.data&&this._onUserClose()},g.prototype._onUserClose=function(){},g.prototype._onLookupComplete=function(){this._removeDefaultLoader()},b.exports=g},{"./authorization_service":27,"./loader":30,"braintree-utilities":26}],29:[function(a,b,c){"use strict";var d=a("./client");b.exports={create:function(a,b){return new d(a,b)}}},{"./client":28}],30:[function(a,b,c){"use strict";var d=a("./loader_display"),e=a("./loader_message"),f=a("./loader_spinner");function g(){this._element=document.createElement("div"),this._element.style.cssText=this._cssDeclarations,this._display=null,this._initialize()}g.prototype._cssDeclarations="filter:progid:DXImageTransform.Microsoft.Gradient(StartColorStr=#7F000000, EndColorStr=#7F000000);background-color: rgba(0, 0, 0, 0.5);display: table;height: 100%;left: 0;position: fixed;right: 0;top: 0;width: 100%;z-index: 99999",g.prototype.getElement=function(){return this._element},g.prototype.dispose=function(){this._display.dispose(),this._display=null,this._element=null},g.prototype._initialize=function(){var a=new f;window.SVGElement&&window.SVGAnimateElement&&window.SVGAnimateTransformElement||(a=new e("Loading...")),this._display=new d(a),this.getElement().appendChild(this._display.getElement())},b.exports=g},{"./loader_display":31,"./loader_message":32,"./loader_spinner":33}],31:[function(a,b,c){"use strict";function d(a){this._element=document.createElement("div"),this._element.style.cssText=this._cssDeclarations,this._displayObject=a,this._initialize()}d.prototype._cssDeclarations="display: table-cell;vertical-align: middle",d.prototype.getElement=function(){return this._element},d.prototype.dispose=function(){this._displayObject.dispose(),this._displayObject=null,this._element=null},d.prototype._initialize=function(){this.getElement().appendChild(this._displayObject.getElement())},b.exports=d},{}],32:[function(a,b,c){"use strict";function d(a){this._element=document.createElement("div"),this._element.style.cssText=this._cssDeclarations,this._element.innerHTML=a}d.prototype._cssDeclarations="color: #fff;font-family: Helvetica, sans-serif;font-size: 12px;text-align: center",d.prototype.getElement=function(){return this._element},d.prototype.dispose=function(){this._element=null},b.exports=d},{}],33:[function(a,b,c){"use strict";function d(){this._element=document.createElement("div"),this._element.style.cssText=this._cssDeclarations,this._element.innerHTML=this._markup}d.prototype._cssDeclarations="height: 36px;margin-left: auto;margin-right: auto;width: 36px",d.prototype._markup='<svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"width="100%" height="100%" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve">  <path fill="#FFF" d="M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z">    <animateTransform attributeType="xml"    attributeName="transform"    type="rotate"    from="0 25 25"    to="360 25 25"    dur="780ms"    repeatCount="indefinite"    calcMode="spline"    keySplines="0.44, 0.22, 0, 1"    keyTimes="0;1"/>  </path></svg>',d.prototype.getElement=function(){return this._element},d.prototype.dispose=function(){this._element=null},b.exports=d},{}],34:[function(a,b,c){"use strict";var d=a("braintree-utilities");function e(a){this.postMessageReceiver(a),this.hashChangeReceiver(a)}e.prototype.postMessageReceiver=function(a){var b=this;this.wrappedCallback=function(c){var d=c.data;(/^(auth_response=)/.test(d)||"user_closed=true"===d)&&(a(d),b.stopListening())},d.addEventListener(window,"message",this.wrappedCallback)},e.prototype.hashChangeReceiver=function(a){var b,c=window.location.hash,d=this;this.poll=setInterval(function(){(b=window.location.hash).length>0&&b!==c&&(d.stopListening(),a(b=b.substring(1,b.length)),c.length>0?window.location.hash=c:window.location.hash="")},10)},e.prototype.stopListening=function(){clearTimeout(this.poll),d.removeEventListener(window,"message",this.wrappedCallback)},b.exports=e},{"braintree-utilities":26}],35:[function(a,b,c){"use strict";var d;d=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return -1},b.exports={indexOf:d}},{}],36:[function(a,b,c){"use strict";b.exports={decodeUtf8:function(a){return decodeURIComponent(function(a){var b,c,d="";for(b=0;b<a.length;b++)d+="%",(c=a[b].charCodeAt(0).toString(16).toUpperCase()).length<2&&(d+="0"),d+=c;return d}(atob(a)))}}},{}],37:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{dup:22}],38:[function(a,b,c){"use strict";b.exports={addEventListener:function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d||!1):a.attachEvent&&a.attachEvent("on"+b,c)},removeEventListener:function(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d||!1):a.detachEvent&&a.detachEvent("on"+b,c)},preventDefault:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1}}},{}],39:[function(a,b,c){"use strict";var d=Object.prototype.toString;b.exports={bind:function(a,b){return function(){return a.apply(b,arguments)}},isFunction:function(a){return"[object Function]"===d.call(a)}}},{}],40:[function(a,b,c){"use strict";b.exports={truncateEmail:function(a,b){var c,d;return -1===a.indexOf("@")?a:(c=(a=a.split("@"))[0],d=a[1],c.length>b&&(c=c.slice(0,b)+"..."),d.length>b&&(d="..."+d.slice(-b)),c+"@"+d)},getMaxCharLength:function(a){var b,c,d,e,f=[{min:0,max:180,chars:7},{min:181,max:620,chars:14},{min:621,max:960,chars:22}];for(c=0,e=f.length,a=a||window.innerWidth;c<e;c++)a>=(d=f[c]).min&&a<=d.max&&(b=d.chars);return b||60}}},{}],41:[function(a,b,c){"use strict";var d=a("./array");function e(a){switch(a){case null:case void 0:return"";case!0:return"1";case!1:return"0";default:return encodeURIComponent(a)}}function f(a,b){var c,d,g=[];for(d in a)if(a.hasOwnProperty(d)){var h=a[d];c=b?b+"["+d+"]":d,"object"==typeof h?g.push(f(h,c)):null!=h&&g.push(e(c)+"="+e(h))}return g.join("&")}function g(a){for(var b={},c=a.split("&"),d=0;d<c.length;d++){var e=c[d].split("="),f=e[0],g=decodeURIComponent(e[1]);b[f]=g}return b}var h=document.createElement("a"),i=["paypal.com","braintreepayments.com","braintreegateway.com","localhost"];b.exports={isBrowserHttps:function(){return"https:"===window.location.protocol},makeQueryString:f,decodeQueryString:g,getParams:function(a){var b=a.split("?");return 2!==b.length?{}:g(b[1])},isWhitelistedDomain:function(a){if(a=a.toLowerCase(),!/^http/.test(a))return!1;h.href=a;var b=h.hostname.split(".").slice(-2).join(".");return -1!==d.indexOf(i,b)}}},{"./array":35}],42:[function(a,b,c){"use strict";b.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"===a?b:3&b|8).toString(16)})}},{}],43:[function(a,b,c){var d=a("./lib/dom"),e=a("./lib/url"),f=a("./lib/fn"),g=a("./lib/events"),h=a("./lib/string"),i=a("./lib/array"),j=a("./lib/base64"),k=a("./lib/uuid");b.exports={string:h,array:i,normalizeElement:d.normalizeElement,isBrowserHttps:e.isBrowserHttps,makeQueryString:e.makeQueryString,decodeQueryString:e.decodeQueryString,getParams:e.getParams,isWhitelistedDomain:e.isWhitelistedDomain,removeEventListener:g.removeEventListener,addEventListener:g.addEventListener,preventDefault:g.preventDefault,bind:f.bind,isFunction:f.isFunction,base64ToUtf8:j.decodeUtf8,uuid:k}},{"./lib/array":35,"./lib/base64":36,"./lib/dom":37,"./lib/events":38,"./lib/fn":39,"./lib/string":40,"./lib/url":41,"./lib/uuid":42}],44:[function(a,b,c){var d,e=a("lodash.isarguments"),f=a("lodash.isarray"),g=a("lodash.isfunction"),h=a("lodash.isstring"),i=a("lodash.keys"),j=(d="length",function(a){return null==a?void 0:a[d]});b.exports=function(a){var b,c,d;if(null==a)return!0;return null!=(b=a)&&(d=j(b),"number"==typeof d&&d> -1&&d%1==0&&d<=9007199254740991)&&(f(a)||h(a)||e(a)||(c=a)&&"object"==typeof c&&g(a.splice))?!a.length:!i(a).length}},{"lodash.isarguments":45,"lodash.isarray":46,"lodash.isfunction":47,"lodash.isstring":51,"lodash.keys":48}],45:[function(a,b,c){var d,e=Object.prototype,f=e.hasOwnProperty,g=e.propertyIsEnumerable,h=(d="length",function(a){return null==a?void 0:a[d]});b.exports=function(a){var b,c,d;return!!(b=a)&&"object"==typeof b&&null!=(c=a)&&(d=h(c),"number"==typeof d&&d> -1&&d%1==0&&d<=9007199254740991)&&f.call(a,"callee")&&!g.call(a,"callee")}},{}],46:[function(a,b,c){var d=/^\[object .+?Constructor\]$/;function e(a){return!!a&&"object"==typeof a}var f,g,h,i=Object.prototype,j=Function.prototype.toString,k=i.hasOwnProperty,l=i.toString,m=RegExp("^"+j.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),n=(f=Array,g="isArray",h=null==f?void 0:f[g],o(h)?h:void 0);function o(a){var b,c,f;if(null==a)return!1;return(c=b=a,f=typeof c,c&&("object"==f||"function"==f)&&"[object Function]"==l.call(b))?m.test(j.call(a)):e(a)&&d.test(a)}b.exports=n||function(a){var b;return e(a)&&"number"==typeof(b=a.length)&&b> -1&&b%1==0&&b<=9007199254740991&&"[object Array]"==l.call(a)}},{}],47:[function(a,b,c){var d=Object.prototype.toString;b.exports=function(a){var b,c;return b=a,c=typeof b,!!b&&("object"==c||"function"==c)&&"[object Function]"==d.call(a)}},{}],48:[function(a,b,c){var d,e=a("lodash._getnative"),f=a("lodash.isarguments"),g=a("lodash.isarray"),h=/^\d+$/,i=Object.prototype,j=i.hasOwnProperty,k=e(Object,"keys"),l=(d="length",function(a){return null==a?void 0:a[d]});function m(a,b){return a="number"==typeof a||h.test(a)?+a:-1,b=null==b?9007199254740991:b,a> -1&&a%1==0&&a<b}function n(a){return"number"==typeof a&&a> -1&&a%1==0&&a<=9007199254740991}function o(a){for(var b=q(a),c=b.length,d=c&&a.length,e=!!d&&n(d)&&(g(a)||f(a)),h=-1,i=[];++h<c;){var k=b[h];(e&&m(k,d)||j.call(a,k))&&i.push(k)}return i}function p(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function q(a){if(null==a)return[];p(a)||(a=Object(a));var b=a.length;b=b&&n(b)&&(g(a)||f(a))&&b||0;for(var c=a.constructor,d=-1,e="function"==typeof c&&c.prototype===a,h=Array(b),i=b>0;++d<b;)h[d]=d+"";for(var k in a)i&&m(k,b)||"constructor"==k&&(e||!j.call(a,k))||h.push(k);return h}b.exports=k?function(a){var b,c=null==a?void 0:a.constructor;return"function"==typeof c&&c.prototype===a||"function"!=typeof a&&null!=(b=a)&&n(l(b))?o(a):p(a)?k(a):[]}:o},{"lodash._getnative":49,"lodash.isarguments":45,"lodash.isarray":46}],49:[function(a,b,c){var d=/^\[object .+?Constructor\]$/,e=Object.prototype,f=Function.prototype.toString,g=e.hasOwnProperty,h=e.toString,i=RegExp("^"+f.call(g).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");b.exports=function(a,b){var c=null==a?void 0:a[b];return!function a(b){var c,e,g,j;if(null==b)return!1;return(g=c=b,j=typeof g,g&&("object"==j||"function"==j)&&"[object Function]"==h.call(c))?i.test(f.call(b)):!!(e=b)&&"object"==typeof e&&d.test(b)}(c)?void 0:c}},{}],50:[function(a,b,c){b.exports=function(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}},{}],51:[function(a,b,c){var d=Object.prototype.toString;b.exports=function(a){var b;return"string"==typeof a|| !!(b=a)&&"object"==typeof b&&"[object String]"==d.call(a)}},{}],52:[function(a,b,c){"use strict";var d=a("framebus"),e=a("./lib/events"),f=a("./lib/check-origin").checkOrigin;function g(a){if(a=a||{},this.channel=a.channel,!this.channel)throw Error("Channel ID must be specified");this.merchantUrl=a.merchantUrl,this._isDestroyed=!1,this._isVerbose=!1,this._listeners=[],this._log("new bus on channel "+this.channel,[location.href])}g.prototype.on=function(a,b){var c,e,g=b,h=this;!this._isDestroyed&&(this.merchantUrl&&(g=function(){f(this.origin,h.merchantUrl)&&b.apply(this,arguments)}),c=this._namespaceEvent(a),e=Array.prototype.slice.call(arguments),e[0]=c,e[1]=g,this._log("on",e),d.on.apply(d,e),this._listeners.push({eventName:a,handler:g,originalHandler:b}))},g.prototype.emit=function(a,b,c){var e;!this._isDestroyed&&(e=Array.prototype.slice.call(arguments),e[0]=this._namespaceEvent(a),this._log("emit",e),d.emit.apply(d,e))},g.prototype._offDirect=function(a,b){var c=Array.prototype.slice.call(arguments);!this._isDestroyed&&(c[0]=this._namespaceEvent(a),this._log("off",c),d.off.apply(d,c))},g.prototype.off=function(a,b){var c,d,e=b;if(!this._isDestroyed){if(this.merchantUrl)for(c=0;c<this._listeners.length;c++)(d=this._listeners[c]).originalHandler===b&&(e=d.handler);this._offDirect.call(this,a,e)}},g.prototype._namespaceEvent=function(a){return["braintree",this.channel,a].join(":")},g.prototype.teardown=function(){var a,b;for(b=0;b<this._listeners.length;b++)a=this._listeners[b],this._offDirect(a.eventName,a.handler);this._listeners.length=0,this._isDestroyed=!0},g.prototype._log=function(a,b){this._isVerbose&&console.log(a,b)},g.events=e,b.exports=g},{"./lib/check-origin":53,"./lib/events":54,framebus:55}],53:[function(a,b,c){"use strict";var d=/^https:\/\/([a-zA-Z0-9-]+\.)*(braintreepayments|braintreegateway|paypal)\.com(:\d{1,5})?$/;b.exports={checkOrigin:function(a,b){var c,e,f=document.createElement("a");return f.href=b,e="https:"===f.protocol?f.host.replace(/:443$/,""):"http:"===f.protocol?f.host.replace(/:80$/,""):f.host,c=f.protocol+"//"+e,c===a||d.test(a)}}},{}],54:[function(a,b,c){"use strict";var d,e,f=["PAYMENT_METHOD_REQUEST","PAYMENT_METHOD_RECEIVED","PAYMENT_METHOD_GENERATED","PAYMENT_METHOD_NOT_GENERATED","PAYMENT_METHOD_CANCELLED","PAYMENT_METHOD_ERROR","CONFIGURATION_REQUEST","ROOT_METADATA_REQUEST","ERROR","WARNING","UI_POPUP_DID_OPEN","UI_POPUP_DID_CLOSE","UI_POPUP_FORCE_CLOSE","ASYNC_DEPENDENCY_INITIALIZING","ASYNC_DEPENDENCY_READY","USER_FORM_SUBMIT_REQUEST","SEND_ANALYTICS_EVENTS"],g={};for(d=0;d<f.length;d++)g[e=f[d]]=e;b.exports=g},{}],55:[function(b,c,d){"use strict";!function(b,e){"object"==typeof d&& void 0!==c?c.exports=e():"function"==typeof a&&a.amd?a([],e):b.framebus=e()}(this,function(){var a,b,c,d=[],e={},f="/*framebus*/";function g(a){var c,d,e=j(this);return!(k(a)||k(e))&&(d=Array.prototype.slice.call(arguments,1),!1!==(c=l(a,d,e))&&(o(b.top,c,e),!0))}function h(a,b){var c=j(this);return!r(a,b,c)&&(e[c]=e[c]||{},e[c][a]=e[c][a]||[],e[c][a].push(b),!0)}function i(a,b){var c,d,f=j(this);if(r(a,b,f)||!(d=e[f]&&e[f][a]))return!1;for(c=0;c<d.length;c++)if(d[c]===b)return d.splice(c,1),!0;return!1}function j(a){return a&&a._origin||"*"}function k(a){return"string"!=typeof a}function l(a,b,c){var d=!1,e={event:a,origin:c},g=b[b.length-1];"function"==typeof g&&(e.reply=q(g,c),b=b.slice(0,-1)),e.args=b;try{d=f+JSON.stringify(e)}catch(h){throw Error("Could not stringify event: "+h.message)}return d}function m(a){var b;!k(a.data)&&(b=function(a){var b,c,d,e;if(a.data.slice(0,f.length)!==f)return!1;try{b=JSON.parse(a.data.slice(f.length))}catch(g){return!1}return null!=b.reply&&(c=a.origin,d=a.source,e=b.reply,b.reply=function(a){var b=l(e,[a],c);if(!1===b)return!1;d.postMessage(b,c)},b.args.push(b.reply)),b}(a))&&(n("*",b.event,b.args,a),n(a.origin,b.event,b.args,a),p(a.data,b.origin,a.source))}function n(a,b,c,d){var f;if(e[a]&&e[a][b])for(f=0;f<e[a][b].length;f++)e[a][b][f].apply(d,c)}function o(a,c,d){var e;try{a.postMessage(c,d)}catch(f){return}for(a.opener&&a.opener!==a&&!a.opener.closed&&a.opener!==b&&o(a.opener.top,c,d),e=0;e<a.frames.length;e++)o(a.frames[e],c,d)}function p(a,b,c){var e,f;for(e=d.length-1;e>=0;e--)!0===(f=d[e]).closed?d=d.slice(e,1):c!==f&&o(f.top,a,b)}function q(a,b){var d="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"===a?b:3&b|8).toString(16)});function e(f,g){a(f,g),c.target(b).unsubscribe(d,e)}return c.target(b).subscribe(d,e),d}function r(a,b,c){return!!(k(a)||"function"!=typeof b||k(c))}return b||((b=window).addEventListener?b.addEventListener("message",m,!1):b.attachEvent?b.attachEvent("onmessage",m):null===b.onmessage?b.onmessage=m:b=null),c={target:function(a){var b,d={};for(b in c)c.hasOwnProperty(b)&&(d[b]=c[b]);return d._origin=a||"*",d},include:function(a){return null!=a&&null!=a.Window&&a.constructor===a.Window&&(d.push(a),!0)},publish:g,pub:g,trigger:g,emit:g,subscribe:h,sub:h,on:h,unsubscribe:i,unsub:i,off:i}})},{}],56:[function(a,b,c){"use strict";var d=a("./lib/coinbase");b.exports={create:function(a){return new d(a)}}},{"./lib/coinbase":59}],57:[function(a,b,d){(function(a){"use strict";b.exports={ieVersion:function(b){b=b||a.navigator.userAgent;var c=null,d=/MSIE.(\d+)/.exec(b);return/Trident/.test(b)&&(c=11),d&&(c=parseInt(d[1],10)),c},iOSSafariVersion:function(b){return(b=b||a.navigator.userAgent,/AppleWebKit\//.test(b)&&/Mobile\//.test(b))?b.replace(/.* OS ([0-9_]+) like Mac OS X.*/,"$1").replace(/_/g,"."):null},androidVersion:function(b){return(b=b||a.navigator.userAgent,/Android/.test(b))?b.replace(/^.* Android ([0-9\.]+).*$/,"$1"):null}}}).call(this,void 0!==c.g?c.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],58:[function(a,b,c){"use strict";var d=a("braintree-bus").events;b.exports={tokenize:function(a,b,c){if(a){c.bus.emit(d.ERROR,a.error),c._sendAnalyticsEvent("generate.nonce.failed");return}c.bus.emit(d.PAYMENT_METHOD_GENERATED,b),c._sendAnalyticsEvent("generate.nonce.succeeded")}}},{"braintree-bus":67}],59:[function(a,b,d){(function(c){"use strict";var d=a("braintree-utilities"),e=a("destructor"),f=a("./dom/composer"),g=a("./url-composer"),h=a("./callbacks"),i=a("./constants"),j=a("./detector"),k=a("braintree-bus");function l(a){var b,f,g;this.destructor=new e,this.channel=a.channel,f={channel:this.channel};try{a.coinbase.container&&(f.merchantUrl=c.location.href)}catch(h){}this.bus=a.bus||new k(f),this.canCreateIntegration=function(a,b){var c,d=(a||{}).coinbase,e=(c=b,function(a,b){c.emit(k.events.ERROR,{type:b,message:a})});if(null==a.apiClient)e("settings.apiClient is required for coinbase",i.CONFIGURATION_ERROR);else if(a.configuration.coinbaseEnabled){if(d&&(d.container||d.button)){if(d.container&&d.button)e("options.coinbase.container and options.coinbase.button are mutually exclusive",i.CONFIGURATION_ERROR);else{if(j.isSupportedBrowser())return!0;e("Coinbase is not supported by your browser. Please consider upgrading",i.UNSUPPORTED_BROWSER_ERROR)}}else e("Either options.coinbase.container or options.coinbase.button is required for Coinbase integrations",i.CONFIGURATION_ERROR)}else e("Coinbase is not enabled for your merchant account",i.CONFIGURATION_ERROR);return!1}(a,this.bus),this.canCreateIntegration&&(this.buttonId=a.coinbase.button||i.BUTTON_ID,this.apiClient=a.apiClient,this.assetsUrl=a.configuration.assetsUrl,this.environment=a.configuration.coinbase.environment,this._onOAuthSuccess=d.bind(this._onOAuthSuccess,this),this._handleButtonClick=d.bind(this._handleButtonClick,this),this.popupParams={clientId:(g=a).configuration.coinbase.clientId,redirectUrl:g.configuration.coinbase.redirectUrl,scopes:g.configuration.coinbase.scopes||i.SCOPES,meta:{authorizations_merchant_account:g.configuration.coinbase.merchantAccount||""}},this.redirectDoneInterval=null,a.coinbase.container?(b=d.normalizeElement(a.coinbase.container),this._insertFrame(b)):(c.braintreeCoinbasePopupCallback=this._onOAuthSuccess,b=document.body,d.addEventListener(b,"click",this._handleButtonClick),this._sendAnalyticsEvent("initialized"),this.destructor.registerFunctionForTeardown(d.bind(function(){this._closePopup()},this)),this.bus.on(i.TEARDOWN_EVENT,d.bind(this.destructor.teardown,this.destructor))))}l.prototype._sendAnalyticsEvent=function(a){var b=this.apiClient.integration+".web.coinbase.";this.apiClient.sendAnalyticsEvents(b+a)},l.prototype._insertFrame=function(a){var b=f.createFrame({channel:this.channel});this.bus.emit(k.events.ASYNC_DEPENDENCY_INITIALIZING),a.appendChild(b),this.destructor.registerFunctionForTeardown(function(){a.removeChild(b)}),setTimeout(d.bind(function(){b.src=this.assetsUrl+"/coinbase/"+i.VERSION+"/coinbase-frame.html#"+this.channel},this),0)},l.prototype._onOAuthSuccess=function(a){if(!a.code){this._sendAnalyticsEvent("popup.denied"),this._closePopup();return}this.bus.emit("coinbase:view:navigate","loading"),this._sendAnalyticsEvent("popup.authorized"),this.apiClient.tokenizeCoinbase({code:a.code,query:g.getQueryString()},d.bind(function(a,b){h.tokenize.apply(null,[a,b,this])},this)),this._closePopup()},l.prototype._clearPollForRedirectDone=function(){this.redirectDoneInterval&&(clearInterval(this.redirectDoneInterval),this.redirectDoneInterval=null)},l.prototype._closePopup=function(a){null!=(a=a||this.popup)&&(j.shouldCloseFromParent()&&a.close(),this._popupCleanup())},l.prototype._popupCleanup=function(){this._clearPollForRedirectDone(),this.bus.emit(k.events.UI_POPUP_DID_CLOSE,{source:i.INTEGRATION_NAME})},l.prototype._pollForRedirectDone=function(a){var b=setInterval(d.bind(function(){var b;if(null==a||a.closed){this._sendAnalyticsEvent("popup.aborted"),this._popupCleanup();return}try{if("about:blank"===a.location.href)throw Error("Not finished loading");b=d.decodeQueryString(a.location.search.replace(/^\?/,"")).code}catch(c){return}this._onOAuthSuccess({code:b})},this),100);return this.redirectDoneInterval=b,b},l.prototype._openPopup=function(){var a;this._sendAnalyticsEvent("popup.started"),(a=f.createPopup(g.compose(this._getOAuthBaseUrl(),this.popupParams))).focus(),this._pollForRedirectDone(a),this.bus.emit(k.events.UI_POPUP_DID_OPEN,{source:i.INTEGRATION_NAME}),this.bus.on(k.events.UI_POPUP_FORCE_CLOSE,function(b){b.target===i.INTEGRATION_NAME&&a.close()}),this.popup=a},l.prototype._getOAuthBaseUrl=function(){var a;return"shared_sandbox"===this.environment?i.SANDBOX_OAUTH_BASE_URL:i.PRODUCTION_OAUTH_BASE_URL},l.prototype._handleButtonClick=function(a){for(var b=a.target||a.srcElement;;){if(null==b||b===a.currentTarget)return;if(b.id===this.buttonId)break;b=b.parentNode}a&&a.preventDefault?a.preventDefault():a.returnValue=!1,this._openPopup()},l.prototype.teardown=function(a){var b=this;if(!this.canCreateIntegration){a(null);return}this.bus.emit(i.TEARDOWN_EVENT,function(){b.destructor.teardown(function(c){if(c)return a(c);b.bus.teardown(),a(null)})})},b.exports=l}).call(this,void 0!==c.g?c.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./callbacks":58,"./constants":60,"./detector":61,"./dom/composer":63,"./url-composer":66,"braintree-bus":67,"braintree-utilities":79,destructor:80}],60:[function(a,b,c){"use strict";b.exports={PRODUCTION_OAUTH_BASE_URL:"https://coinbase.com",SANDBOX_OAUTH_BASE_URL:"https://sandbox.coinbase.com",ORIGIN_URL:"https://www.coinbase.com",FRAME_NAME:"braintree-coinbase-frame",POPUP_NAME:"coinbase",BUTTON_ID:"bt-coinbase-button",SCOPES:"send",VERSION:"0.3.1",INTEGRATION_NAME:"Coinbase",CONFIGURATION_ERROR:"CONFIGURATION",UNSUPPORTED_BROWSER_ERROR:"UNSUPPORTED_BROWSER",TEARDOWN_EVENT:"coinbase:TEARDOWN"}},{}],61:[function(a,b,c){"use strict";var d=a("./browser");function e(){var a=d.androidVersion();return null!=a&&/^5/.test(a)}function f(){var a=d.iOSSafariVersion();return null!=a&&(/^8\.0/.test(a)||/^8\.1$/.test(a))}b.exports={isSupportedBrowser:function(){var a=d.ieVersion();return!a||a>8},shouldCloseFromParent:function(){return!(e()||f())},shouldDisplayIOSClose:f,shouldDisplayLollipopClose:e}},{"./browser":57}],62:[function(a,b,c){"use strict";b.exports={create:function(a){var b=document.createElement("button");return a=a||{},b.id=a.id||"coinbase-button",b.style.backgroundColor=a.backgroundColor||"#EEE",b.style.color=a.color||"#4597C3",b.style.border=a.border||"0",b.style.borderRadius=a.borderRadius||"6px",b.style.padding=a.padding||"12px",b.innerHTML=a.innerHTML||"coinbase",b}}},{}],63:[function(a,b,c){"use strict";var d=a("./popup"),e=a("./button"),f=a("./frame");b.exports={createButton:e.create,createPopup:d.create,createFrame:f.create}},{"./button":62,"./frame":64,"./popup":65}],64:[function(a,b,c){"use strict";var d=a("../constants"),e=a("iframer");b.exports={create:function(a){return e({name:d.FRAME_NAME,height:"70px",width:"100%",style:{padding:0,margin:0,border:0,outline:"none"}})}}},{"../constants":60,iframer:83}],65:[function(a,b,d){(function(c){"use strict";var d=a("../constants");b.exports={create:function(a){return c.open(a,d.POPUP_NAME,function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push([c,a[c]].join("="));return b.join(",")}({width:850,height:600,left:(screen.width-850)/2,top:(screen.height-600)/4}))}}}).call(this,void 0!==c.g?c.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../constants":60}],66:[function(a,b,c){"use strict";var d=a("./constants");function e(){return"version="+d.VERSION}b.exports={compose:function(a,b){var c=a+"/oauth/authorize?response_type=code";if(c+="&redirect_uri="+encodeURIComponent(b.redirectUrl+"?"+e()),c+="&client_id="+b.clientId,b.scopes&&(c+="&scope="+encodeURIComponent(b.scopes)),b.meta)for(var d in b.meta)b.meta.hasOwnProperty(d)&&(c+="&meta["+encodeURIComponent(d)+"]="+encodeURIComponent(b.meta[d]));return c},getQueryString:e}},{"./constants":60}],67:[function(a,b,c){arguments[4][52][0].apply(c,arguments)},{"./lib/check-origin":68,"./lib/events":69,dup:52,framebus:70}],68:[function(a,b,c){arguments[4][53][0].apply(c,arguments)},{dup:53}],69:[function(a,b,c){arguments[4][54][0].apply(c,arguments)},{dup:54}],70:[function(a,b,c){arguments[4][55][0].apply(c,arguments)},{dup:55}],71:[function(a,b,c){arguments[4][35][0].apply(c,arguments)},{dup:35}],72:[function(a,b,c){arguments[4][36][0].apply(c,arguments)},{dup:36}],73:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{dup:22}],74:[function(a,b,c){arguments[4][38][0].apply(c,arguments)},{dup:38}],75:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],76:[function(a,b,c){arguments[4][40][0].apply(c,arguments)},{dup:40}],77:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{"./array":71,dup:41}],78:[function(a,b,c){arguments[4][42][0].apply(c,arguments)},{dup:42}],79:[function(a,b,c){arguments[4][43][0].apply(c,arguments)},{"./lib/array":71,"./lib/base64":72,"./lib/dom":73,"./lib/events":74,"./lib/fn":75,"./lib/string":76,"./lib/url":77,"./lib/uuid":78,dup:43}],80:[function(a,b,c){"use strict";var d=a("batch-execute-functions"),e=a("braintree-utilities/lib/fn");function f(){this._teardownRegistry=[]}f.prototype.registerFunctionForTeardown=function(a){e.isFunction(a)&&this._teardownRegistry.push(a)},f.prototype.teardown=function(a){d(this._teardownRegistry,e.bind(function(b){this._teardownRegistry=[],e.isFunction(a)&&a(b)},this))},b.exports=f},{"batch-execute-functions":81,"braintree-utilities/lib/fn":82}],81:[function(a,b,c){"use strict";function d(a,b){var c;0===a.length?(a(),b(null)):(c=e(b),a(c))}function e(a){var b=!1;return function(){b||(b=!0,a.apply(this,arguments))}}b.exports=function(a,b){var c=a.length,e=c;if(0===c){b(null);return}for(var f=0;f<c;f++)d(a[f],function(a){if(a){b(a);return}0==(e-=1)&&b(null)})}},{}],82:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],83:[function(a,b,c){"use strict";var d=a("lodash.assign"),e=a("lodash.isstring"),f=a("setattributes"),g=a("./lib/default-attributes");b.exports=function(a){var b=document.createElement("iframe"),c=d({},g,a);return c.style&&!e(c.style)&&(d(b.style,c.style),delete c.style),f(b,c),b.getAttribute("id")||(b.id=b.name),b}},{"./lib/default-attributes":84,"lodash.assign":85,"lodash.isstring":96,setattributes:97}],84:[function(a,b,c){b.exports={src:"about:blank",frameBorder:0,allowtransparency:!0,scrolling:"no"}},{}],85:[function(a,b,c){var d=a("lodash._baseassign"),e=a("lodash._createassigner"),f=a("lodash.keys"),g=e(function(a,b,c){return c?function(a,b,c){for(var d=-1,e=f(b),g=e.length;++d<g;){var h=e[d],i=a[h],j=c(i,b[h],h,a,b);(j==j?j===i:i!=i)&&(void 0!==i||h in a)||(a[h]=j)}return a}(a,b,c):d(a,b)});b.exports=g},{"lodash._baseassign":86,"lodash._createassigner":88,"lodash.keys":92}],86:[function(a,b,c){var d=a("lodash._basecopy"),e=a("lodash.keys");b.exports=function(a,b){return null==b?a:d(b,e(b),a)}},{"lodash._basecopy":87,"lodash.keys":92}],87:[function(a,b,c){b.exports=function(a,b,c){c||(c={});for(var d=-1,e=b.length;++d<e;){var f=b[d];c[f]=a[f]}return c}},{}],88:[function(a,b,c){var d=a("lodash._bindcallback"),e=a("lodash._isiterateecall"),f=a("lodash.restparam");b.exports=function(a){return f(function(b,c){var f=-1,g=null==b?0:c.length,h=g>2?c[g-2]:void 0,i=g>2?c[2]:void 0,j=g>1?c[g-1]:void 0;for("function"==typeof h?(h=d(h,j,5),g-=2):(h="function"==typeof j?j:void 0,g-=h?1:0),i&&e(c[0],c[1],i)&&(h=g<3?void 0:h,g=1);++f<g;){var k=c[f];k&&a(b,k,h)}return b})}},{"lodash._bindcallback":89,"lodash._isiterateecall":90,"lodash.restparam":91}],89:[function(a,b,c){function d(a){return a}b.exports=function(a,b,c){if("function"!=typeof a)return d;if(void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}},{}],90:[function(a,b,c){var d,e=/^\d+$/,f=(d="length",function(a){return null==a?void 0:a[d]});b.exports=function(a,b,c){if(d=c,g=typeof d,!d||"object"!=g&&"function"!=g)return!1;var d,g,h,i,j,k,l=typeof b;if("number"==l?null!=(h=c)&&(k=f(h),"number"==typeof k&&k> -1&&k%1==0&&k<=9007199254740991)&&(i=b,j=c.length,i="number"==typeof i||e.test(i)?+i:-1,j=null==j?9007199254740991:j,i> -1&&i%1==0&&i<j):"string"==l&&b in c){var m=c[b];return a==a?a===m:m!=m}return!1}},{}],91:[function(a,b,c){var d=Math.max;b.exports=function(a,b){if("function"!=typeof a)throw TypeError("Expected a function");return b=d(void 0===b?a.length-1:+b||0,0),function(){for(var c=arguments,e=-1,f=d(c.length-b,0),g=Array(f);++e<f;)g[e]=c[b+e];switch(b){case 0:return a.call(this,g);case 1:return a.call(this,c[0],g);case 2:return a.call(this,c[0],c[1],g)}var h=Array(b+1);for(e=-1;++e<b;)h[e]=c[e];return h[b]=g,a.apply(this,h)}}},{}],92:[function(a,b,c){arguments[4][48][0].apply(c,arguments)},{dup:48,"lodash._getnative":93,"lodash.isarguments":94,"lodash.isarray":95}],93:[function(a,b,c){arguments[4][49][0].apply(c,arguments)},{dup:49}],94:[function(a,b,c){arguments[4][45][0].apply(c,arguments)},{dup:45}],95:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46}],96:[function(a,b,c){arguments[4][51][0].apply(c,arguments)},{dup:51}],97:[function(a,b,c){b.exports=function(a,b){var c;for(var d in b)b.hasOwnProperty(d)&&(null==(c=b[d])?a.removeAttribute(d):a.setAttribute(d,c))}},{}],98:[function(a,b,c){arguments[4][2][0].apply(c,arguments)},{"./coinbase-account":99,"./constants":100,"./credit-card":101,"./europe-bank-account":102,"./normalize-api-fields":104,"./parse-client-token":105,"./paypal-account":106,"./request/choose-driver":109,"./sepa-mandate":114,"./should-enable-cors":115,"./util":116,"braintree-3ds":125,"braintree-utilities":139,dup:2}],99:[function(a,b,c){arguments[4][3][0].apply(c,arguments)},{dup:3}],100:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],101:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{dup:5}],102:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],103:[function(a,b,c){arguments[4][7][0].apply(c,arguments)},{"./constants":100,"./parse-client-token":105,"./request/choose-driver":109,"./should-enable-cors":115,"./util":116,dup:7}],104:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{dup:8}],105:[function(a,b,c){arguments[4][9][0].apply(c,arguments)},{"./polyfill":107,"braintree-utilities":139,dup:9}],106:[function(a,b,c){arguments[4][10][0].apply(c,arguments)},{dup:10}],107:[function(a,b,c){arguments[4][11][0].apply(c,arguments)},{dup:11}],108:[function(a,b,c){arguments[4][12][0].apply(c,arguments)},{"../constants":100,"../util":116,"./parse-body":112,"./prep-body":113,dup:12}],109:[function(a,b,c){arguments[4][13][0].apply(c,arguments)},{"../util":116,"./ajax-driver":108,"./jsonp-driver":110,dup:13}],110:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{"../constants":100,"./jsonp":111,dup:14}],111:[function(a,b,c){arguments[4][15][0].apply(c,arguments)},{"../util":116,dup:15}],112:[function(a,b,c){arguments[4][16][0].apply(c,arguments)},{dup:16}],113:[function(a,b,c){arguments[4][17][0].apply(c,arguments)},{dup:17,"lodash.isstring":147}],114:[function(a,b,c){arguments[4][18][0].apply(c,arguments)},{dup:18}],115:[function(a,b,c){arguments[4][19][0].apply(c,arguments)},{dup:19}],116:[function(a,b,c){arguments[4][20][0].apply(c,arguments)},{dup:20,"lodash.isempty":140,"lodash.isobject":146}],117:[function(a,b,c){arguments[4][21][0].apply(c,arguments)},{"./lib/client":98,"./lib/get-configuration":103,"./lib/parse-client-token":105,"./lib/util":116,dup:21}],118:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{dup:22}],119:[function(a,b,c){arguments[4][23][0].apply(c,arguments)},{dup:23}],120:[function(a,b,c){arguments[4][24][0].apply(c,arguments)},{dup:24}],121:[function(a,b,c){arguments[4][25][0].apply(c,arguments)},{dup:25}],122:[function(a,b,c){arguments[4][26][0].apply(c,arguments)},{"./lib/dom":118,"./lib/events":119,"./lib/fn":120,"./lib/url":121,dup:26}],123:[function(a,b,c){arguments[4][27][0].apply(c,arguments)},{"../shared/receiver":130,"braintree-utilities":122,dup:27}],124:[function(a,b,c){arguments[4][28][0].apply(c,arguments)},{"./authorization_service":123,"./loader":126,"braintree-utilities":122,dup:28}],125:[function(a,b,c){arguments[4][29][0].apply(c,arguments)},{"./client":124,dup:29}],126:[function(a,b,c){arguments[4][30][0].apply(c,arguments)},{"./loader_display":127,"./loader_message":128,"./loader_spinner":129,dup:30}],127:[function(a,b,c){arguments[4][31][0].apply(c,arguments)},{dup:31}],128:[function(a,b,c){arguments[4][32][0].apply(c,arguments)},{dup:32}],129:[function(a,b,c){arguments[4][33][0].apply(c,arguments)},{dup:33}],130:[function(a,b,c){arguments[4][34][0].apply(c,arguments)},{"braintree-utilities":122,dup:34}],131:[function(a,b,c){arguments[4][35][0].apply(c,arguments)},{dup:35}],132:[function(a,b,c){arguments[4][36][0].apply(c,arguments)},{dup:36}],133:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{dup:22}],134:[function(a,b,c){arguments[4][38][0].apply(c,arguments)},{dup:38}],135:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],136:[function(a,b,c){arguments[4][40][0].apply(c,arguments)},{dup:40}],137:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{"./array":131,dup:41}],138:[function(a,b,c){arguments[4][42][0].apply(c,arguments)},{dup:42}],139:[function(a,b,c){arguments[4][43][0].apply(c,arguments)},{"./lib/array":131,"./lib/base64":132,"./lib/dom":133,"./lib/events":134,"./lib/fn":135,"./lib/string":136,"./lib/url":137,"./lib/uuid":138,dup:43}],140:[function(a,b,c){arguments[4][44][0].apply(c,arguments)},{dup:44,"lodash.isarguments":141,"lodash.isarray":142,"lodash.isfunction":143,"lodash.isstring":147,"lodash.keys":144}],141:[function(a,b,c){arguments[4][45][0].apply(c,arguments)},{dup:45}],142:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46}],143:[function(a,b,c){arguments[4][47][0].apply(c,arguments)},{dup:47}],144:[function(a,b,c){arguments[4][48][0].apply(c,arguments)},{dup:48,"lodash._getnative":145,"lodash.isarguments":141,"lodash.isarray":142}],145:[function(a,b,c){arguments[4][49][0].apply(c,arguments)},{dup:49}],146:[function(a,b,c){arguments[4][50][0].apply(c,arguments)},{dup:50}],147:[function(a,b,c){arguments[4][51][0].apply(c,arguments)},{dup:51}],148:[function(a,b,c){arguments[4][52][0].apply(c,arguments)},{"./lib/check-origin":149,"./lib/events":150,dup:52,framebus:151}],149:[function(a,b,c){arguments[4][53][0].apply(c,arguments)},{dup:53}],150:[function(a,b,c){arguments[4][54][0].apply(c,arguments)},{dup:54}],151:[function(a,b,c){arguments[4][55][0].apply(c,arguments)},{dup:55}],152:[function(a,b,c){arguments[4][52][0].apply(c,arguments)},{"./lib/check-origin":153,"./lib/events":154,dup:52,framebus:155}],153:[function(a,b,c){arguments[4][53][0].apply(c,arguments)},{dup:53}],154:[function(a,b,c){arguments[4][54][0].apply(c,arguments)},{dup:54}],155:[function(a,b,c){arguments[4][55][0].apply(c,arguments)},{dup:55}],156:[function(a,b,c){arguments[4][35][0].apply(c,arguments)},{dup:35}],157:[function(a,b,c){arguments[4][36][0].apply(c,arguments)},{dup:36}],158:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{dup:22}],159:[function(a,b,c){arguments[4][38][0].apply(c,arguments)},{dup:38}],160:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],161:[function(a,b,c){arguments[4][40][0].apply(c,arguments)},{dup:40}],162:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{"./array":156,dup:41}],163:[function(a,b,c){arguments[4][42][0].apply(c,arguments)},{dup:42}],164:[function(a,b,c){arguments[4][43][0].apply(c,arguments)},{"./lib/array":156,"./lib/base64":157,"./lib/dom":158,"./lib/events":159,"./lib/fn":160,"./lib/string":161,"./lib/url":162,"./lib/uuid":163,dup:43}],165:[function(a,b,c){arguments[4][80][0].apply(c,arguments)},{"batch-execute-functions":166,"braintree-utilities/lib/fn":167,dup:80}],166:[function(a,b,c){arguments[4][81][0].apply(c,arguments)},{dup:81}],167:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],168:[function(a,b,c){arguments[4][83][0].apply(c,arguments)},{"./lib/default-attributes":169,dup:83,"lodash.assign":170,"lodash.isstring":181,setattributes:182}],169:[function(a,b,c){arguments[4][84][0].apply(c,arguments)},{dup:84}],170:[function(a,b,c){arguments[4][85][0].apply(c,arguments)},{dup:85,"lodash._baseassign":171,"lodash._createassigner":173,"lodash.keys":177}],171:[function(a,b,c){arguments[4][86][0].apply(c,arguments)},{dup:86,"lodash._basecopy":172,"lodash.keys":177}],172:[function(a,b,c){arguments[4][87][0].apply(c,arguments)},{dup:87}],173:[function(a,b,c){arguments[4][88][0].apply(c,arguments)},{dup:88,"lodash._bindcallback":174,"lodash._isiterateecall":175,"lodash.restparam":176}],174:[function(a,b,c){arguments[4][89][0].apply(c,arguments)},{dup:89}],175:[function(a,b,c){arguments[4][90][0].apply(c,arguments)},{dup:90}],176:[function(a,b,c){arguments[4][91][0].apply(c,arguments)},{dup:91}],177:[function(a,b,c){arguments[4][48][0].apply(c,arguments)},{dup:48,"lodash._getnative":178,"lodash.isarguments":179,"lodash.isarray":180}],178:[function(a,b,c){arguments[4][49][0].apply(c,arguments)},{dup:49}],179:[function(a,b,c){arguments[4][45][0].apply(c,arguments)},{dup:45}],180:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46}],181:[function(a,b,c){arguments[4][51][0].apply(c,arguments)},{dup:51}],182:[function(a,b,c){arguments[4][97][0].apply(c,arguments)},{dup:97}],183:[function(a,b,d){(function(c){"use strict";var d=a("braintree-utilities"),e=a("../../shared/util/browser"),f=a("destructor"),g=a("braintree-bus"),h=a("../../shared/constants"),i=a("./popup-view"),j=a("./modal-view");function k(a){this.options=a||{},this.destructor=new f,this.bus=new g({merchantUrl:c.location.href,channel:this.options.channel}),this.destructor.registerFunctionForTeardown(d.bind(function(){this.bus.teardown()},this)),this._initialize()}k.prototype._initialize=function(){e.isPopupSupported()?this.app=new i({src:this._buildUrl(),isHermes:this.options.isHermes,channel:this.options.channel}):this.app=new j({src:this._buildUrl(),headless:this.options.headless,isHermes:this.options.isHermes,insertFrameFunction:this.options.insertFrameFunction,channel:this.options.channel}),this.destructor.registerFunctionForTeardown(d.bind(function(){this.app.teardown()},this)),this.bus.on(h.events.CLOSE_APP,d.bind(this.close,this)),this.bus.on(h.events.FOCUS_APP,d.bind(this.focus,this)),this.bus.on(g.events.PAYMENT_METHOD_GENERATED,d.bind(this._handlePaymentMethodGenerated,this)),this.bus.on(g.events.UI_POPUP_FORCE_CLOSE,d.bind(this._handleForceClose,this))},k.prototype._buildUrl=function(){var a=this.options.paypalAssetsUrl;return a+="/pwpp/",a+=h.VERSION,a+="/html/braintree-frame.html",a+="#"+this.options.channel},k.prototype.open=function(){this.focus(),this.app.open(),this.poll()},k.prototype._handleForceClose=function(a){a.target===h.PAYPAL_INTEGRATION_NAME&&this.close()},k.prototype.close=function(){this.app.close()},k.prototype.focus=function(){d.isFunction(this.app.focus)&&this.app.focus()},k.prototype.isClosed=function(){return this.app.isClosed()},k.prototype.stopPolling=function(){clearInterval(this.pollId)},k.prototype.poll=function(){this.pollId=setInterval(d.bind(function(){this.isClosed()&&this._handleClosed()},this),100)},k.prototype._handlePaymentMethodGenerated=function(a){a.type===h.NONCE_TYPE&&this.close()},k.prototype._handleClosed=function(){this.stopPolling(),this.close(),e.isPopupSupported()&&(this.app.el=null)},k.prototype.teardown=function(){this.destructor.teardown()},b.exports=k}).call(this,void 0!==c.g?c.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../shared/constants":186,"../../shared/util/browser":191,"./modal-view":184,"./popup-view":185,"braintree-bus":152,"braintree-utilities":164,destructor:165}],184:[function(a,b,d){(function(c){"use strict";var d=a("braintree-utilities"),e=a("../../shared/util/browser"),f=a("../../shared/constants"),g=a("braintree-bus"),h=a("iframer");function i(a){this.options=a||{},this.container=document.body,this.bus=new g({merchantUrl:c.location.href,channel:a.channel}),this.options.headless?this._open=this._openHeadless:this._attachBusEvents(),this._initialize()}i.prototype._attachBusEvents=function(){this.bus.on(f.events.OPEN_MODAL,d.bind(this.open,this))},i.prototype._initialize=function(){var a=this.options.isHermes?f.HERMES_FRAME_NAME:f.FRAME_NAME;this.el=h({src:this.options.src,name:a,height:this.options.height||"100%",width:this.options.width||"100%",style:{position:e.isMobile()?"absolute":"fixed",top:0,left:0,bottom:0,padding:0,margin:0,border:0,outline:"none",zIndex:20001,background:"#FFFFFF"}})},i.prototype.isClosed=function(){return!this.container.contains(this.el)},i.prototype._openHeadless=function(){this.bus.emit(f.events.OPEN_MODAL)},i.prototype._open=function(){d.isFunction(this.options.insertFrameFunction)?this.options.insertFrameFunction(this.el.src):this.container.appendChild(this.el),this.bus.emit(f.events.UI_MODAL_DID_OPEN,{source:f.PAYPAL_INTEGRATION_NAME})},i.prototype.open=function(){this.isClosed()&&this._open()},i.prototype.close=function(){this.isClosed()||(this.container.removeChild(this.el),this.bus.emit(f.events.UI_MODAL_DID_CLOSE,{source:f.PAYPAL_INTEGRATION_NAME}))},i.prototype.teardown=function(){this.close(),this.bus.teardown()},b.exports=i}).call(this,void 0!==c.g?c.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../shared/constants":186,"../../shared/util/browser":191,"braintree-bus":152,"braintree-utilities":164,iframer:168}],185:[function(a,b,d){(function(c){"use strict";var d=a("../../shared/constants"),e=a("braintree-bus"),f=a("../../shared/useragent/browser");function g(a){this.options=a,this.bus=new e({merchantUrl:c.location.href,channel:this.options.channel}),a.isHermes?(this.name=d.HERMES_POPUP_NAME,this.popupHeight=d.HERMES_POPUP_HEIGHT,this.popupWidth=d.HERMES_POPUP_WIDTH):(this.name=d.POPUP_NAME,this.popupHeight=d.POPUP_HEIGHT,this.popupWidth=d.POPUP_WIDTH)}g.prototype._getPopupOptions=function(){return["height="+this.popupHeight,"width="+this.popupWidth,"top="+this._getTopPosition(),"left="+this._getLeftPosition(),d.POPUP_OPTIONS].join(",")},g.prototype._centerPosition=function(a,b,c){return(a-b)/2+c},g.prototype._getTopPosition=function(){var a=window.outerHeight||document.documentElement.clientHeight,b=void 0===window.screenY?window.screenTop:window.screenY;return this._centerPosition(a,this.popupHeight,b)},g.prototype._getLeftPosition=function(){var a=window.outerWidth||document.documentElement.clientWidth,b=void 0===window.screenX?window.screenLeft:window.screenX;return this._centerPosition(a,this.popupWidth,b)},g.prototype.isClosed=function(){if(this.el)return this.el.closed},g.prototype.open=function(){this.el||(this.el=window.open(this.options.src,this.name,this._getPopupOptions()),this.focus(),this.bus.emit(e.events.UI_POPUP_DID_OPEN,{source:d.PAYPAL_INTEGRATION_NAME}))},g.prototype.close=function(){this.el&&((!f.isIE8()||this.isClosed())&&f.isIE8()||this.el.close(),this.bus.emit(e.events.UI_POPUP_DID_CLOSE,{source:d.PAYPAL_INTEGRATION_NAME}))},g.prototype.focus=function(){this.el&&this.el.focus()},g.prototype.teardown=function(){this.close(),this.bus.teardown()},b.exports=g}).call(this,void 0!==c.g?c.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../shared/constants":186,"../../shared/useragent/browser":187,"braintree-bus":152}],186:[function(a,b,c){"use strict";var d,e="1.6.1",f=["GET_CLIENT_TOKEN","GET_CLIENT_OPTIONS","OPEN_MODAL","CLOSE_APP","FOCUS_APP","UI_MODAL_DID_OPEN","UI_MODAL_DID_CLOSE"];for(d=0,c.VERSION=e,c.POPUP_NAME="braintree_paypal_popup",c.HERMES_POPUP_NAME="PPFrameRedirect",c.FRAME_NAME="braintree-paypal-frame",c.HERMES_FRAME_NAME="PPFrameRedirect",c.POPUP_PATH="/pwpp/"+e+"/html/braintree-frame.html",c.POPUP_OPTIONS="resizable,scrollbars",c.POPUP_HEIGHT=470,c.POPUP_WIDTH=410,c.HERMES_POPUP_HEIGHT=535,c.HERMES_POPUP_WIDTH=450,c.BRIDGE_FRAME_NAME="bt-proxy-frame",c.HERMES_SUPPORTED_CURRENCIES=["USD","GBP","EUR","AUD","CAD","DKK","NOK","PLN","SEK","CHF","TRY"],c.HERMES_SUPPORTED_COUNTRIES=["US","GB","AU","CA","ES","FR","DE","IT","NL","NO","PL","CH","TR","DK","BE","AT"],c.NONCE_TYPE="PayPalAccount",c.PAYPAL_INTEGRATION_NAME="PayPal",c.ILLEGAL_XHR_ERROR="Illegal XHR request attempted",c.events={};d<f.length;d++)c.events[f[d]]="paypal:"+f[d]},{}],187:[function(a,b,c){"use strict";var d=a("./useragent"),e=a("./platform");function f(){return d.matchUserAgent("Android")&&!g()}function g(){return d.matchUserAgent("Chrome")||d.matchUserAgent("CriOS")}function h(){return d.matchUserAgent("Opera")||d.matchUserAgent("OPR")}function i(){return d.matchUserAgent("Safari")&&!g()&&!f()}b.exports={isAndroid:f,isChrome:g,isFirefox:function(){return d.matchUserAgent("Firefox")},isIE:function(){return d.matchUserAgent("Trident")||d.matchUserAgent("MSIE")},isIE8:function(){return d.matchUserAgent(/MSIE 8\.0/)},isOpera:h,isOperaMini:function(){return h()&&"[object OperaMini]"===Object.prototype.toString.call(window.operamini)},isSafari:i,isIosWebView:function(){return e.isIos()&&!g()&&!i()},isAndroidWebView:function(){return e.isAndroid()&&d.matchUserAgent(/Version\/[\w\.]+ Chrome\/[\w\.]+ Mobile/)}}},{"./platform":189,"./useragent":190}],188:[function(a,b,c){"use strict";var d=a("./useragent"),e=a("./platform");function f(){return!g()&&(e.isAndroid()||e.isIpod()||e.isIphone()||d.matchUserAgent("IEMobile"))}function g(){return e.isIpad()||e.isAndroid()&&!d.matchUserAgent("Mobile")}b.exports={isMobile:f,isTablet:g,isDesktop:function(){return!f()&&!g()}}},{"./platform":189,"./useragent":190}],189:[function(a,b,c){"use strict";var d=a("./useragent");function e(){return d.matchUserAgent("iPad")}function f(){return d.matchUserAgent("iPod")}function g(){return d.matchUserAgent("iPhone")&&!f()}b.exports={isAndroid:function(){return d.matchUserAgent("Android")},isIpad:e,isIpod:f,isIphone:g,isIos:function(){return e()||f()||g()}}},{"./useragent":190}],190:[function(a,b,c){"use strict";var d=window.navigator.userAgent;function e(){return d}c.getNativeUserAgent=e,c.matchUserAgent=function(a){return!!c.getNativeUserAgent().match(a)}},{}],191:[function(a,b,c){"use strict";var d=a("../useragent/browser"),e=a("../useragent/device"),f=a("../useragent/platform"),g=a("../useragent/useragent"),h=window.navigator.userAgent,i=/[Mm]obi|tablet|iOS|Android|IEMobile|Windows\sPhone/;function j(){return i.test(h)}b.exports={isMobile:function(){return j()&&window.outerWidth<600},isMobileDevice:j,detectedPostMessage:function(){return Boolean(window.postMessage)},isPopupSupported:function(){if(d.isOperaMini())return!1;if(e.isDesktop())return!0;if(e.isMobile()||e.isTablet()){if(d.isIE())return!1;if(f.isAndroid())return!d.isAndroidWebView();if(f.isIos())return!(d.isChrome()||d.isSafari()&&g.matchUserAgent(/OS (?:8_1|8_0|8)(?!_\d)/i)||d.isIosWebView())}return!1},isOverlaySupported:function(){if(d.isIE8())return!1;try{return window.self===window.top}catch(a){return!1}},isBridgeIframeRequired:function(){return d.isIE()},isMetroBrowser:function(){var a=null,b="";try{new ActiveXObject("")}catch(c){b=c.name}try{a=Boolean(new ActiveXObject("htmlfile"))}catch(d){a=!1}return!(a="ReferenceError"===b|| !1!==a)}}},{"../useragent/browser":187,"../useragent/device":188,"../useragent/platform":189,"../useragent/useragent":190}],192:[function(a,b,c){"use strict";var d=a("braintree-utilities");function e(a,b){this.host=a||window,this.channel=b||null,this.handlers=[],d.addEventListener(this.host,"message",d.bind(this.receive,this))}e.prototype.receive=function(a){var b,c,d,f;try{d=JSON.parse(a.data)}catch(g){return}for(b=0,f=d.type,c=new e.Message(this,a.source,d.data);b<this.handlers.length;b++)this.handlers[b].type===f&&this.handlers[b].handler(c)},e.prototype.send=function(a,b,c){a.postMessage(JSON.stringify({type:this._namespaceEvent(b),data:c}),"*")},e.prototype.register=function(a,b){this.handlers.push({type:this._namespaceEvent(a),handler:b})},e.prototype.unregister=function(a,b){for(var c=this.handlers.length-1;c>=0;c--)if(this.handlers[c].type===a&&this.handlers[c].handler===b)return this.handlers.splice(c,1)},e.prototype._namespaceEvent=function(a){return this.channel?["braintree",this.channel,a].join(":"):a},e.Message=function(a,b,c){this.bus=a,this.source=b,this.content=c},e.Message.prototype.reply=function(a,b){this.bus.send(this.source,a,b)},b.exports=e},{"braintree-utilities":206}],193:[function(a,b,c){"use strict";var d=a("braintree-utilities");function e(a,b){this.bus=a,this.target=b,this.handlers=[],this.bus.register("publish",d.bind(this._handleMessage,this))}e.prototype._handleMessage=function(a){var b,c=a.content,d=this.handlers[c.channel];if(void 0!==d)for(b=0;b<d.length;b++)d[b](c.data)},e.prototype.publish=function(a,b){this.bus.send(this.target,"publish",{channel:a,data:b})},e.prototype.subscribe=function(a,b){this.handlers[a]=this.handlers[a]||[],this.handlers[a].push(b)},e.prototype.unsubscribe=function(a,b){var c,d=this.handlers[a];if(void 0!==d)for(c=0;c<d.length;c++)d[c]===b&&d.splice(c,1)},b.exports=e},{"braintree-utilities":206}],194:[function(a,b,c){"use strict";function d(a){this.bus=a,this.frames=[],this.handlers=[]}d.prototype.subscribe=function(a,b){this.handlers[a]=this.handlers[a]||[],this.handlers[a].push(b)},d.prototype.registerFrame=function(a){this.frames.push(a)},d.prototype.unregisterFrame=function(a){for(var b=0;b<this.frames.length;b++)this.frames[b]===a&&this.frames.splice(b,1)},d.prototype.publish=function(a,b){var c,d=this.handlers[a];if(void 0!==d)for(c=0;c<d.length;c++)d[c](b);for(c=0;c<this.frames.length;c++)this.bus.send(this.frames[c],"publish",{channel:a,data:b})},d.prototype.unsubscribe=function(a,b){var c,d=this.handlers[a];if(void 0!==d)for(c=0;c<d.length;c++)d[c]===b&&d.splice(c,1)},b.exports=d},{}],195:[function(a,b,c){"use strict";var d=a("braintree-utilities");function e(a,b){this.bus=a,this.target=b||window.parent,this.counter=0,this.callbacks={},this.bus.register("rpc_response",d.bind(this._handleResponse,this))}e.prototype._handleResponse=function(a){var b=a.content,c=this.callbacks[b.id];"function"==typeof c&&(c.apply(null,b.response),delete this.callbacks[b.id])},e.prototype.invoke=function(a,b,c){var d=this.counter++;this.callbacks[d]=c,this.bus.send(this.target,"rpc_request",{id:d,method:a,args:b})},b.exports=e},{"braintree-utilities":206}],196:[function(a,b,c){"use strict";var d=a("braintree-utilities");function e(a){this.bus=a,this.methods={},this.bus.register("rpc_request",d.bind(this._handleRequest,this))}e.prototype._handleRequest=function(a){var b,c=a.content,d=c.args||[],e=this.methods[c.method];"function"==typeof e&&(b=function(){a.reply("rpc_response",{id:c.id,response:Array.prototype.slice.call(arguments)})},d.push(b),e.apply(null,d))},e.prototype.reset=function(){this.methods={}},e.prototype.define=function(a,b){this.methods[a]=b},b.exports=e},{"braintree-utilities":206}],197:[function(a,b,c){var d=a("./lib/message-bus"),e=a("./lib/pubsub-client"),f=a("./lib/pubsub-server"),g=a("./lib/rpc-client"),h=a("./lib/rpc-server");b.exports={MessageBus:d,PubsubClient:e,PubsubServer:f,RPCClient:g,RPCServer:h}},{"./lib/message-bus":192,"./lib/pubsub-client":193,"./lib/pubsub-server":194,"./lib/rpc-client":195,"./lib/rpc-server":196}],198:[function(a,b,c){arguments[4][35][0].apply(c,arguments)},{dup:35}],199:[function(a,b,c){arguments[4][36][0].apply(c,arguments)},{dup:36}],200:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{dup:22}],201:[function(a,b,c){arguments[4][38][0].apply(c,arguments)},{dup:38}],202:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],203:[function(a,b,c){arguments[4][40][0].apply(c,arguments)},{dup:40}],204:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{"./array":198,dup:41}],205:[function(a,b,c){arguments[4][42][0].apply(c,arguments)},{dup:42}],206:[function(a,b,c){arguments[4][43][0].apply(c,arguments)},{"./lib/array":198,"./lib/base64":199,"./lib/dom":200,"./lib/events":201,"./lib/fn":202,"./lib/string":203,"./lib/url":204,"./lib/uuid":205,dup:43}],207:[function(a,b,c){arguments[4][35][0].apply(c,arguments)},{dup:35}],208:[function(a,b,c){arguments[4][36][0].apply(c,arguments)},{dup:36}],209:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{dup:22}],210:[function(a,b,c){arguments[4][38][0].apply(c,arguments)},{dup:38}],211:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],212:[function(a,b,c){arguments[4][40][0].apply(c,arguments)},{dup:40}],213:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{"./array":207,dup:41}],214:[function(a,b,c){arguments[4][42][0].apply(c,arguments)},{dup:42}],215:[function(a,b,c){arguments[4][43][0].apply(c,arguments)},{"./lib/array":207,"./lib/base64":208,"./lib/dom":209,"./lib/events":210,"./lib/fn":211,"./lib/string":212,"./lib/url":213,"./lib/uuid":214,dup:43}],216:[function(a,b,c){arguments[4][80][0].apply(c,arguments)},{"batch-execute-functions":217,"braintree-utilities/lib/fn":218,dup:80}],217:[function(a,b,c){arguments[4][81][0].apply(c,arguments)},{dup:81}],218:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],219:[function(a,b,c){arguments[4][83][0].apply(c,arguments)},{"./lib/default-attributes":220,dup:83,"lodash.assign":221,"lodash.isstring":232,setattributes:233}],220:[function(a,b,c){arguments[4][84][0].apply(c,arguments)},{dup:84}],221:[function(a,b,c){arguments[4][85][0].apply(c,arguments)},{dup:85,"lodash._baseassign":222,"lodash._createassigner":224,"lodash.keys":228}],222:[function(a,b,c){arguments[4][86][0].apply(c,arguments)},{dup:86,"lodash._basecopy":223,"lodash.keys":228}],223:[function(a,b,c){arguments[4][87][0].apply(c,arguments)},{dup:87}],224:[function(a,b,c){arguments[4][88][0].apply(c,arguments)},{dup:88,"lodash._bindcallback":225,"lodash._isiterateecall":226,"lodash.restparam":227}],225:[function(a,b,c){arguments[4][89][0].apply(c,arguments)},{dup:89}],226:[function(a,b,c){arguments[4][90][0].apply(c,arguments)},{dup:90}],227:[function(a,b,c){arguments[4][91][0].apply(c,arguments)},{dup:91}],228:[function(a,b,c){arguments[4][48][0].apply(c,arguments)},{dup:48,"lodash._getnative":229,"lodash.isarguments":230,"lodash.isarray":231}],229:[function(a,b,c){arguments[4][49][0].apply(c,arguments)},{dup:49}],230:[function(a,b,c){arguments[4][45][0].apply(c,arguments)},{dup:45}],231:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46}],232:[function(a,b,c){arguments[4][51][0].apply(c,arguments)},{dup:51}],233:[function(a,b,c){arguments[4][97][0].apply(c,arguments)},{dup:97}],234:[function(a,b,c){"use strict";var d=["getCreditCards","unlockCreditCard","sendAnalyticsEvents"];function e(a){this.apiClient=a}e.prototype.attach=function(a){var b=this,c=0,e=d.length;function f(c){a.define(c,function(){b.apiClient[c].apply(b.apiClient,arguments)})}for(;c<e;c++)f(d[c])},b.exports=e},{}],235:[function(a,b,d){(function(c){"use strict";var d,e,f=a("braintree-api"),g=a("braintree-bus"),h=a("destructor"),i=a("braintree-rpc"),j=a("braintree-utilities"),k=j.normalizeElement,l=j.bind,m=j.isBrowserHttps,n=a("./api-proxy-server"),o=a("./merchant-form-manager"),p=a("./frame-container"),q=a("../shared/constants"),r="1.9.1",s=a("braintree-paypal/src/external/views/app-view");function t(a,b){return(window.getComputedStyle?getComputedStyle(a):a.currentStyle)[b]}function u(){return/Android|iPhone|iPod|iPad/i.test(window.navigator.userAgent)}function v(a){var b,j,m;this.channel=a.channel,this.destructor=new h,this.merchantConfiguration=a.merchantConfiguration,this.encodedClientToken=a.gatewayConfiguration,this.analyticsConfiguration=a.analyticsConfiguration,this.paypalOptions=a.merchantConfiguration.paypal||{},this.container=null,this.merchantFormManager=null,this.root=a.root,this.configurationRequests=[],this.braintreeApiClient=f.configure({clientToken:a.gatewayConfiguration,analyticsConfiguration:this.analyticsConfiguration,integration:"dropin",enableCORS:this.merchantConfiguration.enableCORS}),this.paymentMethodNonceReceivedCallback=a.merchantConfiguration.paymentMethodNonceReceived,this.clientToken=f.parseClientToken(a.gatewayConfiguration),this.braintreeBus=new g({merchantUrl:c.location.href,channel:a.channel}),this.bus=new i.MessageBus(this.root,this.channel),this.rpcServer=new i.RPCServer(this.bus),this.apiProxyServer=new n(this.braintreeApiClient),this.apiProxyServer.attach(this.rpcServer),b=a.inlineFramePath||this.clientToken.assetsUrl+"/dropin/"+r+"/inline-frame.html",j=a.modalFramePath||this.clientToken.assetsUrl+"/dropin/"+r+"/modal-frame.html",d=document.documentElement,e=document.body,this.frames={inline:this._createFrame(b,q.INLINE_FRAME_NAME),modal:this._createFrame(j,q.MODAL_FRAME_NAME)},this.container=k(a.merchantConfiguration.container,"Unable to find valid container."),m=k(a.merchantConfiguration.form||this._findClosest(this.container,"form")),this.merchantFormManager=new o({form:m,frames:this.frames,onSubmit:this.paymentMethodNonceReceivedCallback,apiClient:this.braintreeApiClient}).initialize(),this.destructor.registerFunctionForTeardown(l(function(){this.merchantFormManager.teardown()},this)),a.gatewayConfiguration.paypalEnabled&&this._configurePayPal(),this.braintreeApiClient.sendAnalyticsEvents("dropin.web.initialized")}v.prototype.initialize=function(){var a,b=this;this._initializeModal(),this.braintreeBus.emit(g.events.ASYNC_DEPENDENCY_INITIALIZING),this.container.appendChild(this.frames.inline.element),e.appendChild(this.frames.modal.element),this.destructor.registerFunctionForTeardown(function(a){b._hideModal(function(){b.container.removeChild(b.frames.inline.element),e.removeChild(b.frames.modal.element),a()})}),this.rpcServer.define("receiveSharedCustomerIdentifier",function(c){for(a=0,b.braintreeApiClient.attrs.sharedCustomerIdentifier=c,b.braintreeApiClient.attrs.sharedCustomerIdentifierType="browser_session_cookie_store";a<b.configurationRequests.length;a++)b.configurationRequests[a](b.encodedClientToken);b.configurationRequests=[]}),this.braintreeBus.on(g.events.PAYMENT_METHOD_GENERATED,l(this._handleAltPayData,this)),this.rpcServer.define("getConfiguration",function(a){a({enableCORS:b.merchantConfiguration.enableCORS,clientToken:b.encodedClientToken,paypalOptions:b.paypalOptions,analyticsConfiguration:b.analyticsConfiguration,merchantHttps:m()})}),this.rpcServer.define("selectPaymentMethod",function(a){b.frames.modal.rpcClient.invoke("selectPaymentMethod",[a]),b._showModal()}),this.rpcServer.define("sendAddedPaymentMethod",function(a){b.merchantFormManager.setNoncePayload(a),b.frames.inline.rpcClient.invoke("receiveNewPaymentMethod",[a])}),this.rpcServer.define("sendUsedPaymentMethod",function(a){b.frames.inline.rpcClient.invoke("selectPaymentMethod",[a])}),this.rpcServer.define("sendUnlockedNonce",function(a){b.merchantFormManager.setNoncePayload(a)}),this.rpcServer.define("clearNonce",function(){b.merchantFormManager.clearNoncePayload()}),this.rpcServer.define("closeDropInModal",function(){b._hideModal()}),this.rpcServer.define("setInlineFrameHeight",function(a){b.frames.inline.element.style.height=a+"px"}),this.bus.register("ready",function(a){a.source===b.frames.inline.element.contentWindow?b.frames.inline.rpcClient=new i.RPCClient(b.bus,a.source):a.source===b.frames.modal.element.contentWindow&&(b.frames.modal.rpcClient=new i.RPCClient(b.bus,a.source))})},v.prototype._createFrame=function(a,b){return new p(a,b,this.braintreeBus)},v.prototype._initializeModal=function(){this.frames.modal.element.style.display="none",this.frames.modal.element.style.position=u()?"absolute":"fixed",this.frames.modal.element.style.top="0",this.frames.modal.element.style.left="0",this.frames.modal.element.style.height="100%",this.frames.modal.element.style.width="100%"},v.prototype._lockMerchantWindowSize=function(){setTimeout(function(){d.style.overflow="hidden",e.style.overflow="hidden",e.style.height="100%",u()&&(d.style.position="relative",d.style.height=window.innerHeight+"px")},160)},v.prototype._unlockMerchantWindowSize=function(){var a=this.merchantPageDefaultStyles;a&&(e.style.height=a.body.height,e.style.overflow=a.body.overflow,d.style.overflow=a.html.overflow,u()&&(d.style.height=a.html.height,d.style.position=a.html.position),delete this.merchantPageDefaultStyles)},v.prototype._showModal=function(){var a=this,b=this.frames.modal.element;this.merchantPageDefaultStyles={html:{height:d.style.height||"",overflow:t(d,"overflow"),position:t(d,"position")},body:{height:e.style.height||"",overflow:t(e,"overflow")}},b.style.display="block",this.frames.modal.rpcClient.invoke("open",[],function(){setTimeout(function(){a._lockMerchantWindowSize(),b.contentWindow.focus()},200)})},v.prototype._hideModal=function(a){this._unlockMerchantWindowSize(),this.frames.modal.element.style.display="none",a&&a()},v.prototype._configurePayPal=function(){this.paypalModalView=new s({channel:this.channel,insertFrameFunction:this.paypalOptions.insertFrame,paypalAssetsUrl:this.clientToken.paypal.assetsUrl,isHermes:!!this.paypalOptions.singleUse&&!!this.paypalOptions.amount&&!!this.paypalOptions.currency})},v.prototype._handleAltPayData=function(a){this.merchantFormManager.setNoncePayload(a),this.frames.inline.rpcClient.invoke("receiveNewPaymentMethod",[a]),this.frames.modal.rpcClient.invoke("modalViewClose")},v.prototype._findClosest=function(a,b){b=b.toUpperCase();do if(a.nodeName===b)return a;while(a=a.parentNode)throw"Unable to find a valid "+b},v.prototype.teardown=function(a){this.paypalModalView&&this.paypalModalView.teardown(),this.braintreeBus.emit(q.MODAL_FRAME_TEARDOWN_EVENT,l(function(){this.braintreeBus.emit(q.INLINE_FRAME_TEARDOWN_EVENT,l(function(){this.destructor.teardown(l(function(b){if(b)return a(b);this.braintreeBus.teardown(),a()},this))},this))},this))},b.exports=v}).call(this,void 0!==c.g?c.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../shared/constants":239,"./api-proxy-server":234,"./frame-container":237,"./merchant-form-manager":238,"braintree-api":117,"braintree-bus":148,"braintree-paypal/src/external/views/app-view":183,"braintree-rpc":197,"braintree-utilities":215,destructor:216}],236:[function(a,b,c){"use strict";var d=a("./client");b.exports={create:function(a){var b=new d(a);return b.initialize(),b},VERSION:"1.9.1"}},{"./client":235}],237:[function(a,b,c){"use strict";var d=a("braintree-bus"),e=a("../shared/constants"),f=a("iframer"),g={transition:"transitionend","-o-transition":"otransitionEnd","-moz-transition":"transitionend","-webkit-transition":"webkitTransitionEnd"};b.exports=function(a,b,c){var h="height 210ms cubic-bezier(0.390, 0.575, 0.565, 1.000)",i=f({name:b,width:"100%",height:"68",style:{transition:h,WebkitTransition:h,MozTransition:h,msTransition:h,OTransition:h,border:"0",zIndex:"9999"}});this.element=i,setTimeout(function(){i.src=a+"#"+c.channel},0),b===e.INLINE_FRAME_NAME&&function(a,b){var c=function(){var a,b=document.createElement("fakeelement");for(a in g)if(void 0!==b.style[a])return g[a];return null}();function e(f){f.target===a&&"height"===f.propertyName&&(b.emit(d.events.ASYNC_DEPENDENCY_READY),a.removeEventListener(c,e))}c?a.addEventListener(c,e):setTimeout(function(){b.emit(d.events.ASYNC_DEPENDENCY_READY)},500)}(i,c)}},{"../shared/constants":239,"braintree-bus":148,iframer:219}],238:[function(a,b,c){"use strict";var d=a("braintree-utilities"),e=a("form-napper");function f(a){this.formNapper=new e(a.form),this.frames=a.frames,this.onSubmit=a.onSubmit,this.apiClient=a.apiClient}f.prototype.initialize=function(){return this._isSubmitBased()&&this._setElements(),this._setEvents(),this},f.prototype.setNoncePayload=function(a){this.noncePayload=a},f.prototype.clearNoncePayload=function(){this.noncePayload=null},f.prototype._isSubmitBased=function(){return!this.onSubmit},f.prototype._isCallbackBased=function(){return!!this.onSubmit},f.prototype._setElements=function(){this.nonceInput=this.formNapper.inject("payment_method_nonce","")},f.prototype._setEvents=function(){this.formNapper.hijack(d.bind(this._handleFormSubmit,this))},f.prototype._handleFormSubmit=function(a){this.noncePayload&&this.noncePayload.nonce?this._handleNonceReply(a):this.frames.inline.rpcClient.invoke("requestNonce",[],d.bind(function(b){this.setNoncePayload(b),this._handleNonceReply(a)},this))},f.prototype._handleNonceReply=function(a){this._isCallbackBased()?this.apiClient.sendAnalyticsEvents("dropin.web.end.callback",d.bind(function(){var b=this.noncePayload;b.originalEvent=a,this.onSubmit(b),setTimeout(d.bind(function(){delete b.originalEvent,this.frames.inline.rpcClient.invoke("clearLoadingState"),this.frames.inline.rpcClient.invoke("receiveNewPaymentMethod",[b])},this),200)},this)):this._triggerFormSubmission()},f.prototype._triggerFormSubmission=function(){this.nonceInput=this.formNapper.inject("payment_method_nonce",this.noncePayload.nonce),this.apiClient.sendAnalyticsEvents("dropin.web.end.auto-submit",d.bind(function(){this.formNapper.submit()},this))},f.prototype.teardown=function(){var a;this.nonceInput&&(0,this.formNapper.htmlForm).removeChild(this.nonceInput),this.formNapper.detach()},b.exports=f},{"braintree-utilities":215,"form-napper":376}],239:[function(a,b,c){b.exports={PAYPAL_INTEGRATION_NAME:"PayPal",INLINE_FRAME_NAME:"braintree-dropin-frame",MODAL_FRAME_NAME:"braintree-dropin-modal-frame",PAYMENT_METHOD_TYPES:["CoinbaseAccount","PayPalAccount","CreditCard"],cssClassMap:{"American Express":"american-express","Diners Club":"diners-club",DinersClub:"diners-club",Discover:"discover",JCB:"jcb",Maestro:"maestro",MasterCard:"master-card",Solo:"solo",Switch:"switch",UKMaestro:"maestro",UnionPay:"unionpay",Visa:"visa"},INLINE_FRAME_TEARDOWN_EVENT:"dropin:TEARDOWN_INLINE_FRAME",MODAL_FRAME_TEARDOWN_EVENT:"dropin:TEARDOWN_MODAL_FRAME"}},{}],240:[function(a,b,d){(function(a){"use strict";var c=a.Node?a.Node.ELEMENT_NODE:1;function d(a,b){b=b||{};var c,g,h=a.children;for(g=0;g<h.length;g++)if(f(c=h[g])){var i=c.getAttribute("data-braintree-name");"postal_code"===i?b.billingAddress={postalCode:c.value}:b[i]=c.value,e(c)}else c.children&&c.children.length>0&&d(c,b);return b}function e(a){try{a.attributes.removeNamedItem("name")}catch(b){}}function f(a){return a.nodeType===c&&a.attributes["data-braintree-name"]}b.exports={extractValues:d,scrubAllAttributes:function(a){d(a)},scrubAttributes:e,isBraintreeNode:f}}).call(this,void 0!==c.g?c.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],241:[function(a,b,d){(function(c){"use strict";var d=a("braintree-utilities"),e=a("./fields"),f=a("destructor"),g=a("braintree-bus"),h=a("./models/payment-method-model"),i=a("./get-nonce-input"),j={message:"Unable to process payments at this time",type:"IMMEDIATE"};function k(a,b){var e=b.merchantConfiguration,j="object"==typeof e.paymentMethodNonceInputField;this.destructor=new f,this.apiClient=a,this.isCreditCardForm=!1!==e.useCreditCard,this.htmlForm=document.getElementById(e.id),this.paymentMethodNonceInput=i(e.paymentMethodNonceInputField),this.htmlForm.appendChild(this.paymentMethodNonceInput),this.destructor.registerFunctionForTeardown(d.bind(function(){j?this.paymentMethodNonceInput.value="":this.htmlForm.removeChild(this.paymentMethodNonceInput)},this)),this.model=new h,this.bus=new g({merchantUrl:c.location.href,channel:b.channel}),this.setEvents(),this.destructor.registerFunctionForTeardown(d.bind(function(){this.bus.teardown()},this))}k.prototype.setEvents=function(){this.onSubmitHandler=d.bind(this.handleSubmit,this),this.onExternalNonceReceived=d.bind(this.onExternalNonceReceived,this),this.clearExternalNonce=d.bind(this.clearExternalNonce,this),d.addEventListener(this.htmlForm,"submit",this.onSubmitHandler),this.destructor.registerFunctionForTeardown(d.bind(function(){d.removeEventListener(this.htmlForm,"submit",this.onSubmitHandler)},this)),this.bus.on(g.events.PAYMENT_METHOD_GENERATED,this.onExternalNonceReceived),this.bus.on(g.events.PAYMENT_METHOD_CANCELLED,this.clearExternalNonce)},k.prototype.handleSubmit=function(a){var b;if(a.preventDefault?a.preventDefault():a.returnValue=!1,!this.isCreditCardForm){this.onNonceReceived(null,this.model.attributes);return}if((b=this.model.get("type"))&&"CreditCard"!==b){e.scrubAllAttributes(this.htmlForm),this.onNonceReceived(null,this.model.attributes);return}this.apiClient.tokenizeCard(e.extractValues(this.htmlForm),d.bind(function(a,b,c){a?this.onNonceReceived(j,null):(this.model.set({nonce:b,type:c.type,details:c.details}),this.onNonceReceived(null,this.model.attributes))},this))},k.prototype.writeNonceToDOM=function(){this.paymentMethodNonceInput.value=this.model.get("nonce")},k.prototype.onExternalNonceReceived=function(a){this.model.set(a),this.writeNonceToDOM()},k.prototype.clearExternalNonce=function(){this.model.reset()},k.prototype.onNonceReceived=function(a){var b=this.htmlForm;if(a){this.bus.emit(g.events.ERROR,j);return}d.removeEventListener(b,"submit",this.onSubmitHandler),this.writeNonceToDOM(),b.submit&&("function"==typeof b.submit||b.submit.call)?b.submit():setTimeout(function(){b.querySelector('[type="submit"]').click()},1)},k.prototype.teardown=function(){this.destructor.teardown()},b.exports=k}).call(this,void 0!==c.g?c.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./fields":240,"./get-nonce-input":242,"./models/payment-method-model":243,"braintree-bus":246,"braintree-utilities":258,destructor:259}],242:[function(a,b,c){"use strict";b.exports=function(a){if("object"==typeof a)return a;b="payment_method_nonce","string"==typeof a&&(b=a);var b,c=document.createElement("input");return c.name=b,c.type="hidden",c}},{}],243:[function(a,b,c){"use strict";function d(){this.reset()}d.prototype.get=function(a){return this.attributes[a]},d.prototype.set=function(a){this.attributes=a||{}},d.prototype.reset=function(){this.attributes={}},b.exports=d},{}],244:[function(a,b,c){"use strict";b.exports=function(a){for(var b=a.getElementsByTagName("*"),c={},d=0;d<b.length;d++)c[b[d].getAttribute("data-braintree-name")]=!0;if(!c.number)throw Error('Unable to find an input with data-braintree-name="number" in your form. Please add one.');if(c.expiration_date){if(c.expiration_month||c.expiration_year)throw Error('You have inputs with data-braintree-name="expiration_date" AND data-braintree-name="expiration_(year|month)". Please use either "expiration_date" or "expiration_year" and "expiration_month".')}else{if(!c.expiration_month&&!c.expiration_year)throw Error('Unable to find an input with data-braintree-name="expiration_date" in your form. Please add one.');if(!c.expiration_month)throw Error('Unable to find an input with data-braintree-name="expiration_month" in your form. Please add one.');if(!c.expiration_year)throw Error('Unable to find an input with data-braintree-name="expiration_year" in your form. Please add one.')}}},{}],245:[function(a,b,c){"use strict";var d=a("./lib/form"),e=a("./lib/validate-annotations");b.exports={setup:function(a,b){var c=b.merchantConfiguration||{},f=document.getElementById(c.id),g=!1!==c.useCreditCard;if(!f)throw Error('Unable to find form with id: "'+c.id+'"');return g&&e(f),new d(a,b)}}},{"./lib/form":241,"./lib/validate-annotations":244}],246:[function(a,b,c){arguments[4][52][0].apply(c,arguments)},{"./lib/check-origin":247,"./lib/events":248,dup:52,framebus:249}],247:[function(a,b,c){arguments[4][53][0].apply(c,arguments)},{dup:53}],248:[function(a,b,c){arguments[4][54][0].apply(c,arguments)},{dup:54}],249:[function(a,b,c){arguments[4][55][0].apply(c,arguments)},{dup:55}],250:[function(a,b,c){arguments[4][35][0].apply(c,arguments)},{dup:35}],251:[function(a,b,c){arguments[4][36][0].apply(c,arguments)},{dup:36}],252:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{dup:22}],253:[function(a,b,c){arguments[4][38][0].apply(c,arguments)},{dup:38}],254:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],255:[function(a,b,c){arguments[4][40][0].apply(c,arguments)},{dup:40}],256:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{"./array":250,dup:41}],257:[function(a,b,c){arguments[4][42][0].apply(c,arguments)},{dup:42}],258:[function(a,b,c){arguments[4][43][0].apply(c,arguments)},{"./lib/array":250,"./lib/base64":251,"./lib/dom":252,"./lib/events":253,"./lib/fn":254,"./lib/string":255,"./lib/url":256,"./lib/uuid":257,dup:43}],259:[function(a,b,c){arguments[4][80][0].apply(c,arguments)},{"batch-execute-functions":260,"braintree-utilities/lib/fn":261,dup:80}],260:[function(a,b,c){arguments[4][81][0].apply(c,arguments)},{dup:81}],261:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],262:[function(a,b,c){arguments[4][2][0].apply(c,arguments)},{"./coinbase-account":263,"./constants":264,"./credit-card":265,"./europe-bank-account":266,"./normalize-api-fields":268,"./parse-client-token":269,"./paypal-account":270,"./request/choose-driver":273,"./sepa-mandate":278,"./should-enable-cors":279,"./util":280,"braintree-3ds":289,"braintree-utilities":303,dup:2}],263:[function(a,b,c){arguments[4][3][0].apply(c,arguments)},{dup:3}],264:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],265:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{dup:5}],266:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],267:[function(a,b,c){arguments[4][7][0].apply(c,arguments)},{"./constants":264,"./parse-client-token":269,"./request/choose-driver":273,"./should-enable-cors":279,"./util":280,dup:7}],268:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{dup:8}],269:[function(a,b,c){arguments[4][9][0].apply(c,arguments)},{"./polyfill":271,"braintree-utilities":303,dup:9}],270:[function(a,b,c){arguments[4][10][0].apply(c,arguments)},{dup:10}],271:[function(a,b,c){arguments[4][11][0].apply(c,arguments)},{dup:11}],272:[function(a,b,c){arguments[4][12][0].apply(c,arguments)},{"../constants":264,"../util":280,"./parse-body":276,"./prep-body":277,dup:12}],273:[function(a,b,c){arguments[4][13][0].apply(c,arguments)},{"../util":280,"./ajax-driver":272,"./jsonp-driver":274,dup:13}],274:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{"../constants":264,"./jsonp":275,dup:14}],275:[function(a,b,c){arguments[4][15][0].apply(c,arguments)},{"../util":280,dup:15}],276:[function(a,b,c){arguments[4][16][0].apply(c,arguments)},{dup:16}],277:[function(a,b,c){arguments[4][17][0].apply(c,arguments)},{dup:17,"lodash.isstring":311}],278:[function(a,b,c){arguments[4][18][0].apply(c,arguments)},{dup:18}],279:[function(a,b,c){arguments[4][19][0].apply(c,arguments)},{dup:19}],280:[function(a,b,c){arguments[4][20][0].apply(c,arguments)},{dup:20,"lodash.isempty":304,"lodash.isobject":310}],281:[function(a,b,c){arguments[4][21][0].apply(c,arguments)},{"./lib/client":262,"./lib/get-configuration":267,"./lib/parse-client-token":269,"./lib/util":280,dup:21}],282:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{dup:22}],283:[function(a,b,c){arguments[4][23][0].apply(c,arguments)},{dup:23}],284:[function(a,b,c){arguments[4][24][0].apply(c,arguments)},{dup:24}],285:[function(a,b,c){arguments[4][25][0].apply(c,arguments)},{dup:25}],286:[function(a,b,c){arguments[4][26][0].apply(c,arguments)},{"./lib/dom":282,"./lib/events":283,"./lib/fn":284,"./lib/url":285,dup:26}],287:[function(a,b,c){arguments[4][27][0].apply(c,arguments)},{"../shared/receiver":294,"braintree-utilities":286,dup:27}],288:[function(a,b,c){arguments[4][28][0].apply(c,arguments)},{"./authorization_service":287,"./loader":290,"braintree-utilities":286,dup:28}],289:[function(a,b,c){arguments[4][29][0].apply(c,arguments)},{"./client":288,dup:29}],290:[function(a,b,c){arguments[4][30][0].apply(c,arguments)},{"./loader_display":291,"./loader_message":292,"./loader_spinner":293,dup:30}],291:[function(a,b,c){arguments[4][31][0].apply(c,arguments)},{dup:31}],292:[function(a,b,c){arguments[4][32][0].apply(c,arguments)},{dup:32}],293:[function(a,b,c){arguments[4][33][0].apply(c,arguments)},{dup:33}],294:[function(a,b,c){arguments[4][34][0].apply(c,arguments)},{"braintree-utilities":286,dup:34}],295:[function(a,b,c){arguments[4][35][0].apply(c,arguments)},{dup:35}],296:[function(a,b,c){arguments[4][36][0].apply(c,arguments)},{dup:36}],297:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{dup:22}],298:[function(a,b,c){arguments[4][38][0].apply(c,arguments)},{dup:38}],299:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],300:[function(a,b,c){arguments[4][40][0].apply(c,arguments)},{dup:40}],301:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{"./array":295,dup:41}],302:[function(a,b,c){arguments[4][42][0].apply(c,arguments)},{dup:42}],303:[function(a,b,c){arguments[4][43][0].apply(c,arguments)},{"./lib/array":295,"./lib/base64":296,"./lib/dom":297,"./lib/events":298,"./lib/fn":299,"./lib/string":300,"./lib/url":301,"./lib/uuid":302,dup:43}],304:[function(a,b,c){arguments[4][44][0].apply(c,arguments)},{dup:44,"lodash.isarguments":305,"lodash.isarray":306,"lodash.isfunction":307,"lodash.isstring":311,"lodash.keys":308}],305:[function(a,b,c){arguments[4][45][0].apply(c,arguments)},{dup:45}],306:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46}],307:[function(a,b,c){arguments[4][47][0].apply(c,arguments)},{dup:47}],308:[function(a,b,c){arguments[4][48][0].apply(c,arguments)},{dup:48,"lodash._getnative":309,"lodash.isarguments":305,"lodash.isarray":306}],309:[function(a,b,c){arguments[4][49][0].apply(c,arguments)},{dup:49}],310:[function(a,b,c){arguments[4][50][0].apply(c,arguments)},{dup:50}],311:[function(a,b,c){arguments[4][51][0].apply(c,arguments)},{dup:51}],312:[function(a,b,c){arguments[4][52][0].apply(c,arguments)},{"./lib/check-origin":313,"./lib/events":314,dup:52,framebus:315}],313:[function(a,b,c){arguments[4][53][0].apply(c,arguments)},{dup:53}],314:[function(a,b,c){arguments[4][54][0].apply(c,arguments)},{dup:54}],315:[function(a,b,c){arguments[4][55][0].apply(c,arguments)},{dup:55}],316:[function(a,b,c){arguments[4][35][0].apply(c,arguments)},{dup:35}],317:[function(a,b,c){arguments[4][36][0].apply(c,arguments)},{dup:36}],318:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{dup:22}],319:[function(a,b,c){arguments[4][38][0].apply(c,arguments)},{dup:38}],320:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],321:[function(a,b,c){arguments[4][40][0].apply(c,arguments)},{dup:40}],322:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{"./array":316,dup:41}],323:[function(a,b,c){arguments[4][42][0].apply(c,arguments)},{dup:42}],324:[function(a,b,c){arguments[4][43][0].apply(c,arguments)},{"./lib/array":316,"./lib/base64":317,"./lib/dom":318,"./lib/events":319,"./lib/fn":320,"./lib/string":321,"./lib/url":322,"./lib/uuid":323,dup:43}],325:[function(a,b,c){arguments[4][80][0].apply(c,arguments)},{"batch-execute-functions":326,"braintree-utilities/lib/fn":327,dup:80}],326:[function(a,b,c){arguments[4][81][0].apply(c,arguments)},{dup:81}],327:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],328:[function(a,b,c){arguments[4][83][0].apply(c,arguments)},{"./lib/default-attributes":329,dup:83,"lodash.assign":330,"lodash.isstring":341,setattributes:342}],329:[function(a,b,c){arguments[4][84][0].apply(c,arguments)},{dup:84}],330:[function(a,b,c){arguments[4][85][0].apply(c,arguments)},{dup:85,"lodash._baseassign":331,"lodash._createassigner":333,"lodash.keys":337}],331:[function(a,b,c){arguments[4][86][0].apply(c,arguments)},{dup:86,"lodash._basecopy":332,"lodash.keys":337}],332:[function(a,b,c){arguments[4][87][0].apply(c,arguments)},{dup:87}],333:[function(a,b,c){arguments[4][88][0].apply(c,arguments)},{dup:88,"lodash._bindcallback":334,"lodash._isiterateecall":335,"lodash.restparam":336}],334:[function(a,b,c){arguments[4][89][0].apply(c,arguments)},{dup:89}],335:[function(a,b,c){arguments[4][90][0].apply(c,arguments)},{dup:90}],336:[function(a,b,c){arguments[4][91][0].apply(c,arguments)},{dup:91}],337:[function(a,b,c){arguments[4][48][0].apply(c,arguments)},{dup:48,"lodash._getnative":338,"lodash.isarguments":339,"lodash.isarray":340}],338:[function(a,b,c){arguments[4][49][0].apply(c,arguments)},{dup:49}],339:[function(a,b,c){arguments[4][45][0].apply(c,arguments)},{dup:45}],340:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46}],341:[function(a,b,c){arguments[4][51][0].apply(c,arguments)},{dup:51}],342:[function(a,b,c){arguments[4][97][0].apply(c,arguments)},{dup:97}],343:[function(a,b,d){(function(c){"use strict";var d=a("braintree-utilities"),e=a("destructor"),f=a("braintree-bus"),g=a("./views/app-view"),h=a("./views/logged-in-view"),i=a("./views/logged-out-view"),j=a("./views/overlay-view"),k=a("./views/merchant-page-view"),l=a("./views/payment-method-nonce-input-field-view"),m=a("./views/bridge-iframe-view"),n=a("../shared/util/browser"),o=a("../shared/constants"),p=a("../shared/util/util");function q(a,b,g){b=b||{},this._clientToken=a,this._clientOptions=b,this._clientToken.correlationId=p.generateUid(),this.destructor=new e,this.channel=g,this.bus=new f({merchantUrl:c.location.href,channel:this.channel}),this.container=d.normalizeElement(b.container),this.paymentMethodNonceInputField=b.paymentMethodNonceInputField,this.insertFrameFunction=b.insertFrame,this.onSuccess=b.onSuccess,this.onCancelled=b.onCancelled,this.loggedInView=null,this.loggedOutView=null,this.appView=null,this.merchantPageView=null,this.paymentMethodNonceInputFieldView=null,this.overlayView=null,this.bridgeIframeView=null,this.insertUI=!0!==b.headless}q.prototype.initialize=function(){var a=d.bind(this._handleClickLogin,this);this._createViews(),this.bus.on(o.events.GET_CLIENT_TOKEN,d.bind(this._handleGetClientToken,this)),this.bus.on(o.events.GET_CLIENT_OPTIONS,d.bind(this._handleGetClientOptions,this)),this.insertUI&&this.bus.on(f.events.PAYMENT_METHOD_GENERATED,d.bind(this._handlePaymentMethodGenerated,this)),d.addEventListener(document.body,"click",a),this.destructor.registerFunctionForTeardown(function(){d.removeEventListener(document.body,"click",a)})},q.prototype._createViews=function(){var a,b=[];n.isBridgeIframeRequired()&&(this.bridgeIframeView=new m({container:this.container,paypalAssetsUrl:this._clientToken.paypal.assetsUrl,channel:this.channel}),b.push(this.bridgeIframeView)),this.appView=new g({insertFrameFunction:this.insertFrameFunction,paypalAssetsUrl:this._clientToken.paypal.assetsUrl,isHermes:p.isHermesConfiguration(this._clientToken,this._clientOptions),headless:this._clientOptions.headless,channel:this.channel}),b.push(this.appView),this.insertUI&&(this.paymentMethodNonceInputFieldView=new l({container:this.container,el:this.paymentMethodNonceInputField,channel:this.channel}),b.push(this.paymentMethodNonceInputFieldView),this.merchantPageView=new k({channel:this.channel}),b.push(this.merchantPageView),this.loggedInView=new h({paypalAssetsUrl:this._clientToken.paypal.assetsUrl,container:this.container,channel:this.channel}),b.push(this.loggedInView),this.loggedOutView=new i({paypalAssetsUrl:this._clientToken.paypal.assetsUrl,container:this.container,enablePayPalButton:p.isOneTimeHermesConfiguration(this._clientOptions),locale:this._clientOptions.locale,channel:this.channel}),b.push(this.loggedOutView),n.isPopupSupported()&&n.isOverlaySupported()&&(this.overlayView=new j({paypalAssetsUrl:this._clientToken.paypal.assetsUrl,onFocus:d.bind(function(){this.bus.emit(o.events.FOCUS_APP)},this),onClose:d.bind(function(){this.bus.emit(o.events.CLOSE_APP)},this),channel:this.channel}),b.push(this.overlayView))),this.destructor.registerFunctionForTeardown(function(){for(a=0;a<b.length;a++)b[a].teardown()})},q.prototype._handleClickLogin=function(a){for(var b=a.target||a.srcElement;;){if(null==b||b===a.currentTarget)return;if(this._isButton(b))break;b=b.parentNode}p.preventDefault(a),this.launch()},q.prototype.launch=function(){this.appView.open()},q.prototype._isButton=function(a){var b="braintree-paypal-button"===a.id,c=p.isOneTimeHermesConfiguration(this._clientOptions)&&a.className.match(/paypal-button(?!-widget)/);return b||c},q.prototype._handlePaymentMethodGenerated=function(a){a.type===o.NONCE_TYPE&&d.isFunction(this.onSuccess)&&this.onSuccess(a)},q.prototype._clientTokenData=function(){return{analyticsUrl:this._clientToken.analytics?this._clientToken.analytics.url:null,authorizationFingerprint:this._clientToken.authorizationFingerprint,clientApiUrl:this._clientToken.clientApiUrl,displayName:this._clientOptions.displayName||this._clientToken.paypal.displayName,paypalAssetsUrl:this._clientToken.paypal.assetsUrl,paypalClientId:this._clientToken.paypal.clientId,paypalPrivacyUrl:this._clientToken.paypal.privacyUrl,paypalUserAgreementUrl:this._clientToken.paypal.userAgreementUrl,billingAgreementsEnabled:this._clientToken.paypal.billingAgreementsEnabled,unvettedMerchant:this._clientToken.paypal.unvettedMerchant,payeeEmail:this._clientToken.paypal.payeeEmail,correlationId:this._clientToken.correlationId,offline:this._clientOptions.offline||this._clientToken.paypal.environmentNoNetwork,sdkVersion:this._clientToken.sdkVersion,merchantAppId:this._clientToken.merchantAppId}},q.prototype._handleGetClientToken=function(a){a(this._clientTokenData())},q.prototype._clientOptionsData=function(){return{locale:this._clientOptions.locale||"en_us",onetime:this._clientOptions.singleUse||!1,integration:this._clientOptions.integration||"paypal",enableShippingAddress:this._clientOptions.enableShippingAddress||!1,enableBillingAddress:this._clientOptions.enableBillingAddress||!1,enableHermes:p.isHermesConfiguration(this._clientToken,this._clientOptions),amount:this._clientOptions.amount||null,currency:this._clientOptions.currency||null,shippingAddressOverride:this._clientOptions.shippingAddressOverride||null,enableCORS:this._clientOptions.enableCORS}},q.prototype._handleGetClientOptions=function(a){a(this._clientOptionsData())},q.prototype.teardown=function(){this.destructor.teardown(d.bind(function(){this.bus.teardown()},this))},b.exports=q}).call(this,void 0!==c.g?c.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../shared/constants":354,"../shared/util/browser":361,"../shared/util/util":363,"./views/app-view":345,"./views/bridge-iframe-view":346,"./views/logged-in-view":347,"./views/logged-out-view":348,"./views/merchant-page-view":349,"./views/overlay-view":351,"./views/payment-method-nonce-input-field-view":352,"braintree-bus":312,"braintree-utilities":324,destructor:325}],344:[function(a,b,c){"use strict";var d=a("./client"),e=a("../shared/util/browser"),f=a("../shared/constants"),g=a("../shared/get-locale"),h=a("../shared/util/util").isHermesConfiguration,i=a("../shared/util/util").isOneTimeHermesConfiguration,j=a("braintree-utilities"),k=a("braintree-api");function l(a,b){var c,d=b.length,e=!1;for(c=0;c<d;c++)a.toLowerCase()===b[c].toLowerCase()&&(e=!0);return e}b.exports={create:function(a,b,c){var m,n,o,p,q,r,s,t,u;if("function"!=typeof(n=(b=b||{}).onUnsupported)&&(n=function(a){try{console.log(a)}catch(b){}}),!a)return n(Error('Parameter "clientToken" cannot be null')),null;if(!(a=k.parseClientToken(a)).paypalEnabled)return n(Error("PayPal is not enabled")),null;if(!e.detectedPostMessage())return n(Error("unsupported browser detected")),null;if(!b.container)return n(Error("Please supply a container for the PayPal button to be appended to")),null;if(o=a,p=b,!(o.paypal.allowHttp||e.isPopupSupported()||("merchantHttps"in p?p.merchantHttps:j.isBrowserHttps())))return n(Error("unsupported protocol detected")),null;if(q=a,r=b,q.paypal.unvettedMerchant&&(!h(q,r)||!q.paypal.payeeEmail))return n(Error("Unvetted merchant client token does not include a payee email")),null;if(h(a,b)&&(s=b.locale,!l(g(s).split("_")[1],f.HERMES_SUPPORTED_COUNTRIES)))return n(Error("This PayPal integration does not support this country")),null;if(i(b)){if(t=b.currency,!l(t,f.HERMES_SUPPORTED_CURRENCIES))return n(Error("This PayPal integration does not support this currency")),null;if(u=b.amount,"number"!=typeof(u=parseFloat(u))||isNaN(u)||!(u>=0))return n(Error("Amount must be a number")),null}return(m=new d(a,b,c)).initialize(),m},VERSION:"1.6.1"}},{"../shared/constants":354,"../shared/get-locale":356,"../shared/util/browser":361,"../shared/util/util":363,"./client":343,"braintree-api":281,"braintree-utilities":324}],345:[function(a,b,c){arguments[4][183][0].apply(c,arguments)},{"../../shared/constants":354,"../../shared/util/browser":361,"./modal-view":350,"./popup-view":353,"braintree-bus":312,"braintree-utilities":324,destructor:325,dup:183}],346:[function(a,b,c){"use strict";var d=a("../../shared/constants"),e=a("iframer");function f(a){this.options=a||{},this.el=e({src:this._buildUrl(),name:d.BRIDGE_FRAME_NAME,height:1,width:1,style:{position:"static",top:0,left:0,bottom:0,padding:0,margin:0,border:0,outline:"none",background:"transparent"}}),this.options.container.appendChild(this.el)}f.prototype._buildUrl=function(){var a=this.options.paypalAssetsUrl;return a+="/pwpp/",a+=d.VERSION,a+="/html/bridge-frame.html",a+="#"+this.options.channel},f.prototype.teardown=function(){this.options.container.removeChild(this.el)},b.exports=f},{"../../shared/constants":354,iframer:328}],347:[function(a,b,d){(function(c){"use strict";var d=a("braintree-utilities"),e=a("destructor"),f=a("braintree-bus"),g=a("../../shared/util/util"),h=a("../../shared/util/dom"),i=a("../../shared/constants");function j(a){this.options=a||{},this.wrapper=this.options.container||document.body,this.destructor=new e,this.bus=new f({merchantUrl:c.location.href,channel:a.channel}),this._initialize()}j.prototype._initialize=function(){var a=d.bind(this._handleClickLogout,this);this._createViewContainer(),this._createPayPalName(),this._createEmailNode(),this._createLogoutNode(),d.addEventListener(this.logoutNode,"click",a),this.destructor.registerFunctionForTeardown(d.bind(function(){d.removeEventListener(this.logoutNode,"click",a)},this)),this.bus.on(f.events.PAYMENT_METHOD_GENERATED,d.bind(this._handlePaymentMethodGenerated,this)),this.bus.on(f.events.PAYMENT_METHOD_CANCELLED,d.bind(this._handlePaymentMethodCancelled,this))},j.prototype._createViewContainer=function(){var a=["display: none","max-width: 500px","overflow: hidden","padding: 16px","background-image: url("+this.options.paypalAssetsUrl+"/pwpp/"+i.VERSION+"/images/paypal-small.png)","background-image: url("+this.options.paypalAssetsUrl+"/pwpp/"+i.VERSION+"/images/paypal-small.svg), none","background-position: 20px 50%","background-repeat: no-repeat","background-size: 13px 15px","border-top: 1px solid #d1d4d6","border-bottom: 1px solid #d1d4d6"].join(";");this.container=document.createElement("div"),this.container.id="braintree-paypal-loggedin",this.container.classList.add("braintree-paypal-loggedin"),this.container.style.cssText=a,this.wrapper.appendChild(this.container)},j.prototype._createPayPalName=function(){return this.payPalName=document.createElement("span"),this.payPalName.id="bt-pp-name",this.payPalName.classList.add("bt-pp-name"),this.payPalName.innerHTML="PayPal",this.payPalName.style.cssText='color: #283036;font-size: 13px;font-weight: 800;font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;margin-left: 36px;-webkit-font-smoothing: antialiased;-moz-font-smoothing: antialiased;-ms-font-smoothing: antialiased;font-smoothing: antialiased',this.container.appendChild(this.payPalName)},j.prototype._createEmailNode=function(){this.emailNode=document.createElement("span"),this.emailNode.id="bt-pp-email",this.emailNode.classList.add("bt-pp-email"),this.emailNode.style.cssText='color: #6e787f;font-size: 13px;font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;margin-left: 5px;-webkit-font-smoothing: antialiased;-moz-font-smoothing: antialiased;-ms-font-smoothing: antialiased;font-smoothing: antialiased',this.container.appendChild(this.emailNode)},j.prototype._createLogoutNode=function(){this.logoutNode=document.createElement("button"),this.logoutNode.id="bt-pp-cancel",this.logoutNode.classList.add("bt-pp-cancel"),this.logoutNode.innerHTML="Cancel",this.logoutNode.style.cssText='color: #3d95ce;font-size: 11px;font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;line-height: 20px;margin: 0 0 0 25px;padding: 0;background-color: transparent;border: 0;cursor: pointer;text-decoration: underline;float: right;-webkit-font-smoothing: antialiased;-moz-font-smoothing: antialiased;-ms-font-smoothing: antialiased;font-smoothing: antialiased',this.container.appendChild(this.logoutNode)},j.prototype.show=function(a){this.container.style.display="block",h.setTextContent(this.emailNode,a)},j.prototype.hide=function(){this.container.style.display="none"},j.prototype._handleClickLogout=function(a){g.preventDefault(a),this.bus.emit(f.events.PAYMENT_METHOD_CANCELLED,{source:i.PAYPAL_INTEGRATION_NAME})},j.prototype._handlePaymentMethodGenerated=function(a){var b;a.type===i.NONCE_TYPE&&(b=a&&a.details&&a.details.email?a.details.email:"",this.show(b))},j.prototype._handlePaymentMethodCancelled=function(a){a.source===i.PAYPAL_INTEGRATION_NAME&&this.hide()},j.prototype.teardown=function(){this.wrapper.removeChild(this.container),this.destructor.teardown(),this.bus.teardown()},b.exports=j}).call(this,void 0!==c.g?c.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../shared/constants":354,"../../shared/util/dom":362,"../../shared/util/util":363,"braintree-bus":312,"braintree-utilities":324,destructor:325}],348:[function(a,b,d){(function(c){"use strict";var d=a("braintree-utilities"),e=a("braintree-bus"),f=a("../../shared/constants"),g=a("../../shared/get-locale");function h(a){this.options=a,this.wrapper=this.options.container||document.body,this.bus=new e({merchantUrl:c.location.href,channel:a.channel}),this._initialize()}h.prototype._initialize=function(){this.createViewContainer(),this.options.enablePayPalButton?this.createCheckoutWithPayPalButton():this.createPayWithPayPalButton(),this.bus.on(e.events.PAYMENT_METHOD_GENERATED,d.bind(this._handlePaymentMethodGenerated,this)),this.bus.on(e.events.PAYMENT_METHOD_CANCELLED,d.bind(this._handlePaymentMethodCancelled,this))},h.prototype.createViewContainer=function(){this.container=document.createElement("div"),this.container.id="braintree-paypal-loggedout",this.wrapper.appendChild(this.container),this.loginNode=this.container},h.prototype.createPayWithPayPalButton=function(){var a=document.createElement("a"),b=new Image;a.id="braintree-paypal-button",a.href="#",a.style.cssText="display: block;width: 115px;height: 44px;overflow: hidden",b.src=this.options.paypalAssetsUrl+"/pwpp/"+f.VERSION+"/images/pay-with-paypal.png",b.setAttribute("alt","Pay with PayPal"),b.style.cssText="max-width: 100%;display: block;width: 100%;height: 100%;outline: none;border: 0",a.appendChild(b),this.container.appendChild(a)},h.prototype.createCheckoutWithPayPalButton=function(){var a,b=document.createElement("script"),c={"data-merchant":"merchant-id","data-button":"checkout","data-type":"button","data-color":"blue","data-lc":g(this.options.locale)};for(a in b.src="//www.paypalobjects.com/api/button.js",b.async=!0,c)c.hasOwnProperty(a)&&b.setAttribute(a,c[a]);this.container.appendChild(b)},h.prototype.show=function(){this.container.style.display="block"},h.prototype.hide=function(){this.container.style.display="none"},h.prototype._handlePaymentMethodGenerated=function(a){a.type===f.NONCE_TYPE&&this.hide()},h.prototype._handlePaymentMethodCancelled=function(a){a.source===f.PAYPAL_INTEGRATION_NAME&&this.show()},h.prototype.teardown=function(){this.wrapper.removeChild(this.container),this.bus.teardown()},b.exports=h}).call(this,void 0!==c.g?c.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../shared/constants":354,"../../shared/get-locale":356,"braintree-bus":312,"braintree-utilities":324}],349:[function(a,b,d){(function(c){"use strict";var d=a("braintree-bus"),e=a("braintree-utilities"),f=a("../../shared/constants");function g(a){this.options=a,this.bus=new d({merchantUrl:c.location.href,channel:a.channel}),this.bus.on(f.events.UI_MODAL_DID_OPEN,e.bind(this.lockWindowSize,this)),this.bus.on(f.events.UI_MODAL_DID_CLOSE,e.bind(this.unlockWindowSize,this))}function h(a){return{overflow:(window.getComputedStyle?getComputedStyle(a):a.currentStyle).overflow||"",height:a.style.height||""}}g.prototype.lockWindowSize=function(){this.defaultStyles={html:{node:document.documentElement,styles:h(document.documentElement)},body:{node:document.body,styles:h(document.body)}},document.documentElement.style.height="100%",document.documentElement.style.overflow="hidden",document.body.style.height="100%",document.body.style.overflow="hidden"},g.prototype.unlockWindowSize=function(){this.defaultStyles&&(document.documentElement.style.height=this.defaultStyles.html.styles.height,document.documentElement.style.overflow=this.defaultStyles.html.styles.overflow,document.body.style.height=this.defaultStyles.body.styles.height,document.body.style.overflow=this.defaultStyles.body.styles.overflow,delete this.defaultStyles)},g.prototype._handleUIModalDidOpen=function(a){a.source===f.PAYPAL_INTEGRATION_NAME&&this.lockWindowSize()},g.prototype._handleUIModalDidClose=function(a){a.source===f.PAYPAL_INTEGRATION_NAME&&this.unlockWindowSize()},g.prototype.teardown=function(){this.unlockWindowSize(),this.bus.teardown()},b.exports=g}).call(this,void 0!==c.g?c.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../shared/constants":354,"braintree-bus":312,"braintree-utilities":324}],350:[function(a,b,c){arguments[4][184][0].apply(c,arguments)},{"../../shared/constants":354,"../../shared/util/browser":361,"braintree-bus":312,"braintree-utilities":324,dup:184,iframer:328}],351:[function(a,b,d){(function(c){"use strict";var d=a("braintree-utilities"),e=a("destructor"),f=a("braintree-bus"),g=a("../../shared/constants");function h(a){this.options=a,this.spriteSrc=this.options.paypalAssetsUrl+"/pwpp/"+g.VERSION+"/images/pp_overlay_sprite.png",this.bus=new f({merchantUrl:c.location.href,channel:a.channel}),this.destructor=new e,this._create(),this._setupEvents(),this.bus.on(f.events.UI_POPUP_DID_OPEN,d.bind(this._handleUIPopupDidOpen,this)),this.bus.on(f.events.UI_POPUP_DID_CLOSE,d.bind(this._handleUIPopupDidClose,this))}h.prototype.open=function(){!document.body.contains(this.el)&&document.body.appendChild(this.el)},h.prototype.close=function(){document.body.contains(this.el)&&document.body.removeChild(this.el)},h.prototype._handleUIPopupDidClose=function(a){a.source===g.PAYPAL_INTEGRATION_NAME&&this.close()},h.prototype._handleUIPopupDidOpen=function(a){a.source===g.PAYPAL_INTEGRATION_NAME&&this.open()},h.prototype._create=function(){this.el=document.createElement("div"),this.el.className="bt-overlay",this._setStyles(this.el,["z-index: 20001","position: fixed","top: 0","left: 0","height: 100%","width: 100%","text-align: center","background: #000","background: rgba(0,0,0,0.7)",'-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=52)"']),this.el.appendChild(this._createCloseIcon()),this.el.appendChild(this._createMessage())},h.prototype._createCloseIcon=function(){return this.closeIcon=document.createElement("div"),this.closeIcon.className="bt-close-overlay",this._setStyles(this.closeIcon,["position: absolute","top: 10px","right: 10px","cursor: pointer","background: url("+this.spriteSrc+") no-repeat 0 -67px","height: 14px","width: 14px"]),this.closeIcon},h.prototype._createMessage=function(){var a=document.createElement("div");return this._setStyles(a,["position: relative","top: 50%","max-width: 350px",'font-family: "HelveticaNeue", "HelveticaNeue-Light", "Helvetica Neue Light", helvetica, arial, sans-serif',"font-size: 14px","line-height: 20px","margin: -70px auto 0"]),a.appendChild(this._createLogo()),a.appendChild(this._createExplanation()),a.appendChild(this._createFocusLink()),a},h.prototype._createExplanation=function(){var a=document.createElement("div");return this._setStyles(a,["color: #FFF","margin-bottom: 20px"]),a.innerHTML="Don't see the secure PayPal browser? We'll help you re-launch the window to complete your purchase.",a},h.prototype._createLogo=function(){var a=document.createElement("div");return this._setStyles(a,["background: url("+this.spriteSrc+") no-repeat 0 0","width: 94px","height: 25px","margin: 0 auto 26px auto"]),a},h.prototype._createFocusLink=function(){return this.focusLink=document.createElement("a"),this._setStyles(this.focusLink,["color: #009be1","cursor: pointer"]),this.focusLink.innerHTML="Continue",this.focusLink},h.prototype._setStyles=function(a,b){var c=b.join(";");a.style.cssText=c},h.prototype._setupEvents=function(){var a=d.bind(this._handleClose,this),b=d.bind(this._handleFocus,this);d.addEventListener(this.closeIcon,"click",a),d.addEventListener(this.focusLink,"click",b),this.destructor.registerFunctionForTeardown(d.bind(function(){d.removeEventListener(this.closeIcon,"click",a),d.removeEventListener(this.focusLink,"click",b)},this))},h.prototype._handleClose=function(a){a.preventDefault(),this.close(),d.isFunction(this.options.onClose)&&this.options.onClose()},h.prototype._handleFocus=function(a){a.preventDefault(),d.isFunction(this.options.onFocus)&&this.options.onFocus()},h.prototype.teardown=function(){this.bus.teardown(),this.destructor.teardown(),this.close()},b.exports=h}).call(this,void 0!==c.g?c.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../shared/constants":354,"braintree-bus":312,"braintree-utilities":324,destructor:325}],352:[function(a,b,d){(function(c){"use strict";var d=a("braintree-utilities"),e=a("destructor"),f=a("braintree-bus"),g=a("../../shared/constants");function h(a){this.options=a||{},this.container=this.options.container||document.body,this.el=this.options.el,this.destructor=new e,this.bus=new f({merchantUrl:c.location.href,channel:a.channel}),this._initialize()}h.prototype._initialize=function(){d.isFunction(this.el)||(null!=this.el?(this.el=d.normalizeElement(this.el),this.destructor.registerFunctionForTeardown(d.bind(function(){this.clear()},this))):this.el=this.create()),this.bus.on(f.events.PAYMENT_METHOD_GENERATED,d.bind(this._handlePaymentMethodGenerated,this)),this.bus.on(f.events.PAYMENT_METHOD_CANCELLED,d.bind(this._handlePaymentMethodCancelled,this))},h.prototype.create=function(){var a=document.createElement("input");return a.name="payment_method_nonce",a.type="hidden",this.container.appendChild(a),this.destructor.registerFunctionForTeardown(d.bind(function(){this.container.removeChild(a)},this)),a},h.prototype.value=function(a){d.isFunction(this.el)?this.el(a):this.el.value=a},h.prototype.clear=function(){this.value("")},h.prototype._handlePaymentMethodCancelled=function(a){a.source===g.PAYPAL_INTEGRATION_NAME&&this.clear()},h.prototype._handlePaymentMethodGenerated=function(a){a.type===g.NONCE_TYPE&&this.value(a.nonce)},h.prototype.teardown=function(){this.destructor.teardown(),this.bus.teardown()},b.exports=h}).call(this,void 0!==c.g?c.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../shared/constants":354,"braintree-bus":312,"braintree-utilities":324,destructor:325}],353:[function(a,b,c){arguments[4][185][0].apply(c,arguments)},{"../../shared/constants":354,"../../shared/useragent/browser":357,"braintree-bus":312,dup:185}],354:[function(a,b,c){arguments[4][186][0].apply(c,arguments)},{dup:186}],355:[function(a,b,c){"use strict";b.exports={us:"en_us",gb:"en_uk",uk:"en_uk",de:"de_de",fr:"fr_fr",it:"it_it",es:"es_es",ca:"en_ca",au:"en_au",at:"de_de",be:"en_us",ch:"de_de",dk:"da_dk",nl:"nl_nl",no:"no_no",pl:"pl_pl",se:"sv_se",tr:"tr_tr",bg:"en_us",cy:"en_us",hr:"en_us",is:"en_us",kh:"en_us",mt:"en_us",my:"en_us",ru:"ru_ru"}},{}],356:[function(a,b,c){"use strict";var d=a("../shared/data/country-code-lookup");b.exports=function(a){var b,c,e;return(b=-1!==(e=a=(a=a?a.toLowerCase():"us").replace(/-/g,"_")).indexOf("_")&&5===e.length?a:function(a){var b,c;for(b in d)d.hasOwnProperty(b)&&(b===a?c=d[b]:d[b]===a&&(c=d[b]));return c}(a))?[(c=b.split("_"))[0],c[1].toUpperCase()].join("_"):"en_US"}},{"../shared/data/country-code-lookup":355}],357:[function(a,b,c){arguments[4][187][0].apply(c,arguments)},{"./platform":359,"./useragent":360,dup:187}],358:[function(a,b,c){arguments[4][188][0].apply(c,arguments)},{"./platform":359,"./useragent":360,dup:188}],359:[function(a,b,c){arguments[4][189][0].apply(c,arguments)},{"./useragent":360,dup:189}],360:[function(a,b,c){arguments[4][190][0].apply(c,arguments)},{dup:190}],361:[function(a,b,c){arguments[4][191][0].apply(c,arguments)},{"../useragent/browser":357,"../useragent/device":358,"../useragent/platform":359,"../useragent/useragent":360,dup:191}],362:[function(a,b,c){"use strict";b.exports={setTextContent:function(a,b){var c="innerText";document&&document.body&&"textContent"in document.body&&(c="textContent"),a[c]=b}}},{}],363:[function(a,b,c){"use strict";var d="function"==typeof String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s+|\s+$/,"")},e="function"==typeof window.btoa?function(a){return window.btoa(a)}:function(a){for(var b,c,d,e,f,g,h,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",j="",k=0;k<a.length;)b=a.charCodeAt(k++),c=a.charCodeAt(k++),d=a.charCodeAt(k++),e=b>>2,f=(3&b)<<4|c>>4,g=(15&c)<<2|d>>6,h=63&d,isNaN(c)?g=h=64:isNaN(d)&&(h=64),j=j+i.charAt(e)+i.charAt(f)+i.charAt(g)+i.charAt(h);return j};function f(a){return Boolean(a.singleUse)&&Boolean(a.amount)&&Boolean(a.currency)}function g(a){return Boolean(a.paypal.billingAgreementsEnabled)}b.exports={trim:d,btoa:e,generateUid:function(){var a,b,c="";for(a=0;a<32;a++)c+=Math.floor(16*Math.random()).toString(16);return c},castToBoolean:function(a){return/^(true|1)$/i.test(a)},htmlEscape:function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&apos;")},parseUrlParams:function(a){var b,c,d,e,f,g,h,i,j=a.indexOf("?"),k={};if(j>=0&&(a=a.substr(j+1)),0===a.length)return null;for(c=0,d=(b=a.split("&")).length;c<d;c++)f=(e=b[c]).indexOf("="),g=e.substr(0,f),i=e.substr(f+1),h=decodeURIComponent(i),h=h.replace(/</g,"&lt;").replace(/>/g,"&gt;"),"false"===h&&(h=!1),(null==h||"true"===h)&&(h=!0),k[g]=h;return k},preventDefault:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},isOneTimeHermesConfiguration:f,isBillingAgreementsHermesConfiguration:g,isHermesConfiguration:function(a,b){return g(a)||f(b)}}},{}],364:[function(a,b,c){arguments[4][35][0].apply(c,arguments)},{dup:35}],365:[function(a,b,c){arguments[4][36][0].apply(c,arguments)},{dup:36}],366:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{dup:22}],367:[function(a,b,c){arguments[4][38][0].apply(c,arguments)},{dup:38}],368:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],369:[function(a,b,c){arguments[4][40][0].apply(c,arguments)},{dup:40}],370:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{"./array":364,dup:41}],371:[function(a,b,c){arguments[4][42][0].apply(c,arguments)},{dup:42}],372:[function(a,b,c){arguments[4][43][0].apply(c,arguments)},{"./lib/array":364,"./lib/base64":365,"./lib/dom":366,"./lib/events":367,"./lib/fn":368,"./lib/string":369,"./lib/url":370,"./lib/uuid":371,dup:43}],373:[function(a,b,c){arguments[4][80][0].apply(c,arguments)},{"batch-execute-functions":374,"braintree-utilities/lib/fn":375,dup:80}],374:[function(a,b,c){arguments[4][81][0].apply(c,arguments)},{dup:81}],375:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],376:[function(a,b,d){(function(a){"use strict";function c(a){if(("string"==typeof a||a instanceof String)&&(a=document.getElementById(a)),a instanceof HTMLFormElement)this.htmlForm=a;else throw TypeError("FormNapper requires an HTMLFormElement element or the id string of one.")}c.prototype.hijack=function(b){!this.submitHandler&&(this.submitHandler=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1,b(a)},null!=a.addEventListener?this.htmlForm.addEventListener("submit",this.submitHandler,!1):null!=a.attachEvent?this.htmlForm.attachEvent("onsubmit",this.submitHandler):this.htmlForm.onsubmit=this.submitHandler)},c.prototype.inject=function(a,b){var c=this.htmlForm.querySelector('input[name="'+a+'"]');return null==c&&((c=document.createElement("input")).type="hidden",c.name=a,this.htmlForm.appendChild(c)),c.value=b,c},c.prototype.submit=function(){HTMLFormElement.prototype.submit.call(this.htmlForm)},c.prototype.detach=function(){this.submitHandler&&(null!=a.removeEventListener?this.htmlForm.removeEventListener("submit",this.submitHandler,!1):null!=a.detachEvent?this.htmlForm.detachEvent("onsubmit",this.submitHandler):this.htmlForm.onsubmit=null,delete this.submitHandler)},b.exports=c}).call(this,void 0!==c.g?c.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],377:[function(a,b,c){var d=a("./lib/external"),e=a("./lib/shared/constants").events;b.exports={create:function(a){return new d(a)},events:e,VERSION:"1.0.0"}},{"./lib/external":379,"./lib/shared/constants":381}],378:[function(a,b,c){var d=a("../shared/constants");b.exports=function(a,b){return a+"/hosted-fields/"+d.VERSION+"/hosted-fields-frame.html#"+b}},{"../shared/constants":381}],379:[function(a,b,c){"use strict";var d=a("destructor"),e=a("classlist"),f=a("iframer"),g=a("braintree-bus"),h=a("./compose-url"),i=a("../shared/constants"),j=a("nodelist-to-array"),k=a("braintree-utilities"),l=a("../shared/find-parent-tags"),m=a("./should-use-label-focus"),n=i.events;function o(a,b){var c=document.createElement("div");return c.style.clear="both",(b=b||document.body).appendChild(a),b.appendChild(c),{parent:b,children:[a,c]}}function p(a){var b,c,j,l,m,p,q,r,s={},t=0;for(this.injectedNodes=[],this.destructor=new d,this.bus=new g({channel:a.channel,merchantUrl:location.href}),this.destructor.registerFunctionForTeardown(k.bind(function(){this.bus.teardown()},this)),this.bus.emit(g.events.ASYNC_DEPENDENCY_INITIALIZING),this.bus.emit(g.events.SEND_ANALYTICS_EVENTS,"hosted-fields.initialized"),q=0;q<i.whitelistedFields.length;q++)if(j=i.whitelistedFields[q],l=a.merchantConfiguration.hostedFields[j]){if(m=document.querySelector(l.selector)){if(m.querySelector('iframe[name^="braintree-"]')){this.bus.emit(g.events.ERROR,{message:'Cannot place two elements in "'+l.selector+'"'});continue}}else{r='Unable to find element with selector "'+l.selector+'" for hostedFields.'+j,this.bus.emit(g.events.ERROR,{message:r});continue}p=f({type:j,name:"braintree-hosted-field-"+j,style:i.defaultIFrameStyle}),this.injectedNodes.push(o(p,m)),this.setupLabelFocus(j,m),s[j]={frameElement:p,containerElement:m},t++,setTimeout(function(b){return function(){b.src=h(a.gatewayConfiguration.assetsUrl,a.channel)}}(p),0)}this.bus.on(n.FRAME_READY,function(a){a(0== --t)}),this.bus.on(n.INPUT_EVENT,(b=s,c=a.merchantConfiguration.hostedFields.onFieldEvent,function(a){var d=b[a.fieldKey].containerElement,f=e(d);a.target={fieldKey:a.fieldKey,container:d},f.toggle(i.externalClasses.FOCUSED,a.isFocused).toggle(i.externalClasses.VALID,a.isValid),a.isStrictlyValidating?f.toggle(i.externalClasses.INVALID,!a.isValid):f.toggle(i.externalClasses.INVALID,!a.isPotentiallyValid),delete a.fieldKey,delete a.isStrictlyValidating,c&&c(a)})),this.destructor.registerFunctionForTeardown(k.bind(function(){var a,b,c;for(a=0;a<this.injectedNodes.length;a++){for(b=0,c=this.injectedNodes[a];b<c.children.length;b++)c.parent.removeChild(c.children[b]);e(c.parent).remove(i.externalClasses.FOCUSED,i.externalClasses.INVALID,i.externalClasses.VALID)}},this))}p.prototype.setupLabelFocus=function(a,b){var c,d,e=this.bus;if(m()&&null!=b.id){for(d=0,c=(c=j(document.querySelectorAll('label[for="'+b.id+'"]'))).concat(l(b,"label"));d<c.length;d++)k.addEventListener(c[d],"click",f,!1);this.destructor.registerFunctionForTeardown(function(){for(d=0;d<c.length;d++)k.removeEventListener(c[d],"click",f,!1)})}function f(){e.emit(n.TRIGGER_INPUT_FOCUS,a)}},p.prototype.teardown=function(a){this.destructor.teardown(a)},b.exports=p},{"../shared/constants":381,"../shared/find-parent-tags":382,"./compose-url":378,"./should-use-label-focus":380,"braintree-bus":383,"braintree-utilities":395,classlist:396,destructor:399,iframer:402,"nodelist-to-array":417}],380:[function(a,b,c){"use strict";b.exports=function(){return!/(iPad|iPhone|iPod)/i.test(navigator.userAgent)}},{}],381:[function(a,b,c){"use strict";b.exports={VERSION:"1.0.0",events:{FRAME_READY:"hosted-fields:FRAME_READY",VALIDATE_STRICT:"hosted-fields:VALIDATE_STRICT",CONFIGURATION:"hosted-fields:CONFIGURATION",TOKENIZATION_REQUEST:"hosted-fields:TOKENIZATION_REQUEST",INPUT_EVENT:"hosted-fields:INPUT_EVENT",TRIGGER_INPUT_FOCUS:"hosted-fields:TRIGGER_INPUT_FOCUS"},externalEvents:{FOCUS:"focus",BLUR:"blur",FIELD_STATE_CHANGE:"fieldStateChange"},defaultMaxLengths:{number:19,postalCode:8,expirationDate:7,expirationMonth:2,expirationYear:4,cvv:3},externalClasses:{FOCUSED:"braintree-hosted-fields-focused",INVALID:"braintree-hosted-fields-invalid",VALID:"braintree-hosted-fields-valid"},defaultIFrameStyle:{border:"none",width:"100%",height:"100%",float:"left"},whitelistedFields:["number","cvv","expirationDate","expirationMonth","expirationYear","postalCode"],whitelistedStyles:["-moz-osx-font-smoothing","-moz-transition","-webkit-font-smoothing","-webkit-transition","color","font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-weight","line-height","opacity","outline","text-shadow","transition"],passwordManagerFields:{number:{name:"credit-card-number",label:"Credit Card Number"},expirationDate:{name:"expiration",label:"Expiration Date"},postalCode:{name:"postal-code",label:"Postal Code"}}}},{}],382:[function(a,b,c){"use strict";b.exports=function(a,b){for(var c=a.parentNode,d=[];null!=c;)null!=c.tagName&&c.tagName.toLowerCase()===b&&d.push(c),c=c.parentNode;return d}},{}],383:[function(a,b,c){arguments[4][52][0].apply(c,arguments)},{"./lib/check-origin":384,"./lib/events":385,dup:52,framebus:386}],384:[function(a,b,c){arguments[4][53][0].apply(c,arguments)},{dup:53}],385:[function(a,b,c){arguments[4][54][0].apply(c,arguments)},{dup:54}],386:[function(a,b,c){arguments[4][55][0].apply(c,arguments)},{dup:55}],387:[function(a,b,c){arguments[4][35][0].apply(c,arguments)},{dup:35}],388:[function(a,b,c){arguments[4][36][0].apply(c,arguments)},{dup:36}],389:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{dup:22}],390:[function(a,b,c){arguments[4][38][0].apply(c,arguments)},{dup:38}],391:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],392:[function(a,b,c){arguments[4][40][0].apply(c,arguments)},{dup:40}],393:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{"./array":387,dup:41}],394:[function(a,b,c){arguments[4][42][0].apply(c,arguments)},{dup:42}],395:[function(a,b,c){arguments[4][43][0].apply(c,arguments)},{"./lib/array":387,"./lib/base64":388,"./lib/dom":389,"./lib/events":390,"./lib/fn":391,"./lib/string":392,"./lib/url":393,"./lib/uuid":394,dup:43}],396:[function(a,b,c){"use strict";b.exports=g;var d=a("component-indexof"),e=a("trim"),f=Array.prototype;function g(a){if(!(this instanceof g))return new g(a);var b,c=e(a.className).split(/\s+/);for(b=0,this._elem=a,this.length=0;b<c.length;b+=1)c[b]&&f.push.call(this,c[b])}g.prototype.add=function(){var a,b;for(b=0;b<arguments.length;b+=1)a=""+arguments[b],d(this,a)>=0||f.push.call(this,a);return this._elem.className=this.toString(),this},g.prototype.remove=function(){var a,b,c;for(c=0;c<arguments.length;c+=1)b=""+arguments[c],(a=d(this,b))<0||f.splice.call(this,a,1);return this._elem.className=this.toString(),this},g.prototype.contains=function(a){return d(this,a+="")>=0},g.prototype.toggle=function(a,b){return(a+="",!0===b)?this.add(a):!1===b?this.remove(a):this[this.contains(a)?"remove":"add"](a)},g.prototype.toString=function(){return f.join.call(this," ")}},{"component-indexof":397,trim:398}],397:[function(a,b,c){b.exports=function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return -1}},{}],398:[function(a,b,c){(c=b.exports=function(a){return a.replace(/^\s*|\s*$/g,"")}).left=function(a){return a.replace(/^\s*/,"")},c.right=function(a){return a.replace(/\s*$/,"")}},{}],399:[function(a,b,c){arguments[4][80][0].apply(c,arguments)},{"batch-execute-functions":400,"braintree-utilities/lib/fn":401,dup:80}],400:[function(a,b,c){arguments[4][81][0].apply(c,arguments)},{dup:81}],401:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],402:[function(a,b,c){arguments[4][83][0].apply(c,arguments)},{"./lib/default-attributes":403,dup:83,"lodash.assign":406,"lodash.isstring":404,setattributes:405}],403:[function(a,b,c){arguments[4][84][0].apply(c,arguments)},{dup:84}],404:[function(a,b,c){arguments[4][51][0].apply(c,arguments)},{dup:51}],405:[function(a,b,c){arguments[4][97][0].apply(c,arguments)},{dup:97}],406:[function(a,b,c){arguments[4][85][0].apply(c,arguments)},{dup:85,"lodash._baseassign":407,"lodash._createassigner":409,"lodash.keys":413}],407:[function(a,b,c){arguments[4][86][0].apply(c,arguments)},{dup:86,"lodash._basecopy":408,"lodash.keys":413}],408:[function(a,b,c){arguments[4][87][0].apply(c,arguments)},{dup:87}],409:[function(a,b,c){arguments[4][88][0].apply(c,arguments)},{dup:88,"lodash._bindcallback":410,"lodash._isiterateecall":411,"lodash.restparam":412}],410:[function(a,b,c){arguments[4][89][0].apply(c,arguments)},{dup:89}],411:[function(a,b,c){arguments[4][90][0].apply(c,arguments)},{dup:90}],412:[function(a,b,c){arguments[4][91][0].apply(c,arguments)},{dup:91}],413:[function(a,b,c){arguments[4][48][0].apply(c,arguments)},{dup:48,"lodash._getnative":414,"lodash.isarguments":415,"lodash.isarray":416}],414:[function(a,b,c){arguments[4][49][0].apply(c,arguments)},{dup:49}],415:[function(a,b,c){arguments[4][45][0].apply(c,arguments)},{dup:45}],416:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46}],417:[function(a,b,c){void 0!==b&&(b.exports=function(a){try{return Array.prototype.slice.call(a)}catch(b){for(var c=[],d=0;d<a.length;d++)c.push(a[d]);return c}})},{}],418:[function(a,b,c){var d=a("lodash._baseclone"),e=a("lodash._bindcallback");b.exports=function(a,b,c){return"function"==typeof b?d(a,!0,e(b,c,3)):d(a,!0)}},{"lodash._baseclone":419,"lodash._bindcallback":429}],419:[function(a,b,d){(function(c){var d=a("lodash._arraycopy"),e=a("lodash._arrayeach"),f=a("lodash._baseassign"),g=a("lodash._basefor"),h=a("lodash.isarray"),i=a("lodash.keys"),j="[object Arguments]",k="[object Boolean]",l="[object Date]",m="[object Function]",n="[object Number]",o="[object Object]",p="[object RegExp]",q="[object String]",r="[object ArrayBuffer]",s="[object Float32Array]",t="[object Float64Array]",u="[object Int8Array]",v="[object Int16Array]",w="[object Int32Array]",x="[object Uint8Array]",y="[object Uint8ClampedArray]",z="[object Uint16Array]",A="[object Uint32Array]",B=/\w*$/,C={};C[j]=C["[object Array]"]=C[r]=C[k]=C[l]=C[s]=C[t]=C[u]=C[v]=C[w]=C[n]=C[o]=C[p]=C[q]=C[x]=C[y]=C[z]=C[A]=!0,C["[object Error]"]=C[m]=C["[object Map]"]=C["[object Set]"]=C["[object WeakMap]"]=!1;var D=Object.prototype,E=D.hasOwnProperty,F=D.toString,G=c.ArrayBuffer,H=c.Uint8Array;function I(a,b,c,g,i,k,l){if(c&&(n=i?c(a,g,i):c(a)),void 0!==n)return n;if(!O(a))return a;var n,p=h(a);if(p){if(n=L(a),!b)return d(a,n)}else{var q=F.call(a),r=q==m;if(q!=o&&q!=j&&(!r||i))return C[q]?N(a,q,b):i?a:{};if(n=M(r?{}:a),!b)return f(n,a)}k||(k=[]),l||(l=[]);for(var s=k.length;s--;)if(k[s]==a)return l[s];return k.push(a),l.push(n),(p?e:J)(a,function(d,e){n[e]=I(d,b,c,e,a,k,l)}),n}function J(a,b){return g(a,b,i)}function K(a){var b=new G(a.byteLength);return new H(b).set(new H(a)),b}function L(a){var b=a.length,c=new a.constructor(b);return b&&"string"==typeof a[0]&&E.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function M(a){var b=a.constructor;return"function"==typeof b&&b instanceof b||(b=Object),new b}function N(a,b,c){var d=a.constructor;switch(b){case r:return K(a);case k:case l:return new d(+a);case s:case t:case u:case v:case w:case x:case y:case z:case A:var e=a.buffer;return new d(c?K(e):e,a.byteOffset,a.length);case n:case q:return new d(a);case p:var f=new d(a.source,B.exec(a));f.lastIndex=a.lastIndex}return f}function O(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}b.exports=I}).call(this,void 0!==c.g?c.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._arraycopy":420,"lodash._arrayeach":421,"lodash._baseassign":422,"lodash._basefor":424,"lodash.isarray":425,"lodash.keys":426}],420:[function(a,b,c){b.exports=function(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}},{}],421:[function(a,b,c){b.exports=function(a,b){for(var c=-1,d=a.length;++c<d&& !1!==b(a[c],c,a););return a}},{}],422:[function(a,b,c){arguments[4][86][0].apply(c,arguments)},{dup:86,"lodash._basecopy":423,"lodash.keys":426}],423:[function(a,b,c){arguments[4][87][0].apply(c,arguments)},{dup:87}],424:[function(a,b,c){var d,e=function(a,b,c){for(var e=f(a),g=c(a),h=g.length,i=d?h:-1;d?i--:++i<h;){var j=g[i];if(!1===b(e[j],j,e))break}return a};function f(a){return g(a)?a:Object(a)}function g(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}b.exports=e},{}],425:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46}],426:[function(a,b,c){arguments[4][48][0].apply(c,arguments)},{dup:48,"lodash._getnative":427,"lodash.isarguments":428,"lodash.isarray":425}],427:[function(a,b,c){arguments[4][49][0].apply(c,arguments)},{dup:49}],428:[function(a,b,c){arguments[4][45][0].apply(c,arguments)},{dup:45}],429:[function(a,b,c){arguments[4][89][0].apply(c,arguments)},{dup:89}],430:[function(a,b,c){var d=a("lodash._baseassign"),e=a("lodash._basecreate"),f=a("lodash._isiterateecall");b.exports=function(a,b,c){var g=e(a);return c&&f(a,b,c)&&(b=void 0),b?d(g,b):g}},{"lodash._baseassign":431,"lodash._basecreate":437,"lodash._isiterateecall":438}],431:[function(a,b,c){arguments[4][86][0].apply(c,arguments)},{dup:86,"lodash._basecopy":432,"lodash.keys":433}],432:[function(a,b,c){arguments[4][87][0].apply(c,arguments)},{dup:87}],433:[function(a,b,c){arguments[4][48][0].apply(c,arguments)},{dup:48,"lodash._getnative":434,"lodash.isarguments":435,"lodash.isarray":436}],434:[function(a,b,c){arguments[4][49][0].apply(c,arguments)},{dup:49}],435:[function(a,b,c){arguments[4][45][0].apply(c,arguments)},{dup:45}],436:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46}],437:[function(a,b,c){var d=function(){function a(){}return function(b){if(e(b)){a.prototype=b;var c=new a;a.prototype=void 0}return c||{}}}();function e(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}b.exports=d},{}],438:[function(a,b,c){arguments[4][90][0].apply(c,arguments)},{dup:90}],439:[function(a,b,c){"use strict";function d(a){return a.replace(/([A-Z])/g,function(a){return"_"+a.toLowerCase()})}b.exports={convertToLegacyShippingAddress:function(a){var b,c={};if(a){for(b in a)a.hasOwnProperty(b)&&(c[d(b)]=a[b]);return c}}}},{}],440:[function(a,b,c){"use strict";b.exports={ROOT_SUCCESS_CALLBACK:"onPaymentMethodReceived",ROOT_ERROR_CALLBACK:"onError",ROOT_READY_CALLBACK:"onReady"}},{}],441:[function(a,b,d){(function(c){"use strict";var d=a("lodash.clonedeep"),e=a("braintree-api"),f=a("braintree-bus"),g=a("destructor"),h=a("braintree-utilities").bind,i=a("../constants"),j=a("../lib/sanitize-payload"),k=a("../lib/lookup-callback-for"),l=a("../lib/fallback-error-handler"),m=a("../lib/node-type"),n=m.isJQueryElement,o=m.isHTMLElement;function p(){}function q(){this._dependenciesRemaining++}function r(){this._dependenciesRemaining--,0===this._dependenciesRemaining&&(delete this._dependenciesRemaining,this.bus.off(f.events.ASYNC_DEPENDENCY_INITIALIZING,this._handleDependencyInitializing),this.bus.off(f.events.ASYNC_DEPENDENCY_READY,this._handleDependencyReady),this._onIntegrationReady())}function s(a){this.configuration=a,this.isReady=!1,this.destructor=new g,this.bus=new f({channel:this.configuration.channel,merchantUrl:c.location.href}),this._createApiClient(),this._configureCallbacks(),this._configureAnalytics(),this._attachEvents(),this._emitInitializing()}s.prototype._emitInitializing=function(){this.bus.emit(f.events.ASYNC_DEPENDENCY_INITIALIZING)},s.prototype._createApiClient=function(){var a={clientToken:this.configuration.gatewayConfiguration,integration:this.configuration.integrationType,analyticsConfiguration:this.configuration.analyticsConfiguration};this.configuration.merchantConfiguration.enableCORS&&(a.enableCORS=!0),this.apiClient=new e.Client(a)},s.prototype._configureCallbacks=function(){var a,b=k(this.configuration.merchantConfiguration);this.onSuccess=(a=b(i.ROOT_SUCCESS_CALLBACK),function(b){a(j(b))}),this.onError=b(i.ROOT_ERROR_CALLBACK,l),this.onReady=b(i.ROOT_READY_CALLBACK)},s.prototype._configureAnalytics=function(){var a="web."+this.configuration.integrationType+".",b=this.apiClient;this.bus.on(f.events.SEND_ANALYTICS_EVENTS,function(c,d){var e;for(c instanceof Array||(c=[c]),e=0;e<c.length;e++)c[e]=a+c[e];b.sendAnalyticsEvents(c,d)})},s.prototype._attachEvents=function(){var a,b=this.configuration;this.bus.on(f.events.ERROR,this.onError),this.bus.on(f.events.PAYMENT_METHOD_RECEIVED,this.onSuccess),this.bus.on(f.events.WARNING,function(a){try{console.warn(a)}catch(b){}}),a={enableCORS:b.merchantConfiguration.enableCORS,configuration:b.gatewayConfiguration,integration:b.integrationType,analyticsConfiguration:b.analyticsConfiguration,merchantConfiguration:d(b.merchantConfiguration,function(a){if(n(a)||o(a))return{}})},this.bus.on(f.events.CONFIGURATION_REQUEST,function(b){b(a)}),this._dependenciesRemaining=0,this._handleDependencyInitializing=h(q,this),this._handleDependencyReady=h(r,this),this.bus.on(f.events.ASYNC_DEPENDENCY_INITIALIZING,this._handleDependencyInitializing),this.bus.on(f.events.ASYNC_DEPENDENCY_READY,this._handleDependencyReady)},s.prototype._onIntegrationReady=function(){var a={teardown:h(function(b){var c,d="Cannot call teardown while in progress";function e(){throw Error(d)}for(c in b=b||p,a)a.hasOwnProperty(c)&&(a[c]=e);this.destructor.teardown(h(function(){d="Cannot teardown integration more than once",this.bus.teardown(),b()},this))},this)};this.isReady=!0,this.onReady(a)},b.exports=s}).call(this,void 0!==c.g?c.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../constants":440,"../lib/fallback-error-handler":447,"../lib/lookup-callback-for":449,"../lib/node-type":450,"../lib/sanitize-payload":451,"braintree-api":21,"braintree-bus":52,"braintree-utilities":372,destructor:373,"lodash.clonedeep":418}],442:[function(a,b,c){"use strict";var d=a("lodash.clonedeep"),e=a("lodash.create"),f=a("braintree-api"),g=a("braintree-utilities").bind,h=a("braintree-coinbase"),i=a("braintree-bus"),j=a("./base-integration");function k(){var a,b;j.apply(this,arguments),a=d(this.configuration.merchantConfiguration),this._attachBusEvents(),a.channel=this.configuration.channel,a.configuration=d(this.configuration.gatewayConfiguration),a.coinbase=d(a.coinbase||{}),a.apiClient=new f.Client({enableCORS:this.configuration.merchantConfiguration.enableCORS||!1,clientToken:this.configuration.gatewayConfiguration,integration:"coinbase"}),b=h.create(a),this.destructor.registerFunctionForTeardown(function(a){b.teardown(a)}),this.bus.emit(i.events.ASYNC_DEPENDENCY_READY)}k.prototype=e(j.prototype,{constructor:k}),k.prototype._attachBusEvents=function(){this.bus.on(i.events.PAYMENT_METHOD_GENERATED,g(this._onPaymentMethodGenerated,this))},k.prototype._onPaymentMethodGenerated=function(a){this.bus.emit(i.events.PAYMENT_METHOD_RECEIVED,a)},b.exports=k},{"./base-integration":441,"braintree-api":21,"braintree-bus":52,"braintree-coinbase":56,"braintree-utilities":372,"lodash.clonedeep":418,"lodash.create":430}],443:[function(a,b,c){"use strict";var d=a("lodash.clonedeep"),e=a("lodash.create"),f=a("braintree-form"),g=a("braintree-paypal"),h=a("braintree-coinbase"),i=a("braintree-utilities"),j=a("hosted-fields"),k=a("form-napper"),l=a("../constants"),m=a("braintree-bus"),n=a("../compatibility").convertToLegacyShippingAddress,o=a("./base-integration"),p=a("../lib/node-type"),q=p.isJQueryElement,r=p.isHTMLElement,s=a("../lib/hosted-fields-nonce-manager");function t(){o.apply(this,arguments),null!=this.configuration.merchantConfiguration.hostedFields?this._setupHostedFields():this._setupForm(),this._setupPayPal(),this._setupCoinbase(),this.bus.emit(m.events.ASYNC_DEPENDENCY_READY)}t.prototype=e(o.prototype,{constructor:t}),t.prototype._setupHostedFields=function(){var a,b=this.configuration.merchantConfiguration,c=b[l.ROOT_SUCCESS_CALLBACK],d=new k(b.id),e=j.create(this.configuration),f=new s({formNapper:d,rootCallback:c,channel:this.configuration.channel});if(null==d.htmlForm){this.bus.emit(m.events.ERROR,{type:"CONFIGURATION",message:"options.id does not reference a valid DOM element"});return}a=i.bind(f.handleSubmitRequest,f),d.hijack(a),this.bus.on(m.events.USER_FORM_SUBMIT_REQUEST,a),this.destructor.registerFunctionForTeardown(i.bind(function(a){f.teardown(),d.detach(),e.teardown(a)},this))},t.prototype._setupForm=function(){var a,b,c,d=this.configuration.merchantConfiguration;d.id?(c=f.setup(this.apiClient,this.configuration),i.isFunction(d[l.ROOT_SUCCESS_CALLBACK])&&(b=this.onSuccess,c.onNonceReceived=i.bind(function(a,c){a?this.bus.emit(m.events.ERROR,a):b(c)},this)),this.destructor.registerFunctionForTeardown(function(){c.teardown()})):this.bus.on(m.events.PAYMENT_METHOD_GENERATED,i.bind(function(a){this.bus.emit(m.events.PAYMENT_METHOD_RECEIVED,a)},this))},t.prototype._setupPayPal=function(){var a,b,c,e,f,h,j,k,l=this.configuration.merchantConfiguration;if(l.paypal){k=d(l.paypal,function(a){return q(a)?a[0]:r(a)?a:void 0}),c=(a=l,b="paypal",function(c){return b in a&&i.isFunction(a[b][c])?a[b][c]:function(){}}),e=c("onSuccess"),f=c("onCancelled"),k.paymentMethodNonceInputField||((h=document.createElement("input")).id="braintree-custom-integration-dummy-input",k.paymentMethodNonceInputField=h),k.onSuccess=function(a){e(a.nonce,a.details.email,n(a.details.shippingAddress))},k.onCancelled=i.bind(function(){this.bus.emit(m.events.PAYMENT_METHOD_CANCELLED),f()},this),l.enableCORS&&(k.enableCORS=!0),j=g.create(this.configuration.gatewayConfiguration,k,this.configuration.channel),null!=j&&this.destructor.registerFunctionForTeardown(function(){j.teardown()})}},t.prototype._setupCoinbase=function(){var a,b;!(!this.configuration.merchantConfiguration.coinbase||navigator.userAgent.match(/MSIE 8\.0/))&&((a=d(this.configuration.merchantConfiguration)).channel=this.configuration.channel,a.configuration=this.configuration.gatewayConfiguration,a.apiClient=this.apiClient,delete a.paypal,b=h.create(a),this.destructor.registerFunctionForTeardown(function(a){b.teardown(a)}))},b.exports=t},{"../compatibility":439,"../constants":440,"../lib/hosted-fields-nonce-manager":448,"../lib/node-type":450,"./base-integration":441,"braintree-bus":52,"braintree-coinbase":56,"braintree-form":245,"braintree-paypal":344,"braintree-utilities":372,"form-napper":376,"hosted-fields":377,"lodash.clonedeep":418,"lodash.create":430}],444:[function(a,b,c){"use strict";var d=a("lodash.create"),e=a("braintree-dropin"),f=a("braintree-utilities"),g=a("braintree-bus"),h=a("../constants"),i=a("../lib/sanitize-payload"),j=a("./base-integration");function k(){var a,b,c,d,k,l;j.apply(this,arguments),b=(k=a=this.configuration.merchantConfiguration,f.isFunction(k.paymentMethodNonceReceived)?k.paymentMethodNonceReceived:null),c=(l=a,f.isFunction(l[h.ROOT_SUCCESS_CALLBACK])),(b||c)&&(a.paymentMethodNonceReceived=f.bind(function(a){b&&b(a.originalEvent,a.nonce),this.bus.emit(g.events.PAYMENT_METHOD_RECEIVED,i(a))},this)),d=e.create(this.configuration),this.destructor.registerFunctionForTeardown(function(a){d.teardown(a)}),this.bus.emit(g.events.ASYNC_DEPENDENCY_READY)}k.prototype=d(j.prototype,{constructor:k}),b.exports=k},{"../constants":440,"../lib/sanitize-payload":451,"./base-integration":441,"braintree-bus":52,"braintree-dropin":236,"braintree-utilities":372,"lodash.create":430}],445:[function(a,b,c){"use strict";b.exports={custom:a("./custom"),dropin:a("./dropin"),paypal:a("./paypal"),coinbase:a("./coinbase")}},{"./coinbase":442,"./custom":443,"./dropin":444,"./paypal":446}],446:[function(a,b,c){"use strict";var d=a("lodash.create"),e=a("braintree-paypal"),f=a("braintree-utilities"),g=a("../constants"),h=a("braintree-bus"),i=a("../compatibility").convertToLegacyShippingAddress,j=a("./base-integration");function k(){var a,b,c,d,k,l;j.apply(this,arguments),b="onSuccess"in(k=a=this.configuration.merchantConfiguration)&&f.isFunction(k.onSuccess)?k.onSuccess:"paypal"in k&&f.isFunction(k.paypal.onSuccess)?k.paypal.onSuccess:null,c=(l=a,f.isFunction(l[g.ROOT_SUCCESS_CALLBACK])),(b||c)&&(a.onSuccess=f.bind(function(a){b&&b(a.nonce,a.details.email,i(a.details.shippingAddress)),this.bus.emit(h.events.PAYMENT_METHOD_RECEIVED,a)},this)),d=e.create(this.configuration.gatewayConfiguration,a,this.configuration.channel),this.destructor.registerFunctionForTeardown(function(){d.teardown()}),this.bus.emit(h.events.ASYNC_DEPENDENCY_READY)}k.prototype=d(j.prototype,{constructor:k}),b.exports=k},{"../compatibility":439,"../constants":440,"./base-integration":441,"braintree-bus":52,"braintree-paypal":344,"braintree-utilities":372,"lodash.create":430}],447:[function(a,b,c){"use strict";b.exports=function(a){if("CONFIGURATION"===a.type||"IMMEDIATE"===a.type)throw Error(a.message);try{console.error(JSON.stringify(a))}catch(b){}}},{}],448:[function(a,b,c){"use strict";var d=a("braintree-bus"),e=a("hosted-fields"),f="web.custom.hosted-fields.via.",g="payment_method_nonce";function h(a){this.paymentMethod=null,this.nonceInputElement=null,this.bus=new d({channel:a.channel}),this.formNapper=a.formNapper,this.rootCallback=a.rootCallback,this._attachEvents()}h.prototype._clearNonce=function(){this.paymentMethod=null,this.nonceInputElement=this.formNapper.inject(g,"")},h.prototype._attachEvents=function(){var a=this;this.bus.on(d.events.PAYMENT_METHOD_CANCELLED,function(){a._clearNonce()}),this.bus.on(d.events.PAYMENT_METHOD_GENERATED,function(b){a.paymentMethod=b,a.nonceInputElement=a.formNapper.inject(g,a.paymentMethod.nonce)})},h.prototype.handleSubmitRequest=function(){var a=this;this.bus.emit(e.events.TOKENIZATION_REQUEST,function(b){var c=b[0],h=b[1];if(c){a.bus.emit(d.events.ERROR,c);return}if(a.paymentMethod=h||a.paymentMethod,null==a.paymentMethod){a.bus.emit(e.events.VALIDATE_STRICT),a.bus.emit(d.events.ERROR,{type:"VALIDATION",message:"User did not enter a payment method"});return}a.rootCallback?a.bus.emit(d.events.SEND_ANALYTICS_EVENTS,f+"callback.success",function(){a.rootCallback(a.paymentMethod)}):a.bus.emit(d.events.SEND_ANALYTICS_EVENTS,f+"formsubmit.success",function(){a.nonceInputElement=a.formNapper.inject(g,a.paymentMethod.nonce),a.formNapper.submit()})})},h.prototype.teardown=function(){this._clearNonce()},b.exports=h},{"braintree-bus":52,"hosted-fields":377}],449:[function(a,b,c){"use strict";var d=a("braintree-utilities").isFunction;function e(){}b.exports=function(a){return function(b,c){return d(a[b])?a[b]:d(c)?c:e}}},{"braintree-utilities":372}],450:[function(a,b,c){"use strict";b.exports={isJQueryElement:function(a){return"object"==typeof a&&"jquery"in a&&0!==a.length},isHTMLElement:function(a){return a&&1===a.nodeType}}},{}],451:[function(a,b,c){"use strict";b.exports=function(a){return{nonce:a.nonce,details:a.details,type:a.type}}},{}]},{},[1])(1)})},46263(a,b,c){"use strict";function d(a,b=0,{start:c=!0,middle:d=!0,once:e=!1}={}){let f=0,g,h=!1;function i(...j){if(h)return;let k=Date.now()-f;f=Date.now(),c?(c=!1,a.apply(this,j),e&&i.cancel()):(d&&k<b||!d)&&(clearTimeout(g),g=setTimeout(()=>{f=Date.now(),a.apply(this,j),e&&i.cancel()},d?b-k:b))}return i.cancel=()=>{clearTimeout(g),h=!0},i}function e(a,b=0,{start:c=!1,middle:e=!1,once:f=!1}={}){return d(a,b,{start:c,middle:e,once:f})}c.d(b,{D:()=>e,P:()=>d})},45975(a,b){!function(a,c){c(b)}(self,function(a){"use strict";var b,c,d,e,f="z_hppm_iframe",g=!1,h=function(){var a="warn",b="info",c="debug",d=a,e=["error",a,b,c];function f(a){var b;for(b=0;b<e.length;b++)if(e[b]===a)return b;return -1}function g(){var b,c=document.location.href,e=c.indexOf("?");if(e<0)return d;var g=c.indexOf("#");g<0&&(g=c.length);var h=c.slice(e+1,g);if(!h)return d;var i=h.split("&");for(b=0;b<i.length;b++){var j=i[b].split("="),k=j[0],l=j[1];if("zlog_level"===k&&f(l)>=0)return l}return a}return{getLevel:function(){return g()},debug:function(a){console&&console.log&&f(g())>=f(c)&&console.log(a)},info:function(a){console&&console.info&&f(g())>=f(b)&&console.info(a)},warn:function(a){console&&console.warn&&console.warn(a)},error:function(a){console&&console.error&&console.error(a)}}}(),i=(e=1,{postMessage:function(a,b,c){h.debug("Posting message[O]: target_url="+b+", payload="+a),b&&(c=c||parent,window.postMessage?c.postMessage(a,b.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):b&&(c.location=b.replace(/#.*$/,"")+"#"+ +new Date+e+++"&"+a))},receiveMessage:function(a){window.postMessage?(a&&(d=function(b){var c,d,e=/^https?:\/\/localhost(:\d{4,5})?$/;if(h.debug("Received message[O]: origin="+b.origin),"string"==typeof b.origin&&(c=b.origin,!(/^https:\/\/([a-z0-9]+(-[a-z0-9]+)*\.)*zuora\.com$/.test(c.toLowerCase())||e.test(d=b.origin))))return h.info("Stopped processing none-zuora message."),!1;a(b)}),window.addEventListener?window[a?"addEventListener":"removeEventListener"]("message",d,!1):window[a?"attachEvent":"detachEvent"]("onmessage",d)):(b&&clearInterval(b),b=null,a&&(b=setInterval(function(){var b=document.location.hash,d=/^#?\d+&/;b!==c&&d.test(b)&&(c=b,a({data:b.replace(d,"")}))},100)))}}),j=function(){var a,b,c,d,e,l,m="#z_hppm_iframe {background-color: #FAFAFA;vertical-align:bottom;z-index:9999;display:block;padding:0px;margin: 0px; border:0px solid #DDD;}",n=["tenantId","id","token","signature","key","style","submitEnabled","url"],o=["creditCardNumber","cardSecurityCode","creditCardExpirationYear","creditCardExpirationMonth","bankAccountNumber","bankAccountName","ipAddress"],p={},q=null,r=null;function s(a){return a&&"function"==typeof a}return i.receiveMessage(function(a){try{var b=a.data;h.debug("Received message[O]: payload="+b),(b=JSON.parse(b)).success?s(p.init)&&p.init(b):!1==b.success?(j.deactivateOverlay("z-overlay"),j.deactivateOverlay("z-container"),p.init&&p.init(b)):"close"==b.action?(j.deactivateOverlay("z-overlay"),j.deactivateOverlay("z-container")):"resize"==b.action?j.receive(b):"allowScroll"==b.action&&j.allowScroll(b),"validate"===b.action&&s(p.validate)?p.validate(b):"customizeErrorMessage"==b.action&&s(p.customizeErrorMessage)?p.customizeErrorMessage(b.key,b.code,b.message):b.action&&s(p[b.action])&&p[b.action](b)}catch(c){return}}),{validateRequiredParams:function(a){var b,c=n.length;for(b=0;b<c;b++)if(!a.hasOwnProperty(n[b])){if("submitEnabled"==n[b]&&"overlay"==a.style.toLowerCase())continue;var d="Param with key ["+n[b]+"] is required.";return alert(d),j.isIE()||console.log(d),!1}return!0},isIE:function(){var a=window.navigator.userAgent,b=a.indexOf("MSIE "),c=a.indexOf("Trident/");return b>0||c>0&&(a.indexOf("rv:"),!0)},validatePCIParams:function(a){var b,c=o.length;for(b=0;b<c;b++){var d="field_"+o[b];if(a.hasOwnProperty(d)&&0<a[d].trim().length&&a[d].trim().length<300){var e="Field ["+d+"] for Credit Card payment method type should be encrypted for pre-population";return alert(e),j.isIE()||console.log(e),!1}}return!0},init:function(b,d){c="?method=requestPage&host="+encodeURIComponent(document.location.href)+"&",c+="fromHostedPage=true&";var f=j.validateRequiredParams(b);if(!f||!(f=j.validatePCIParams(b)))return!1;var g=JSON.stringify(b,function(b,d){if(""!=b){if("key"==b)e=d;else if("url"==b){var f=/^https:\/\/([a-z0-9]+(-[a-z0-9]+)*\.)+zuora\.com\/.+$/;h.info("HPM integration[O]: url="+d),f.test(d)||h.warn("HPM integration[O]: None-official zuora HPM integration url is detected: "+d),a=d}else c=c+b+"="+encodeURIComponent(d)+"&"}return d});l=JSON.parse(g),p.init=d;var i=o.length;if(b)for(var k=0;k<i;k++){var m="field_"+o[k];b.hasOwnProperty(m)&&(b[m]="")}return!0},prepopulate:function(a){if(!g){var c=j.createIframeURL();if(c==document.getElementById(f).src||document.getElementById(f).src.indexOf(c)>=0&&l.hasOwnProperty("customizeErrorRequired")&&"true"==l.customizeErrorRequired){JSON.stringify(a,function(a,b){if(""!=a){var c="setField("+a+":"+b+")";j.post(f,c)}return b});var d="setField(key:"+e+")";j.post(f,d),j.post(f,"setField(style:"+l.style+")"),l.hasOwnProperty("customizeErrorRequired")&&"true"==l.customizeErrorRequired&&(j.post(f,"customizeErrorRequired"),l.customizeErrorRequired="false"),j.post(f,"resize"),b&&b()}b&&(b=null)}},contains:function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return!0;return!1},renderWithErrorHandler:function(a,b,c,d,e,f){a.customizeErrorRequired="true",j.render(a,b,c,e,f),j.customizeErrorHandler(d)},runAfterRender:function(a){b=a},render:function(a,b,c,e,f){null!=e&& void 0!=e&&(q=e),null!=f&& void 0!=f&&(r=f);var h=o.length;if(g=!1,b&&b.creditCardCountry&&("USA"===b.creditCardCountry||"CAN"===b.creditCardCountry)&&(b.creditCardState=b.creditCardState||" "),b)for(var i=0;i<h;i++){var k="field_"+o[i];b.hasOwnProperty(o[i])&&(a[k]=b[o[i]])}if(j.init(a,c)){if(b)for(i=0,h=Object.keys(b).length,d=function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}(b);i<h;i++){var m=Object.keys(b)[i];j.contains(o,m)&&delete d[m]}else d=null;var n=document.getElementById("zuora_payment");if(void 0===n||!n)return{error:"invalid_request",error_description:"The container you specified does not exist"};if(n.innerHTML="",j.cleanUp(n,"z-overlay"),j.cleanUp(n,"z-container"),"inline"==l.style){j.addInlineStyles(),j.createIframe(n);return}if("overlay"==l.style){j.addOverlayStyles();var p=j.generateDiv("z-overlay","z-overlay");n.appendChild(p);var s=j.generateDiv("z-container","z-container");n.appendChild(s);var t=j.generateDiv("z-data","z-data");t.tabindex="-1",s.appendChild(t),j.createIframe(document.getElementById("z-data")),j.activateOverlay("z-overlay")}}},cleanUp:function(a,b){var c=document.getElementById(b);null!=c&&a.removeChild(c)},activateOverlay:function(a){try{document.getElementById(a).style.display="inline"}catch(b){}},deactivateOverlay:function(a){try{document.getElementById(a).style.display="none"}catch(b){}},generateDiv:function(a,b,c){var d=document.createElement("div");return d.id=a,d.className=b,d.border="0",d.addEventListener?d.addEventListener("click",c,!1):d.attachEvent("click",c),d},addOverlayStyles:function(){var a=document.createElement("style");a.type="text/css";var b=document.createTextNode("#z-overlay {filter: alpha(opacity=50);opacity:0.5;display:inline-block;position:fixed;top:0;left:0;width:100%;height:100%;background-color: #000;z-index: 1001;}"),c=document.createTextNode("#z-container {border:1px;float:left; overflow: visible; position: absolute;padding: 0px; display: inline-block; top:5%; left:34%; margin: 0 auto;-webkit-border-radius: 5px;-moz-border-radius: 5px;border-radius:5px;background-color: #FAFAFA; border:1px solid #FAFAFA;border-top-color:#EDEDED;behavior: url(js/PIE.htc);z-index: 1002;}"),d=document.createTextNode("#z-data {height: 100%; outline: 0px; width: 100%; overflow: visible;display: inline-block;border:1px; -webkit-border-radius: 5px;-moz-border-radius: 5px;border-radius:5px;}"),e=document.createTextNode(m),f=document.createTextNode("#reset{*, *:before, *:after {display: inline-block;-webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;}}");a.styleSheet?a.styleSheet.cssText=b.nodeValue+" "+c.nodeValue+" "+d.nodeValue+" "+f.nodeValue+" "+e.nodeValue:(a.appendChild(b),a.appendChild(c),a.appendChild(d),a.appendChild(e),a.appendChild(f)),document.getElementsByTagName("head")[0].appendChild(a)},addInlineStyles:function(){var a=document.createElement("style");a.type="text/css";var b=document.createTextNode(m);a.styleSheet?a.styleSheet.cssText=b.nodeValue:a.appendChild(b),document.getElementsByTagName("head")[0].appendChild(a)},createIframe:function(a,b){var c=j.createIframeURL(),e=document.createElement("iframe");e.setAttribute("src",c),e.setAttribute("id",f),e.setAttribute("overflow","visible"),e.setAttribute("scrolling","no"),e.setAttribute("frameBorder","0"),e.setAttribute("allowtransparency","true"),e.setAttribute("class","z_hppm_iframe"),e.setAttribute("width","100%"),e.setAttribute("height","100%"),e.addEventListener?e.addEventListener("load",function(a){return j.prepopulate(d),!1},!1):e.attachEvent("onload",function(){return j.prepopulate(d),!1}),void 0!==b&& void 0!==b.vertical&&b.vertical&&(e.style.width="100%",e.style.height="100%"),a.appendChild(e)},createIframeURL:function(){return a.concat(c).concat("zlog_level="+h.getLevel())},post:function(a,b){var c=document.getElementById(a),d=encodeURIComponent(document.location.href),e=c.src;return -1>=e.indexOf(d)&&(c.src=e+"#"+d),i.postMessage(b,e,c.contentWindow),!1},allowScroll:function(a){if(f){var b=document.getElementById(f);b&&(b.setAttribute("scrolling","yes"),g=!0)}},receive:function(a){k.resizeCaller(f,a.action,a.height,a.width,q,r)},validate:function(a){if(null==a|| void 0==a){j.closeWindow();var b="Validate function required.";return alert(b),j.isIE()||console.log(b),!1}p.validate=a,j.post(f,"validate")},customizeErrorHandler:function(a){if(null==a|| void 0==a){j.closeWindow();var b="Customized error message function required.";return alert(b),j.isIE()||console.log(b),!1}p.customizeErrorMessage=a},sendErrorMessageToHpm:function(a,b){var c=JSON.stringify({action:"customizeErrorMessage",key:a,message:b});j.post(f,c)},closeWindow:function(){j.deactivateOverlay("z-overlay"),j.deactivateOverlay("z-container")},submit:function(){var a=document.getElementById(f).src+"#"+encodeURIComponent(document.location.href);return document.getElementById(f).src=a,i.postMessage("postPage",a,document.getElementById(f).contentWindow),!0},setEventHandler:function(a,b){a&&b&&(p[a]=b)}}}(),k=(parseFloat(navigator.userAgent.substring(navigator.userAgent.indexOf("Firefox")).split("/")[1]),{resizeCaller:function(a,b,c,d,e,f){k.resizeIframe(a,b,c,d,e,f),document.all||document.getElementById},resizeIframe:function(a,b,c,d,e,f){var g=document.getElementById(a);if(g){if(g.style.display="block",null!=e&& void 0!=e)try{!isNaN(e)&&e.length>0?g.width=Number(e):g.width=Number(d)}catch(h){g.width=Number(d)}else g.width=Number(d);if(null!=f&& void 0!=f)try{!isNaN(f)&&f.length>0?g.height=Number(f):g.height=Number(c)}catch(i){g.height=Number(c)}else g.height=Number(c)}}});a.Z=j,Object.defineProperty(a,"__esModule",{value:!0})})},59753(a,b,c){"use strict";function d(){if(!(this instanceof d))return new d;this.size=0,this.uid=0,this.selectors=[],this.selectorObjects={},this.indexes=Object.create(this.indexes),this.activeIndexes=[]}c.d(b,{f:()=>B,on:()=>A});var e,f=window.document.documentElement,g=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector;d.prototype.matchesSelector=function(a,b){return g.call(a,b)},d.prototype.querySelectorAll=function(a,b){return b.querySelectorAll(a)},d.prototype.indexes=[];var h=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;d.prototype.indexes.push({name:"ID",selector:function(a){var b;if(b=a.match(h))return b[0].slice(1)},element:function(a){if(a.id)return[a.id]}});var i=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;d.prototype.indexes.push({name:"CLASS",selector:function(a){var b;if(b=a.match(i))return b[0].slice(1)},element:function(a){var b=a.className;if(b){if("string"==typeof b)return b.split(/\s/);if("object"==typeof b&&"baseVal"in b)return b.baseVal.split(/\s/)}}});var j=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;d.prototype.indexes.push({name:"TAG",selector:function(a){var b;if(b=a.match(j))return b[0].toUpperCase()},element:function(a){return[a.nodeName.toUpperCase()]}}),d.prototype.indexes.default={name:"UNIVERSAL",selector:function(){return!0},element:function(){return[!0]}},e="function"==typeof window.Map?window.Map:function(){function a(){this.map={}}return a.prototype.get=function(a){return this.map[a+" "]},a.prototype.set=function(a,b){this.map[a+" "]=b},a}();var k=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function l(a,b){var c,d,e,f,g,h,i=(a=a.slice(0).concat(a.default)).length,j=b,l=[];do if(k.exec(""),(e=k.exec(j))&&(j=e[3],e[2]||!j)){for(c=0;c<i;c++)if(g=(h=a[c]).selector(e[1])){for(d=l.length,f=!1;d--;)if(l[d].index===h&&l[d].key===g){f=!0;break}f||l.push({index:h,key:g});break}}while(e)return l}function m(a,b){var c,d,e;for(c=0,d=a.length;c<d;c++)if(e=a[c],b.isPrototypeOf(e))return e}function n(a,b){return a.id-b.id}d.prototype.logDefaultIndexUsed=function(){},d.prototype.add=function(a,b){var c,d,f,g,h,i,j,k,n=this.activeIndexes,o=this.selectors,p=this.selectorObjects;if("string"==typeof a){for(d=0,p[(c={id:this.uid++,selector:a,data:b}).id]=c,j=l(this.indexes,a);d<j.length;d++)g=(k=j[d]).key,f=k.index,h=m(n,f),h||((h=Object.create(f)).map=new e,n.push(h)),f===this.indexes.default&&this.logDefaultIndexUsed(c),i=h.map.get(g),i||(i=[],h.map.set(g,i)),i.push(c);this.size++,o.push(a)}},d.prototype.remove=function(a,b){if("string"==typeof a){var c,d,e,f,g,h,i,j,k=this.activeIndexes,m=this.selectors=[],n=this.selectorObjects,o={},p=1===arguments.length;for(e=0,c=l(this.indexes,a);e<c.length;e++)for(d=c[e],f=k.length;f--;)if(h=k[f],d.index.isPrototypeOf(h)){if(i=h.map.get(d.key))for(g=i.length;g--;)(j=i[g]).selector===a&&(p||j.data===b)&&(i.splice(g,1),o[j.id]=!0);break}for(e in o)delete n[e],this.size--;for(e in n)m.push(n[e].selector)}},d.prototype.queryAll=function(a){if(!this.selectors.length)return[];var b,c,d,e,f,g,h,i,j={},k=[],l=this.querySelectorAll(this.selectors.join(", "),a);for(b=0,d=l.length;b<d;b++)for(c=0,f=l[b],e=(g=this.matches(f)).length;c<e;c++)j[(i=g[c]).id]?h=j[i.id]:(h={id:i.id,selector:i.selector,data:i.data,elements:[]},j[i.id]=h,k.push(h)),h.elements.push(f);return k.sort(n)},d.prototype.matches=function(a){if(!a)return[];var b,c,d,e,f,g,h,i,j,k,l,m=this.activeIndexes,o={},p=[];for(b=0,e=m.length;b<e;b++)if(i=(h=m[b]).element(a)){for(c=0,f=i.length;c<f;c++)if(j=h.map.get(i[c]))for(d=0,g=j.length;d<g;d++)!o[l=(k=j[d]).id]&&this.matchesSelector(a,k.selector)&&(o[l]=!0,p.push(k))}return p.sort(n)};var o={},p={},q=new WeakMap,r=new WeakMap,s=new WeakMap,t=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function u(a,b,c){var d=a[b];return a[b]=function(){return c.apply(a,arguments),d.apply(a,arguments)},a}function v(){q.set(this,!0)}function w(){q.set(this,!0),r.set(this,!0)}function x(){return s.get(this)||null}function y(a,b){t&&Object.defineProperty(a,"currentTarget",{configurable:!0,enumerable:!0,get:b||t.get})}function z(a){if(function(a){try{return a.eventPhase,!0}catch(b){return!1}}(a)){var b=(1===a.eventPhase?p:o)[a.type];if(b){var c=function(a,b,c){var d=[],e=b;do{if(1!==e.nodeType)break;var f=a.matches(e);if(f.length){var g={node:e,observers:f};c?d.unshift(g):d.push(g)}}while(e=e.parentElement)return d}(b,a.target,1===a.eventPhase);if(c.length){u(a,"stopPropagation",v),u(a,"stopImmediatePropagation",w),y(a,x);for(var d=0,e=c.length;d<e&&!q.get(a);d++){var f=c[d];s.set(a,f.node);for(var g=0,h=f.observers.length;g<h&&!r.get(a);g++)f.observers[g].data.call(f.node,a)}s.delete(a),y(a)}}}}function A(a,b,c){var e=arguments.length>3&& void 0!==arguments[3]?arguments[3]:{},f=!!e.capture,g=f?p:o,h=g[a];h||(h=new d,g[a]=h,document.addEventListener(a,z,f)),h.add(b,c)}function B(a,b,c){return a.dispatchEvent(new CustomEvent(b,{bubbles:!0,cancelable:!0,detail:c}))}},28382(a,b,c){"use strict";c.d(b,{Q:()=>e});var d="<unknown>";function e(a){return a.split("\n").reduce(function(a,b){var c=h(b)||j(b)||m(b)||q(b)||o(b);return c&&a.push(c),a},[])}var f=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,g=/\((\S*)(?::(\d+))(?::(\d+))\)/;function h(a){var b=f.exec(a);if(!b)return null;var c=b[2]&&0===b[2].indexOf("native"),e=b[2]&&0===b[2].indexOf("eval"),h=g.exec(b[2]);return e&&null!=h&&(b[2]=h[1],b[3]=h[2],b[4]=h[3]),{file:c?null:b[2],methodName:b[1]||d,arguments:c?[b[2]]:[],lineNumber:b[3]?+b[3]:null,column:b[4]?+b[4]:null}}var i=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function j(a){var b=i.exec(a);return b?{file:b[2],methodName:b[1]||d,arguments:[],lineNumber:+b[3],column:b[4]?+b[4]:null}:null}var k=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,l=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function m(a){var b=k.exec(a);if(!b)return null;var c=b[3]&&b[3].indexOf(" > eval")> -1,e=l.exec(b[3]);return c&&null!=e&&(b[3]=e[1],b[4]=e[2],b[5]=null),{file:b[3],methodName:b[1]||d,arguments:b[2]?b[2].split(","):[],lineNumber:b[4]?+b[4]:null,column:b[5]?+b[5]:null}}var n=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function o(a){var b=n.exec(a);return b?{file:b[3],methodName:b[1]||d,arguments:[],lineNumber:+b[4],column:b[5]?+b[5]:null}:null}var p=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function q(a){var b=p.exec(a);return b?{file:b[2],methodName:b[1]||d,arguments:[],lineNumber:+b[3],column:b[4]?+b[4]:null}:null}},45341(a,b,c){"use strict";c.d(b,{nn:()=>av,Gb:()=>au});var d={};c.r(d),c.d(d,{abortSignalAbort:()=>q,apply:()=>t,isPolyfilled:()=>s,isSupported:()=>r});var e={};c.r(e),c.d(e,{abortSignalTimeout:()=>u,apply:()=>x,isPolyfilled:()=>w,isSupported:()=>v});var f={};c.r(f),c.d(f,{AggregateError:()=>AggregateError,apply:()=>A,isPolyfilled:()=>z,isSupported:()=>y});var g={};c.r(g),c.d(g,{apply:()=>F,arrayLikeAt:()=>C,isPolyfilled:()=>E,isSupported:()=>D});var h={};c.r(h),c.d(h,{apply:()=>J,isPolyfilled:()=>I,isSupported:()=>H,randomUUID:()=>G});var i={};c.r(i),c.d(i,{apply:()=>N,isPolyfilled:()=>M,isSupported:()=>L,replaceChildren:()=>K});var j={};c.r(j),c.d(j,{addEventListenerWithAbortSignal:()=>P,apply:()=>S,isPolyfilled:()=>R,isSupported:()=>Q});var k={};c.r(k),c.d(k,{apply:()=>W,isPolyfilled:()=>V,isSupported:()=>U,requestSubmit:()=>T});var l={};c.r(l),c.d(l,{apply:()=>aa,isPolyfilled:()=>_,isSupported:()=>Z,objectHasOwn:()=>Y});var m={};c.r(m),c.d(m,{apply:()=>ae,isPolyfilled:()=>ad,isSupported:()=>ac,promiseAllSettled:()=>ab});var n={};c.r(n),c.d(n,{apply:()=>ai,isPolyfilled:()=>ah,isSupported:()=>ag,promiseAny:()=>af});var o={};c.r(o),c.d(o,{apply:()=>an,cancelIdleCallback:()=>ak,isPolyfilled:()=>am,isSupported:()=>al,requestIdleCallback:()=>aj});var p={};function q(a){let b=new AbortController;return b.abort(a),b.signal}function r(){return"abort"in AbortSignal&&"function"==typeof AbortSignal.abort}function s(){return AbortSignal.abort===q}function t(){r()||(AbortSignal.abort=q)}function u(a){let b=new AbortController;return setTimeout(()=>b.abort(new DOMException("TimeoutError")),a),b.signal}function v(){return"abort"in AbortSignal&&"function"==typeof AbortSignal.timeout}function w(){return AbortSignal.timeout===u}function x(){v()||(AbortSignal.timeout=u)}c.r(p),c.d(p,{apply:()=>ar,isPolyfilled:()=>aq,isSupported:()=>ap,stringReplaceAll:()=>ao});class AggregateError extends Error{constructor(a,b,c={}){super(b),Object.defineProperty(this,"errors",{value:Array.from(a),configurable:!0,writable:!0}),c.cause&&Object.defineProperty(this,"cause",{value:c.cause,configurable:!0,writable:!0})}}function y(){return"function"==typeof globalThis.AggregateError}function z(){return globalThis.AggregateError===AggregateError}function A(){y()||(globalThis.AggregateError=AggregateError)}let B=Reflect.getPrototypeOf(Int8Array);function C(a){let b=this.length;return(a=Math.trunc(a)||0)<0&&(a+=b),a<0||a>=b?void 0:this[a]}function D(){return"at"in Array.prototype&&"function"==typeof Array.prototype.at&&"at"in String.prototype&&"function"==typeof String.prototype.at&&"function"==typeof B&&"at"in B.prototype&&"function"==typeof B.prototype.at}function E(){return Array.prototype.at===C&&String.prototype.at===C&&"function"==typeof B&&B.prototype.at===C}function F(){if(!D()){let a={value:C,writable:!0,configurable:!0};Object.defineProperty(Array.prototype,"at",a),Object.defineProperty(String.prototype,"at",a),Object.defineProperty(B,"at",a)}}function G(){let a=new Uint32Array(4);crypto.getRandomValues(a);let b=-1;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){b++;let d=a[b>>3]>>b%8*4&15;return("x"===c?d:3&d|8).toString(16)})}function H(){return"object"==typeof crypto&&"randomUUID"in crypto&&"function"==typeof crypto.randomUUID}function I(){return H()&&crypto.randomUUID===G}function J(){H()||(crypto.randomUUID=G)}function K(...a){for(;this.firstChild;)this.removeChild(this.firstChild);this.append(...a)}function L(){return"replaceChildren"in Element.prototype&&"function"==typeof Element.prototype.replaceChildren&&"replaceChildren"in Document.prototype&&"function"==typeof Document.prototype.replaceChildren&&"replaceChildren"in DocumentFragment.prototype&&"function"==typeof DocumentFragment.prototype.replaceChildren}function M(){return Element.prototype.replaceChildren===K&&Document.prototype.replaceChildren===K&&DocumentFragment.prototype.replaceChildren===K}function N(){L()||(Element.prototype.replaceChildren=Document.prototype.replaceChildren=DocumentFragment.prototype.replaceChildren=K)}let O=EventTarget.prototype.addEventListener;function P(a,b,c){if("object"==typeof c&&"signal"in c&&c.signal instanceof AbortSignal){if(c.signal.aborted)return;O.call(c.signal,"abort",()=>{this.removeEventListener(a,b,c)})}return O.call(this,a,b,c)}function Q(){let a=!1;function b(){}let c=Object.create({},{signal:{get:()=>a=!0}});try{let d=new EventTarget;return d.addEventListener("test",b,c),d.removeEventListener("test",b,c),a}catch{return a}}function R(){return EventTarget.prototype.addEventListener===P}function S(){"function"!=typeof AbortSignal||Q()||(EventTarget.prototype.addEventListener=P)}function T(a=null){let b=new SubmitEvent("submit",{bubbles:!0,cancelable:!0,submitter:a}),c;a&&a.name&&(c=Object.assign(document.createElement("input"),{type:"hidden",hidden:!0,name:a.name,value:a.value}),this.append(c)),this.checkValidity()&&!this.dispatchEvent(b)&&this.submit(),c?.remove()}function U(){return"requestSubmit"in HTMLFormElement.prototype&&"function"==typeof HTMLFormElement.prototype.requestSubmit}function V(){return HTMLFormElement.prototype.requestSubmit===T}function W(){U()||(HTMLFormElement.prototype.requestSubmit=T)}let X=Object.prototype.hasOwnProperty;function Y(a,b){if(null==a)throw TypeError("Cannot convert undefined or null to object");return X.call(Object(a),b)}function Z(){return"hasOwn"in Object&&"function"==typeof Object.hasOwn}function _(){return Object.hasOwn===Y}function aa(){Z()||Object.defineProperty(Object,"hasOwn",{value:Y,configurable:!0,writable:!0})}function ab(a){return Promise.all(a.map(a=>Promise.resolve(a).then(a=>({status:"fulfilled",value:a}),a=>({status:"rejected",reason:a}))))}function ac(){return"allSettled"in Promise&&"function"==typeof Promise.allSettled}function ad(){return Promise.all===ab}function ae(){ac()||(Promise.allSettled=ab)}function af(a){return new Promise((b,c)=>{let d=!1,e=Array.from(a),f=[];function g(a){d||(d=!0,b(a))}function h(a){f.push(a),f.length===e.length&&c(new globalThis.AggregateError(f,"All Promises rejected"))}for(let i of e)Promise.resolve(i).then(g,h)})}function ag(){return"any"in Promise&&"function"==typeof Promise.any}function ah(){return Promise.all===af}function ai(){ag()||(Promise.any=af)}function aj(a,b={}){let c=Date.now(),d=b.timeout||0,e=Object.defineProperty({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-c))},"didTimeout",{get:()=>Date.now()-c>d});return window.setTimeout(()=>{a(e)})}function ak(a){clearTimeout(a)}function al(){return"function"==typeof globalThis.requestIdleCallback}function am(){return globalThis.requestIdleCallback===aj&&globalThis.cancelIdleCallback===ak}function an(){al()||(globalThis.requestIdleCallback=aj,globalThis.cancelIdleCallback=ak)}function ao(a,b){if(a instanceof RegExp)return this.replace(a,b);let c=-1,d=0,e="";if("function"==typeof b){let f=b;b=()=>f(a,c,this)}for(c=this.indexOf(a,c+1);-1!==c;)e+=this.substring(d,c),e+=a.replace(a,b),d=c+a.length,c=this.indexOf(a,c+1);return e+this.substring(d)}function ap(){return"replaceAll"in String.prototype&&"function"==typeof String.prototype.replaceAll}function aq(){return String.prototype.replaceAll===ao}function ar(){ap()||(String.prototype.replaceAll=ao)}let as="function"==typeof Blob&&"function"==typeof PerformanceObserver&&"object"==typeof Intl&&"function"==typeof MutationObserver&&"function"==typeof URLSearchParams&&"function"==typeof WebSocket&&"function"==typeof IntersectionObserver&&"function"==typeof queueMicrotask&&"function"==typeof TextEncoder&&"function"==typeof TextDecoder&&"object"==typeof customElements&&"function"==typeof HTMLDetailsElement&&"function"==typeof AbortController&&"function"==typeof AbortSignal&&"object"==typeof globalThis&&"entries"in FormData.prototype&&"toggleAttribute"in Element.prototype&&"fromEntries"in Object&&"flatMap"in Array.prototype&&"trimEnd"in String.prototype&&"matchAll"in String.prototype,at={abortSignalAbort:d,abortSignalTimeout:e,aggregateError:f,arrayAt:g,cryptoRandomUUID:h,elementReplaceChildren:i,eventAbortSignal:j,formRequestSubmit:k,objectHasOwn:l,promiseAllSettled:m,promiseAny:n,requestIdleCallback:o,stringReplaceAll:p};function au(){return as&&Object.values(at).every(a=>a.isSupported())}function av(){for(let a of Object.values(at))a.apply()}},82918(a,b,c){"use strict";c.d(b,{b:()=>f});let d;function e(){return`${Math.round(2147483647*Math.random())}.${Math.round(Date.now()/1e3)}`}function f(){try{let a=function(){let a,b=document.cookie,c=b.match(/_octo=([^;]+)/g);if(!c)return;let d=[0,0];for(let e of c){let[,f]=e.split("="),[,g,...h]=f.split("."),i=g.split("-").map(Number);i>d&&(d=i,a=h.join("."))}return a}();if(a)return a;let b=e();return!function(a){let b=`GH1.1.${a}`,c=Date.now(),d=new Date(c+31536e6).toUTCString(),{domain:e}=document;e.endsWith(".github.com")&&(e="github.com"),document.cookie=`_octo=${b}; expires=${d}; path=/; domain=${e}; secure; samesite=lax`}(b),b}catch(c){return d||(d=e()),d}}},15205(a,b,c){"use strict";function d(...a){return JSON.stringify(a,(a,b)=>"object"==typeof b?b:String(b))}function e(a,b={}){let{hash:c=d,cache:e=new Map}=b;return function(...b){let d=c.apply(this,b);if(e.has(d))return e.get(d);let f=a.apply(this,b);return f instanceof Promise&&(f=f.catch(a=>{throw e.delete(d),a})),e.set(d,f),f}}c.d(b,{Z:()=>e})}}])
//# sourceMappingURL=vendors-node_modules_github_braintree-encryption_target_braintree-1_3_10_js-node_modules_gith-93a78d-054734995b8b.js.map